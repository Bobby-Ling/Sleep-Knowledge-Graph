[metadata]
file_name = "中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md"
processed_at = "2024-12-12 01:33:57"
total_pairs = 43

[[message_pairs]]
timestamp = "2024-12-12 01:32:58"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/001-中国儿童阻塞性睡眠呼吸暂停诊断与治疗OSA.md
[文本块]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗OSA  
中国儿童OSA诊断与治疗指南制订工作组  
中华医学会耳鼻咽喉头颈外科学分会小儿学组  
中华医学会儿科学分会呼吸学组  
中华医学会小儿外科学分会  
中华耳鼻咽喉头颈外科杂志编辑委员会  
2017YFC0112502  
2018‐1‐2091科 100045  
Email:nixin@bch.com.cn  
2070301  
DFL20191201  
DOI: 10.3760/cma.j.cn115330‐20200521‐00431(1192070301)  
北京市医院管理中心“登峰\"计划专项(DFL20191201)  
DOI: 10.3760/cma.j.cn115330-20200521-00431  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:00"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/005-指南临床问题推荐意见证据概述和推荐说明.md
[文本块]
指南临床问题、推荐意见、证据概述和推荐说明  
本指南采用推荐意见分级的评估、制订及评价方法（grading of recommendations assessment, development and evaluation, GRADE）。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:09"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/003-指南的目标人群.md
[文本块]
指南的目标人群  
- 适用年龄：1~18岁  
- 适用患者：与腺样体肥大、扁桃体肥大、肥胖相关的睡眠呼吸暂停患儿  
- 不适用患者：  
  - 中枢性睡眠呼吸暂停综合征患儿  
  - 低通气综合征患儿  
  - OSA合并其他疾病患者  
    - 唐氏综合征  
    - 严重颅面畸形  
    - 神经肌肉疾病  
    - 慢性肺部疾病  
    - 镰状细胞病  
    - 代谢性疾病  
    - 喉软化症  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.category = coalesce(n.category, '儿童'),
    n.description = coalesce(n.description, '与腺样体肥大、扁桃体肥大、肥胖相关的睡眠呼吸暂停');

MERGE (n:Disease {name: '中枢性睡眠呼吸暂停综合征'});

MERGE (n:Disease {name: '低通气综合征'});

MERGE (n:Disease {name: '唐氏综合征'});

MERGE (n:Disease {name: '严重颅面畸形'});

MERGE (n:Disease {name: '神经肌肉疾病'});

MERGE (n:Disease {name: '慢性肺部疾病'});

MERGE (n:Disease {name: '镰状细胞病'});

MERGE (n:Disease {name: '代谢性疾病'});

MERGE (n:Disease {name: '喉软化症'});

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '中枢性睡眠呼吸暂停综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '低通气综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '偶见'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '唐氏综合征'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '严重颅面畸形'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '神经肌肉疾病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.55),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '慢性肺部疾病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.4),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '镰状细胞病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.45),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '代谢性疾病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.3),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '喉软化症'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.35),
    r.timeframe = coalesce(r.timeframe, '长期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:13"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/002-Chinese-guideline-for-the-diagnosis-and-treatment-.md
[文本块]
# Chinese Guideline for the Diagnosis and Treatment of Childhood Obstructive Sleep Apnea (2020)

**Working Group**: Chinese Guideline for the Diagnosis and Treatment of Childhood OSA  
**Affiliations**:
- Subspecialty Group of Pediatrics, Society of Otorhinolaryngology Head and Neck Surgery, Chinese Medical Association
- Subspecialty Group of Respiratory Diseases, Society of Pediatrics, Chinese Medical Association
- Society of Pediatric Surgery, Chinese Medical Association
- Editorial Board of Chinese Journal of Otorhinolaryngology Head and Neck Surgery  

**Funding**:
- National Science and Technology Infrastructure Program (2017YFC0112502)
- Capital Funds for Health Improvement and Research (2018‐1‐2091)
- Pediatric Medical Coordinated Development Center of Beijing Municipal
- Beijing Hospitals Authority Ascent Plan (DFL20191201)
- Center of Beijing Municipal Administration (XTZD20180101)
- Beijing University Construction Project of Advanced Subject (1192070301)

**Definition**:  
儿童阻塞性睡眠呼吸暂停 (apnea, OSA) 是指儿童睡眠过程中频繁发生部分或完全上气道阻塞，干扰儿童的正常通气和睡眠结构而引起的一系列病理生理变化。

**Prevalence**:  
- 根据2012年美国儿科学会 (American Academy of Pediatrics, AAP) 指南，儿童 OSA 患病率为 $1.2\\%{\\sim}5.7\\%$。
- 2010年中国香港地区报告儿童 OSA 患病率为 $4.8\\%$。

**Causes**:  
与成人 OSA 不同，造成儿童上气道阻塞的主要原因是腺样体和/或扁桃体肥大；其他可能因素包括肥胖、颅面畸形、神经肌肉疾病等。

**Complications**:  
儿童 OSA 如果得不到及时的诊断和有效的干预，将导致一系列严重的并发症，包括：
- 颌面发育异常 (腺样体面容)
- 行为异常
- 学习障碍
- 生长发育落后
- 神经认知损伤
- 内分泌代谢失调
- 高血压和肺动脉高压
- 提高成年期心血管事件风险

**Importance of Early Intervention**:  
故儿童 OSA 的早发现、早诊断和早干预对改善预后意义重大。

**Current Challenges**:  
我国在儿童 OSA 筛查诊断和治疗策略的临床诊疗环节上存在诸多问题，制约了临床上科学诊疗策略的提出，阻碍了我国儿童 OSA 诊疗水平的进步。  
- 诊疗涉及多学科，且标准不一、缺乏规范。
- 国内外儿童诊疗指南与专家共识数量有限。

**Previous Guidelines**:  
我国于2007年发布的《儿童阻塞性睡眠呼吸暂停低通气综合征诊疗指南草案 (乌鲁木齐)》主要基于传统专家共识，近10余年国内缺乏基于多学科循证证据支持的儿童 OSA 诊疗路径或规范。

**Objective of the Guidelines**:  
本指南制订的目的是规范我国儿童 OSA 临床诊疗决策，为儿童 OSA 诊疗提供依据，促进多学科整合，指导广大相关医务工作者的临床实践，共同为儿童 OSA 的科学管理保驾护航。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '儿童睡眠过程中频繁发生部分或完全上气道阻塞，干扰儿童的正常通气和睡眠结构而引起的一系列病理生理变化'),
    n.category = coalesce(n.category, '呼吸系统疾病'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '颌面发育异常'})
SET 
    n.description = coalesce(n.description, '腺样体面容'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '行为异常'})
SET 
    n.description = coalesce(n.description, '行为表现的异常'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '学习障碍'})
SET 
    n.description = coalesce(n.description, '学习过程中出现的问题'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '生长发育落后'})
SET 
    n.description = coalesce(n.description, '儿童生长发育的滞后'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '神经认知损伤'})
SET 
    n.description = coalesce(n.description, '对神经认知功能的损伤'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '内分泌代谢失调'})
SET 
    n.description = coalesce(n.description, '内分泌和代谢过程的异常'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '高血压'})
SET 
    n.description = coalesce(n.description, '血压持续升高的情况'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '肺动脉高压'})
SET 
    n.description = coalesce(n.description, '肺动脉压力升高'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '成年期心血管事件风险'})
SET 
    n.description = coalesce(n.description, '成年后心血管事件发生的风险增加'),
    n.severity = coalesce(n.severity, '严重');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '颌面发育异常'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '行为异常'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '学习障碍'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '生长发育落后'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '神经认知损伤'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.8),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '内分泌代谢失调'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '高血压'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '肺动脉高压'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '成年期心血管事件风险'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:15"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/009-3推荐说明.md
[文本块]
推荐说明:  

本推荐意见基于已获得证据,并参考2017年ERS指南，并与国际睡眠疾病分类-第三版(International Classification of Sleep Disorders-Third Edition, ICSD-3)标准统一，将OAHI>1次/h作为儿童OSA的诊断界值。强调阻塞因素导致的睡眠呼吸暂停和低通气在儿童OSA诊断中的重要性;研究证明, OSA患儿中枢性呼吸事件可能与长期的阻塞性呼吸暂停和低通气有关。本指南强调阻塞性因素是导致OSA患儿一系列病理生理变化的根源问题，故仍将OAHI作为诊断OSA的主要客观指标, 而非AHI。  

临床问题3:如何基于PSG指标来制订OSA严重程度分级?  

推荐意见:  

建议基于PSG指标进行OSA严重程度分级, 参考标准如下:  
- 轻度: 1次/h < OAHI ≤ 5次/h  
- 中度: 5次/h < OAHI ≤ 10次/h  
- 重度: OAHI > 10次/h (证据等级:B; 推荐级别:弱推荐)。  

不推荐使用扁桃体大小等指标进行OSA的严重程度分级 (证据等级:B; 推荐级别:强推荐)。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '儿童OSA的诊断界值'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Symptom {name: 'OAHI'})
SET 
    n.description = coalesce(n.description, '呼吸暂停指数'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Treatment {name: 'OSA严重程度分级'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '基于PSG指标进行OSA严重程度分级'),
    n.dosage = coalesce(n.dosage, '无'),
    n.duration = coalesce(n.duration, '持续评估'),
    n.contraindication = coalesce(n.contraindication, '无');

// 关系更新
MATCH (from) WHERE from.name = 'OAHI'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '根据临床观察'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'OSA严重程度分级'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '制定治疗方案');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'OAHI'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.85),
    r.recommendation_level = coalesce(r.recommendation_level, '弱推荐');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:15"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/004-指南的使用人群.md
[文本块]
# 指南的使用人群  

各等级医院从事睡眠呼吸疾病相关工作的临床医师、护理人员、技术人员及相关教学、科研工作人员。  

缩略语表见表。  

相关专业术语  

睡眠事件的判断按照美国睡眠医学会制订的儿童睡眠呼吸事件判读标准，具体结果判读及定义如下。  

表1 缩略语表  

1. 阻塞型呼吸暂停事件: 口鼻气流下降 ≥ 90%，持续 ≥ 2 个呼吸周期，整个事件中存在胸腹运动。  

2. 中枢型呼吸暂停事件: 口鼻气流下降 ≥ 90%，持续 20s; 或 ≥ 2 个呼吸周期伴有事件相关觉醒或 ≥ 3% 的血氧饱和度下降; 或 ≥ 2 个呼吸周期伴有心率减低至 < 50 次/min 持续至少 5s，或心率 < 60 次/min 持续时间 15 s（仅用于 1 岁以内婴儿）。整个事件中胸腹运动缺失。  

3. 混合型呼吸暂停事件: 口鼻气流下降 ≥ 90%，持续 ≥ 2 个呼吸周期，整个事件中胸腹运动存在与缺失并存。  

4. 低通气: 口鼻气流较基线下降 ≥ 30%，持续时间 ≥ 2 个呼吸周期且伴有事件相关觉醒或 ≥ 3% 的血氧饱和度下降。  

5. 呼吸暂停低通气指数 (apnea hypopnea index, AHI): 定义为每夜睡眠中平均每小时呼吸暂停与低通气的次数之和。  

6. 阻塞性呼吸暂停低通气指数 (obstructive apnea/hypopnea index, OAHI): 定义为每夜睡眠中平均每小时发生阻塞型呼吸暂停事件、混合型呼吸暂停事件与阻塞型低通气的次数之和。  

7. 阻塞性呼吸暂停指数 (index, OAI): 定义为每夜睡眠中平均每小时阻塞型呼吸暂停事件的次数。  

8. 氧减指数 (oxygen desaturation index, ODI): 定义为平均每小时血氧饱和度下降 ≥ 3% 的次数。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞型呼吸暂停事件'})
SET 
    n.description = coalesce(n.description, '口鼻气流下降 ≥ 90%，持续 ≥ 2 个呼吸周期，整个事件中存在胸腹运动');

MERGE (n:Disease {name: '中枢型呼吸暂停事件'})
SET 
    n.description = coalesce(n.description, '口鼻气流下降 ≥ 90%，持续 20s; 或 ≥ 2 个呼吸周期伴有事件相关觉醒或 ≥ 3% 的血氧饱和度下降; 或 ≥ 2 个呼吸周期伴有心率减低至 < 50 次/min 持续至少 5s，或心率 < 60 次/min 持续时间 15 s');

MERGE (n:Disease {name: '混合型呼吸暂停事件'})
SET 
    n.description = coalesce(n.description, '口鼻气流下降 ≥ 90%，持续 ≥ 2 个呼吸周期，整个事件中胸腹运动存在与缺失并存');

MERGE (n:Disease {name: '低通气'})
SET 
    n.description = coalesce(n.description, '口鼻气流较基线下降 ≥ 30%，持续时间 ≥ 2 个呼吸周期且伴有事件相关觉醒或 ≥ 3% 的血氧饱和度下降');

MERGE (n:Disease {name: '呼吸暂停低通气指数'})
SET 
    n.description = coalesce(n.description, '定义为每夜睡眠中平均每小时呼吸暂停与低通气的次数之和');

MERGE (n:Disease {name: '阻塞性呼吸暂停低通气指数'})
SET 
    n.description = coalesce(n.description, '定义为每夜睡眠中平均每小时发生阻塞型呼吸暂停事件、混合型呼吸暂停事件与阻塞型低通气的次数之和');

MERGE (n:Disease {name: '阻塞性呼吸暂停指数'})
SET 
    n.description = coalesce(n.description, '定义为每夜睡眠中平均每小时阻塞型呼吸暂停事件的次数');

MERGE (n:Disease {name: '氧减指数'})
SET 
    n.description = coalesce(n.description, '定义为平均每小时血氧饱和度下降 ≥ 3% 的次数');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:16"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/006-指南相关临床问题.md
[文本块]
# 指南相关临床问题  

一、指南诊断相关临床问题  

(一)临床问题1: 在儿童OSA的诊断中, 哪些临床症状和体征需要重点关注?  

1.推荐意见:  
- *症状方面*  
  - 关注有无打鼾及打鼾的频率 (≥3晚/周) (证据等级:A; 推荐级别:强推荐)  
  - 关注睡眠憋气、呼吸暂停、张口呼吸、呼吸费力、睡眠不安、遗尿、白天嗜睡、注意力缺陷或多动、学习成绩下降等表现 (证据等级:B; 推荐级别:强推荐)  
  - 小年龄儿童应关注张口呼吸、反复觉醒、情绪行为异常等(GPS)  

- *体征方面*  
  - 关注腺样体肥大、扁桃体肥大、腺样体面容以及肥胖 (证据等级:B; 推荐级别:强推荐)  

- 无论是单一或联合症状和体征，与PSG相比都不能可靠地诊断儿童OSA，需结合其他诊断方法以提高诊断的准确性 (证据等级:B; 推荐级别:强推荐)。  

2.证据概述:  
- 指南制订工作组进行了定性研究，共纳入21篇文献，包含7篇指南和3篇系统评价，主要报告儿童OSA相关的症状和体征。  
- 21个研究均报告打鼾症状，其中6篇提及打鼾频率 (4篇具体频率为3晚/周)；高频报告的症状还有注意力缺陷/多动、呼吸暂停、白天嗜睡、体重超重或减轻；高频报告的体征有扁桃体肥大、腺样体肥大以及腺样体面容。  

- 有两个系统评价评估临床病史和（或）体征对比PSG诊断OSA的准确性。其中2004年的系统评价纳入12篇原始研究 (n=1,058)，存在明显的异质性；另一系统评价纳入1525个诊断试验，亦显示异质性。  

- 结果显示扁桃体肥大和打鼾症状对OSA的敏感度高但特异度低，而白天嗜睡、呼吸暂停和夜间呼吸困难特异度高但敏感度低。症状和体征组合的敏感度和特异度范围为4%-94%和28%-99%； 显示症状和体征对儿童OSA的诊断能力较差，需使用其他模型提高诊断的准确性。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠 apnea'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '打鼾'})
SET 
    n.description = coalesce(n.description, '夜间打鼾的声音'),
    n.severity = coalesce(n.severity, '高'),
    n.frequency = coalesce(n.frequency, '≥3晚/周');

MERGE (n:Symptom {name: '睡眠憋气'})
SET 
    n.description = coalesce(n.description, '睡眠期间呼吸中断的感觉'),
    n.severity = coalesce(n.severity, '高'),
    n.frequency = coalesce(n.frequency, '低');

MERGE (n:Symptom {name: '白天嗜睡'})
SET 
    n.description = coalesce(n.description, '白天感到过度困倦'),
    n.severity = coalesce(n.severity, '高'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '注意力缺陷'})
SET 
    n.description = coalesce(n.description, '注意力无法集中'),
    n.severity = coalesce(n.severity, '高'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Complication {name: '扁桃体肥大'})
SET 
    n.description = coalesce(n.description, '扁桃体肿胀导致气道受限'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Complication {name: '腺样体肥大'})
SET 
    n.description = coalesce(n.description, '腺样体增大导致呼吸道受限'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Complication {name: '腺样体面容'})
SET 
    n.description = coalesce(n.description, '由于腺样体肥大导致的面部特征变化'),
    n.severity = coalesce(n.severity, '轻');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '打鼾'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '睡眠憋气'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '白天嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '注意力缺陷'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '扁桃体肥大'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '腺样体肥大'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '腺样体面容'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '长期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:19"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/008-3推荐说明.md
[文本块]
推荐说明:（续）
1. 2016年中国的诊断试验 (n=1,115) 使用PSG对符合美国胸科学会(ATS)标准的患儿进行比较。患儿类型包括：
   - AHI>5次/h
   - OAI>1次/h
   - 介于ICSD和ATS标准之间的患儿 (OAHI≥1 次/h, AHI≤5次/h且 OAI≤1次/h)
   - ICSD原发鼾症(OAHI<1次/h)
   - 健康儿童

   结果显示：介于ICSD和ATS标准之间的患儿与健康儿童相比，睡眠障碍量表总评分、夜间打鼾相关症状、日间行为异常相关症状、夜间睡眠伴随症状和相关疾病的评分显著增高。且阻塞性呼吸暂停平均持续时间、最长时间及低通气平均持续时间、最长时间均明显长于ICSD原发鼾症组 (P<0.01)。最低血氧饱和度低于原发鼾症组 (P<0.05)。因此，应将OAHI≥1 次/h作为儿童OSA的诊断界值。

2. 2005年的横断面研究 (n=48) 探讨了PSG在儿童鼾症鉴别诊断中的价值。结果显示：
   - AHI<1次/h的儿童与1次/h≤AHI<5次/h和 AHI≥5 次/h的儿童相比，平均血氧饱和度、最低血氧饱和度及血氧饱和度<95% 时间差异均有统计学意义 (P值均 <0.01)。
   - 而鼾声指数及总打鼾次数差异均无统计学意义。因此，AHI≥1 次/h更适合用于儿童OSA的诊断。

3. 2016年我国横断面调查 (n=99) 分析了健康儿童的睡眠呼吸参数， 结果显示：
   - 3~5岁和6~14岁儿童的OAI和OAHI相似。其中健康儿童OAHI为 (0.18±0.21) 次/h 和 (0.19±0.26) 次/h。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '儿童阻塞性睡眠呼吸暂停'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '健康儿童'})
SET 
    n.code = coalesce(n.code, 'HealthyChild'),
    n.description = coalesce(n.description, '没有睡眠呼吸问题的儿童'),
    n.category = coalesce(n.category, '正常'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Symptom {name: '夜间打鼾'})
SET 
    n.description = coalesce(n.description, '在夜间睡眠时伴随的打鼾声音'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '夜间');

MERGE (n:Symptom {name: '日间行为异常'})
SET 
    n.description = coalesce(n.description, '白天表现出的异常行为'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '日间');

MERGE (n:Symptom {name: '夜间睡眠伴随症状'})
SET 
    n.description = coalesce(n.description, '夜间睡眠时伴随的其他症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '夜间');

MERGE (n:Symptom {name: '睡眠障碍量表总评分'})
SET 
    n.description = coalesce(n.description, '量表用以评估睡眠障碍的结果'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '测试时');

MERGE (n:Symptom {name: '最低血氧饱和度'})
SET 
    n.description = coalesce(n.description, '在治疗期间最小的血氧饱和度'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '测试时');

// 关系更新
MATCH (from) WHERE from.name = '夜间打鼾'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '日间行为异常'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '夜间睡眠伴随症状'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '睡眠障碍量表总评分'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '每次测试'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '最低血氧饱和度'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每次测试'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:20"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/007-3推荐说明.md
[文本块]
# 推荐说明  

本推荐意见主要基于已获得证据中出现频率较高的症状和体征；结合专家访谈结果及指南制定工作组专家意见，某些未列入推荐意见但基于临床经验的症状如：口吐白沫、喜俯卧位/头后仰/端坐/颈部过伸的睡姿等，体征如三凹征等，临床上也值得关注。应结合推荐意见和患儿个体化表现进行评估，重视对于OSA患儿全面的上气道阻塞评估，包括是否合并变应性鼻炎、鼻中隔偏曲、鼻咽部肿物、咽喉部占位或肿瘤等疾病。儿童症状和体征是儿童OSA初诊的重要依据，但其诊断准确性较低，不推荐仅根据单一或者联合症状和体征预测儿童OSA，推荐结合其他诊断工具综合判断。此外，本推荐意见参照2019年欧洲呼吸学会（European Respiratory Society, ERS）建议，将症状、体征按年龄作一区分，小年龄组重点关注打鼾、张口呼吸、反复觉醒、情绪行为异常等症状，而大年龄患者重点关注打鼾、呼吸暂停、白天嗜睡和注意缺陷多动障碍如学习困难、记忆力下降等症状。  

临床问题2：在PSG指标中，对儿童OSA具有直接诊断意义的关键指标是什么，其诊断的推荐界值是多少？  

1. 推荐意见：  

在问题1相关症状的基础上，PSG是诊断儿童OSA的标准方法。推荐OAHI > 1次/h作为儿童OSA的诊断界值，利于早期发现需要干预治疗的SDB患儿；另外AHI、OAI和最低血氧饱和度对儿童OSA的诊断也有重要参考意义（证据等级：A；推荐级别：强推荐）。  

证据概述：2012年美国AAP指南系统地收集和评价了自2002年后的10个诊断相关研究（来自12篇论著），均使用标准PSG诊断儿童OSA，但各个研究使用的诊断标准均不一致，诊断OSA关键指标有AHI、OAI等，AHI诊断界值常见为1、3、5次/h。2012年的一篇系统评价（10个研究）发现，这10篇文章在使用PSG来诊断儿童OSA时，使用的诊断界值均不一致，有6篇采用AHI > 1次/h，有2篇采用AHI > 次。

"""
response = """
// 节点更新
MERGE (n:Symptom {name: '打鼾'})
SET 
    n.description = coalesce(n.description, '睡眠时发出响亮的呼噜声'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '张口呼吸'})
SET 
    n.description = coalesce(n.description, '睡眠时通过嘴呼吸而非鼻子'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '反复觉醒'})
SET 
    n.description = coalesce(n.description, '睡眠中频繁醒来'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '情绪行为异常'})
SET 
    n.description = coalesce(n.description, '情绪或行为的不稳定'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠中呼吸的停止'),
    n.severity = coalesce(n.severity, '重'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '白天嗜睡'})
SET 
    n.description = coalesce(n.description, '白天感到异常困倦'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '注意缺陷多动障碍'})
SET 
    n.description = coalesce(n.description, '注意力集中困难和多动症状'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '学习困难'})
SET 
    n.description = coalesce(n.description, '在学习过程中遇到困难'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '记忆力下降'})
SET 
    n.description = coalesce(n.description, '记忆能力的减弱'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '儿童在睡眠时出现呼吸暂停或呼吸不畅'),
    n.severity = coalesce(n.severity, '重');

MERGE (n:Examination {name: '多导睡眠图(PSG)'})
SET 
    n.description = coalesce(n.description, '用多导睡眠监测法评估睡眠状态'),
    n.method = coalesce(n.method, '多导睡眠监测'),
    n.requirement = coalesce(n.requirement, '必要');

MERGE (n:Treatment {name: '儿童OSA的干预治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过设备、行为疗法等方法治疗儿童阻塞性睡眠呼吸暂停'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '持续评估'),
    n.contraindication = coalesce(n.contraindication, '有气道结构异常的儿童');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '打鼾'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '张口呼吸'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '反复觉醒'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '情绪行为异常'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '白天嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '注意缺陷多动障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '学习困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '记忆力下降'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '多导睡眠图(PSG)'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '儿童OSA的干预治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初诊');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:21"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/014-2证据概述.md
[文本块]
# 证据概述  

指南制订工作组开展定性研究，结果如下：  
1. 关于儿童OSA手术适应证纳入77篇文献，其中包括10篇指南、3篇系统评价和64篇原始研究。  
2. 纳入的系统评价及原始研究围绕OSA患儿腺样体和（或）扁桃体切除术相关手术疗效、手术方法及手术并发症等内容进行讨论，手术组患儿纳入标准均为腺样体和（或）扁桃体肥大的OSA患儿。  
3. 纳入的系统评价及原始研究中，手术组最低年龄为1岁的研究有2篇，最低年龄为2岁的研究有13篇，其他均为3岁以上。  
4. 上述原始研究中纳入手术组患儿的最短病程为3至6个月。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '腺样体和扁桃体切除术'})
SET 
    n.type = coalesce(n.type, '手术'),
    n.description = coalesce(n.description, '针对腺样体和扁桃体肥大的OSA患儿进行的手术'),
    n.dosage = coalesce(n.dosage, 'N/A'),
    n.duration = coalesce(n.duration, 'N/A'),
    n.contraindication = coalesce(n.contraindication, 'N/A');

MERGE (n:Complication {name: '手术并发症'})
SET 
    n.description = coalesce(n.description, '与OSA手术相关的并发症'),
    n.severity = coalesce(n.severity, '可变');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '腺样体和扁桃体切除术'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '手术');

MATCH (from) WHERE from.name = '腺样体和扁桃体切除术'
MATCH (to) WHERE to.name = '手术并发症'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.1),
    r.timeframe = coalesce(r.timeframe, '术后');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:22"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/011-2证据概述.md
[文本块]
证据概述：  
指南制订工作组制作的系统评价包括13个研究，共$ n=1\\ 633 $，其中7个脉氧仪相关研究（$ n=1\\ 450 $）和6个便携式睡眠监测设备相关研究（$ n=183 $）；有7个研究无法提取原始数据进行描述性研究。另有6个研究包括3个脉氧仪相关研究（$ n=1\\ 019 $）和3个Watch-PAT相关研究（$ n=114 $），与PSG比较诊断OSA的合并敏感度为$ 75.0\\% \\big(53.0\\%{\\sim}89.0\\%\\big) $，特异度为$ 88.0\\% \\big(70.0\\%{\\sim}96.0\\%\\big) $，阳性似然比（PLR）为6.2（2.5~15.4），阴性似然比（NLR）为0.3（0.1~0.7），累积受试者工作特征曲线（SROC）下面积为0.89（0.86~0.91），$ P=0.000 $。  
2013年的1个系统评价包括33个研究（$ n=1\\ 064 $，AMSTAR2 $ 2=7.5 $），共报告了40个不同诊断方法与PSG的比较结果。其中有1个脉氧仪和2个便携式睡眠监测设备与PSG比较的研究（$ n=21~57 $），发表时间为1995年至2003年；有2个研究（OSA诊断标准为$ \\mathrm{AHI}>1 $ 次/h）报告了敏感度分别为$ 66.7\\% $和$ 100\\% $，特异度分别为$ 66.7\\% $和$ 62.5\\% $。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '一种常见的睡眠障碍，特点是睡眠期间的反复呼吸暂停。'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中度');

MERGE (n:Symptom {name: '呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠中反复出现的呼吸停止事件。'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '白天嗜睡'})
SET 
    n.description = coalesce(n.description, '白天过度困倦，难以保持清醒状态。'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Examination {name: '脉氧仪监测'})
SET 
    n.description = coalesce(n.description, '使用脉氧仪进行夜间氧饱和度监测以评估OSA。'),
    n.method = coalesce(n.method, '脉氧仪'),
    n.requirement = coalesce(n.requirement, '需在睡眠中使用');

MERGE (n:Examination {name: '便携式睡眠监测'})
SET 
    n.description = coalesce(n.description, '使用便携式设备进行睡眠状态监测。'),
    n.method = coalesce(n.method, '便携式设备'),
    n.requirement = coalesce(n.requirement, '需在家中使用');

MERGE (n:Treatment {name: '正压通气治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过持续气道正压治疗改善睡眠呼吸。'),
    n.dosage = coalesce(n.dosage, '持续'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '部分心脏病患者禁用');

MERGE (n:Complication {name: '心血管疾病'})
SET 
    n.description = coalesce(n.description, 'OSA可能导致的严重心血管并发症。'),
    n.severity = coalesce(n.severity, '严重');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '白天嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '脉氧仪监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '便携式睡眠监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '正压通气治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '主动治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '心血管疾病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '数年内');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:22"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/016-1推荐意见.md
[文本块]
推荐意见:  

推荐重点评估肥胖儿童有无术后疾病持续存在,必要时补充治疗(证据等级:B;推荐级别:强推荐)。  

建议对具有以下特点的OSA患儿进行术后关注,包括(证据等级:B;推荐级别:弱推荐):  
- 患儿手术时年龄 < 3 岁  
- 伴随哮喘  
- 伴随鼻部疾病(变应性鼻炎、鼻窦炎)  
- OAHI > 10 次和(或)最低血氧饱和度 < 80%  
- OSA家族史  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '肥胖儿童阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '肥胖儿童有无术后疾病持续存在的评估'),
    n.category = coalesce(n.category, '睡眠呼吸暂停'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '哮喘'})
SET 
    n.description = coalesce(n.description, '一种常见的慢性呼吸系统疾病'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '变应性鼻炎'})
SET 
    n.description = coalesce(n.description, '对某些过敏源的免疫反应'),
    n.severity = coalesce(n.severity, '轻度');

MERGE (n:Complication {name: '鼻窦炎'})
SET 
    n.description = coalesce(n.description, '鼻窦内膜的炎症'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: 'OSA家族史'})
SET 
    n.description = coalesce(n.description, '家族中存在阻塞性睡眠呼吸暂停的病例'),
    n.category = coalesce(n.category, '遗传'),
    n.severity = coalesce(n.severity, '轻度');

// 关系更新
MATCH (from) WHERE from.name = '肥胖儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '哮喘'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '肥胖儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '变应性鼻炎'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '肥胖儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻窦炎'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '偶见'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '肥胖儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'OSA家族史'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '肥胖儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '哮喘'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '术后关注');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:23"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/015-3推荐说明.md
[文本块]
扁桃体切除术和腺样体切除术是儿童OSA的一线治疗方法，特别对于中、重度OSA患儿。在内镜或影像学评估后，若符合手术指征且无禁忌症（可参考2012年美国AAP指南），该手术为首选。对于轻度OSA患儿，需在评估病因后进行适当的临床干预。轻度OSA的用药和手术获益研究证据有限，建议结合经验进行对症治疗，并给予睡眠姿势和减重指导。 

关于手术时年龄，2017年ERS指出3岁以下患儿需住院监测，并提到行腺样体切除术的最小年龄为月龄，腺样体和扁桃体切除术的最小年龄为6月龄。目前缺乏规范研究支持手术年龄范围，须结合经验与气道阻塞程度。 

腺样体肥大和扁桃体肥大的评估方法包括Brods的扁桃体5分度和腺样体4分度法，扁桃体肥大定义为占据口咽宽度大于50%，腺样体肥大定义为阻塞后鼻孔面积大于50%。 

对于极度肥胖且有扁桃体和/或腺样体肥大的患儿，临床医师需权衡手术风险，包括麻醉并发症、术后呼吸衰竭、出血等与其他治疗的利弊。对不符合手术指征的OSA患儿，需进行详尽的上气道评估及全身问题排查。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA');

MERGE (n:Treatment {name: '扁桃体切除术'})
SET 
    n.type = coalesce(n.type, '手术'),
    n.description = coalesce(n.description, '通过外科手术切除扁桃体'),
    n.contraindication = coalesce(n.contraindication, '腺样体肥大');

MERGE (n:Treatment {name: '腺样体切除术'})
SET 
    n.type = coalesce(n.type, '手术'),
    n.description = coalesce(n.description, '通过外科手术切除腺样体'),
    n.contraindication = coalesce(n.contraindication, '扁桃体肥大');

MERGE (n:Complication {name: '麻醉并发症'})
SET 
    n.severity = coalesce(n.severity, '中');

MERGE (n:Complication {name: '术后呼吸衰竭'})
SET 
    n.severity = coalesce(n.severity, '高');

MERGE (n:Complication {name: '出血'})
SET 
    n.severity = coalesce(n.severity, '高');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '扁桃体切除术'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '一线治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '腺样体切除术'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '一线治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '麻醉并发症'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.3),
    r.timeframe = coalesce(r.timeframe, '术后');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '术后呼吸衰竭'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '术后');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '出血'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.4),
    r.timeframe = coalesce(r.timeframe, '术后');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:25"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/010-2证据概述.md
[文本块]
# 证据概述  

1. **系统评价**: 2011年进行的系统评价  
   - 研究数量: 20个研究  
   - 内容: 评估儿童扁桃体大小及PSG值判断OSA严重程度分级的标准  
   - 结果: 
     - 11项研究提示主观判断扁桃体大小与PSG值客观评价OSA严重程度存在关联
     - 9项研究提示二者之间无相关性
     - 质量高的研究 (评分3.22) 指出扁桃体大小与OSA无关联
   - 结论: 使用0~4度评估方法判断扁桃体大小与PSG值的相关性微弱，高质量研究表明两者之间没有关联  

2. **研究及评估**: 
   - **临床参数**评估儿童OSA严重程度，结果显示扁桃体大小和AHI或ODI无相关性
   - **腺样体大小**与OSA严重程度呈弱相关性，腺样体肥大是正常体重学龄前儿童OSA的主要原因
   - **OSA严重程度分级标准** 基于阻塞相关的AHI，常分为以下界值 
     - 5次/h, 10次/h, 或15次/h
     - 参考血氧饱和度和总睡眠A时  

3. **推荐标准**:  
   - 2015年澳大利亚睡眠学会(ASA)推荐OAHI作为儿童OSA严重程度分级标准  
     - 0 < OAHI < 1.2 次/h: 正常
     - 1.2 ≤ OAHI < 5 次/h: 轻度异常
     - 5 ≤ OAHI < 10 次/h: 中度异常
     - 10 ≤ OAHI < 30 次/h: 重度异常  
   - 2007年《儿童阻塞性睡眠呼吸暂停低通气综合征诊疗指南草案(乌鲁木齐)》也以AHI或OAI作为分类标准  
     - 5 ≤ AHI < 10 次/h或1 ≤ OAI < 5 次/h最低血氧饱和度在85%~91%为轻度异常
     - 10 ≤ AHI < 20 次/h或5 ≤ OAI < 10 次/h最低血氧饱和度在75%~84%为中度异常 
     - AHI ≥ 20 次/h或OAI > 10 次/h且最低血氧饱和度 < 75%为重度异常  

4. **推荐说明**:  
   - OSA患儿预后风险评估的严重程度分级依据
   - 疑点: 扁桃体大小与AHI或ODI无相关性，OSA分级标准尚不统一
   - 建议分级标准: 
     - 1次/h < OAHI ≤ 5 次/h
     - 5 次/h < OAHI ≤ 10 次/h
     - OAHI > 10 次/h  
   - 未来研究方向: 儿童OSA的远期随访及队列研究  

5. **临床问题**: 便携或简易替代诊断工具的诊断价值  
   - 推荐使用PSG进行儿童OSA诊断（证据等级:A; 推荐级别:强推荐）  
   - 对于没有条件开展PSG的机构:  
     - 使用经过验证的脉氧仪等便携式睡眠监测设备
     - 结合病史、体格检查及问卷等临床信息进行综合诊断
     - 必要时转诊至上级医疗机构进行PSG确诊（证据等级:C; 推荐级别:弱推荐）  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '扁桃体肥大'})
SET 
    n.description = coalesce(n.description, '扁桃体大小与OSA严重程度的相关性'),
    n.severity = coalesce(n.severity, '轻度'),
    n.frequency = coalesce(n.frequency, '不确定');

MERGE (n:Symptom {name: '腺样体肥大'})
SET 
    n.description = coalesce(n.description, '腺样体肥大是普通体重学龄前儿童OSA的主要原因'),
    n.severity = coalesce(n.severity, '轻度'),
    n.frequency = coalesce(n.frequency, '不确定');

MERGE (n:Treatment {name: '推荐使用PSG进行儿童OSA诊断'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '便携或简易替代诊断工具的诊断价值');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '扁桃体肥大'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '不确定'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '腺样体肥大'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '不确定'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '推荐使用PSG进行儿童OSA诊断'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:26"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/013-3推荐说明.md
[文本块]
# 推荐说明

2012年美国AAP指南和2014年澳大利亚ASA指南均明确强调临床症状和问卷/量表对OSA初步诊断的重要性。问卷作为临床症状的量化工具，具有简易便捷和无创适用的特点。截至2011年，世界范围内共有6404个睡眠评价工具可被检索到，包括183个儿童睡眠障碍问卷，但仅有小部分筛查工具有相应的信度、效度评估研究。国内被科学引入且应用较广的问卷主要有PSQ和OSA-18。PSQ内容涵盖OSA患儿睡眠打鼾、嗜睡和多动三大主要症状，因其有效、便捷、可行性强而被翻译成葡萄牙语版、西班牙语版和简体中文版等多种版本，良好的信度和效度也得到越来越多的证实。OSA-18作为目前特异性调查OSA患儿生活质量的量表之一，涵盖5个维度（18个条目）：睡眠障碍、身体症状、情绪不佳、白天状况、对监护人的影响程度。然而，目前循证医学证据提示上述问卷的诊断准确性并不高，尚不能替代PSG或其他客观检查成为独立的诊断工具，建议结合其他工具进行临床诊断，必要时选择PSG确诊。

## 指南治疗相关临床问题

### 临床问题6: OSA患儿腺样体和(或)扁桃体切除术的手术适应证是什么?

推荐意见:

确诊为OSA且临床检查符合腺样体和(或)扁桃体肥大的患儿，且无手术禁忌时，推荐腺样体和(或)扁桃体切除术作为中、重度OSA患儿的首选治疗（证据等级:B; 推荐级别: 强推荐）。

若确诊为OSA患儿不符合腺样体和(或)扁桃体肥大时，需综合评估口腔、鼻腔等上气道情况，建议进一步行其他方法治疗（GPS）。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '睡眠打鼾'})
SET 
    n.description = coalesce(n.description, '夜间发出声音的现象'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '嗜睡'})
SET 
    n.description = coalesce(n.description, '白天过度困倦'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '多动'})
SET 
    n.description = coalesce(n.description, '活动水平高于正常'),
    n.severity = coalesce(n.severity, '轻度'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Treatment {name: '腺样体和扁桃体切除术'})
SET 
    n.type = coalesce(n.type, '手术'),
    n.description = coalesce(n.description, '移除腺样体和/或扁桃体以缓解上气道阻塞'),
    n.duration = coalesce(n.duration, '手术后康复期'),
    n.contraindication = coalesce(n.contraindication, '有手术禁忌的患者');

MERGE (n:Treatment {name: '其他方法治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针对上气道的综合评估后选择的治疗方案');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '睡眠打鼾'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '多动'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '低');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '腺样体和扁桃体切除术'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.95),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '首选');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '其他方法治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '可选择');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:29"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/018-3推荐说明.md
[文本块]
肥胖是儿童OSA的独立危险因素，与术后疾病持续存在相关。评估术后OSA状态可用PSG或简易替代诊断工具，必要补充治疗有无创正压通气、口腔矫治、减重。伴随疾病（哮喘、变应性鼻炎）与OSA家族史不增加术后风险。临床医生需关注3岁以下、伴随疾病、重度OSA、低氧血症、相关家族史的患儿，进行术后评估和气道管理。对于疾病严重程度与腺样体或扁桃体肥大不匹配的患儿，尤其需要术后上气道综合评估。

推荐鼻用糖皮质激素或孟鲁司特钠治疗轻、中度OSA患儿，以降低睡眠呼吸事件、改善症状评分，定期随诊评估疗效与不良反应。建议轻、中度OSA患儿在腺样体及扁桃体评估后，联合使用鼻用糖皮质激素与孟鲁司特钠，并定期随诊。对于药物无效或停药后复发的患儿，建议在上气道综合评估基础上进行其他治疗。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:RiskFactor {name: '肥胖'})
SET 
    n.description = coalesce(n.description, '独立危险因素'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:Complication {name: '哮喘'})
SET 
    n.description = coalesce(n.description, '伴随疾病'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Complication {name: '变应性鼻炎'})
SET 
    n.description = coalesce(n.description, '伴随疾病'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Treatment {name: '鼻用糖皮质激素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善症状评分'),
    n.dosage = coalesce(n.dosage, '按需'),
    n.duration = coalesce(n.duration, '定期随诊'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '孟鲁司特钠'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '降低睡眠呼吸事件'),
    n.dosage = coalesce(n.dosage, '按需'),
    n.duration = coalesce(n.duration, '定期随诊'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Examination {name: '多导睡眠图(PSG)'})
SET 
    n.description = coalesce(n.description, '评估术后OSA状态'),
    n.method = coalesce(n.method, '睡眠监测'),
    n.requirement = coalesce(n.requirement, '医院需具备');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '肥胖'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '哮喘'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '术后');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '变应性鼻炎'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '术后');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻用糖皮质激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '轻、中度');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '孟鲁司特钠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '轻、中度');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '多导睡眠图(PSG)'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:30"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/012-3推荐说明.md
[文本块]
# 推荐说明  

本推荐意见仍推荐使用PSG作为儿童OSA的标准诊断方法。受限于标准PSG监测的设备、操作、人员和费用等问题，建议临床医生使用脉氧仪等经过临床使用和相关研究验证的便携式监测设备，对OSA患儿的睡眠呼吸特点进行客观评估和初步诊断，以在临床治疗决策前获得更多的客观诊断证据，利于患儿的综合评估和个体化治疗，这与2012年美国AAP指南和2014年澳大利亚ASA指南观点一致。若采用便携式设备进行监测且提示OSA程度严重，必要时需转诊到上级医疗机构完善PSG进一步确诊后再进行治疗。推荐意见的证据检索并不局限于设备类型，但睡眠监测的III和IV级设备种类繁多，本临床问题主要针对简易替代诊断工具如脉氧仪的诊断准确性。脉氧监测的判读方法可参考McGill Oximetry评分，但该评分方法的特异度和灵敏度有待进一步研究。对于McGill Oximetry评分标准无法覆盖的儿童，建议进一步完善标准PSG以明确诊断。

## 临床问题5: 常用的儿童OSA相关问卷或量表(如PSQ、OSA-18)的诊断价值如何?  

1. 推荐意见:  
不建议单独应用PSQ或OSA-18量表作为OSA患儿的诊断工具，需结合病史、体格检查及睡眠监测设备以增加问卷诊断的特异度(证据等级:D; 推荐级别:弱推荐)。  

2. 证据概述:  
指南制订工作组制作的系统评价，共纳入8个研究评价了OSA相关问卷或量表(OSA-18:4个研究, n=1,047; PSQ:4个研究, n=472)对比PSG的诊断准确性，有4个研究无法提取数据而进行描述性分析。其余4个研究结果提示PSQ(n=307)和OSA-18(n=743)对于诊断儿童OSA的合并敏感度、合并特异度、PLR、NLR及对应的95% CI分别为: 77% (55%~90%)，61% (38%~80%)、2.0(1.2~3.3)，0.38 (0.19~0.76)，AUC 0.75，95% CI 0.71~0.78，P=0.000。

注: 1簇血氧饱和度下降事件定义为在10~30分钟内发生至少5次血氧饱和度下降，每档评分须同时满足标准中的“血氧饱和度降低次数\"和“其他\"条件。  

2014年的1个系统评价(AMSTAR 2=10)研究了多个体格检查和问卷调查对比PSG诊断儿童SDB的准确性，分为问卷、问卷+体格检查、问卷+体格检查+其他诊断方法、体格检查+其他诊断方法共4个亚组，在纳入的11个诊断试验中，有3个诊断试验分别评价了PSQ比PSG(n=102)、PSQ+体格检查比PSG(n=61)及OSA-18+体格检查+其他诊断方法比PSG(n=527)。该研究提示以上问卷的诊断准确性不高，尚不能替代PSG或其他客观检查成为独立的诊断方法。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Examination {name: '多导睡眠监测'})
SET 
    n.description = coalesce(n.description, '用于评估患者的睡眠状态情况'),
    n.method = coalesce(n.method, 'PSG'),
    n.requirement = coalesce(n.requirement, '标准诊断方法');

MERGE (n:Examination {name: '脉氧仪监测'})
SET 
    n.description = coalesce(n.description, '便携式监测设备评估睡眠呼吸特点'),
    n.method = coalesce(n.method, '脉氧仪'),
    n.requirement = coalesce(n.requirement, '经过验证的设备');

MERGE (n:Scale {name: 'PSQ'})
SET 
    n.description = coalesce(n.description, '儿童阻塞性睡眠呼吸暂停问卷'),
    n.score_range = coalesce(n.score_range, 'N/A'),
    n.interpretation = coalesce(n.interpretation, '用于评估OSA风险');

MERGE (n:Scale {name: 'OSA-18'})
SET 
    n.description = coalesce(n.description, '专为儿童设计的OSA问卷'),
    n.score_range = coalesce(n.score_range, 'N/A'),
    n.interpretation = coalesce(n.interpretation, '用于评估OSA风险');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '多导睡眠监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '脉氧仪监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'false');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'PSQ'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.77),
    r.recommendation_level = coalesce(r.recommendation_level, '弱推荐');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'OSA-18'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.61),
    r.recommendation_level = coalesce(r.recommendation_level, '弱推荐');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:32"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/024-3推荐说明.md
[文本块]
推荐说明: OSA患儿NPPV的使用强调建立在气道综合评估基础上, 以明确上气道阻塞层面, 但并不强调或推荐药物诱导睡眠内镜或药物诱导MRI作为常规检查。使用需结合个体情况和临床需求, 对使用年龄不做限制和推荐。CPAP是治疗儿童OSA的一种有效的替代治疗方法, 可作为重度OSA患儿围手术期的重要补充治疗, 亦可作为特殊OSA患儿在等待颅面手术过程中采取的暂时干预措施。对于接受CPAP或其他无创通气治疗的OSA患儿, 必须在睡眠监测下完成压力滴定, 并需要定期重新评估参数设置的适宜性。2016年中华医学会儿科学分会呼吸学组睡眠协作组的专家共识(草案)指出, “儿童NPPV治疗一定要在有儿童NPPV治疗的专业医疗中心进行长期监测和随访, 避免或及时发现面罩相关的颅面发育异常。”  

临床问题10: 口腔矫治(口腔矫正器)在儿童OSA治疗的疗效和安全性如何?

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '非侵入性正压通气(NPPV)'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '用于OSA患儿的气道综合评估和治疗');

MERGE (n:Treatment {name: '连续正压通气(CPAP)'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '儿童OSA的一种有效的替代治疗方法');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '连续正压通气(CPAP)'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.95),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '围手术期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '非侵入性正压通气(NPPV)'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '临床治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:32"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/020-2证据概述.md
[文本块]
证据概述:

鼻用糖皮质激素与白三烯受体拮抗剂联合用药共纳入2个RCT(n=234)。鼻用糖皮质激素与口服孟鲁司特钠相比治疗儿童OSA的效果，两组在改善AHI方面差异无统计学意义(SMD=-0.48, 95%C I -2.24~1.28, P=0.59)，但联合用药相比单用药组最低血氧饱和度(SMD=1.11, 95%C I 0.79~1.44, P<0.0001)更高。不良反应方面，1个研究未报告不良反应，1个研究报告未出现不良反应。

鼻用糖皮质激素与口服孟鲁司特钠相比治疗儿童OSA的效果，在最低血氧饱和度(MD=1.20, 95%C I 0.34~2.06, P=0.006)和腺样体形态(MD=-0.02, 95%C I -0.03--0.01, P=0.002)方面，糠酸莫米松鼻喷剂与孟鲁司特钠咀嚼片联合应用较孟鲁司特钠咀嚼片治疗效果好;而两组在改善AHI方面差异无统计学意义(MD=0.31, 95%C I -0.07~0.69, P=0.11)。

以上2个RCT中有1个RCT(n=195)为三组比较[孟鲁司特钠比鼻用糖皮质激素(失访4例)比鼻用糖皮质激素与口服孟鲁司特钠(失访8例)]。原文主要对三组治疗前、后比较，除扁桃体外，三组治疗前、后分别在AHI、最低血氧饱和度、打鼾、张口呼吸等指标方面均提示有效;但未对组间进行逐一比较。以上2个研究均未描述是否实施隐蔽分组，未实施盲法，且有不同程度的失访。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '鼻用糖皮质激素'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '用于治疗儿童OSA的药物');

MERGE (n:Treatment {name: '口服孟鲁司特钠'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗儿童OSA的药物');

MERGE (n:Treatment {name: '糠酸莫米松鼻喷剂'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '用于治疗儿童OSA的药物');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻用糖皮质激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.11),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '糠酸莫米松鼻喷剂'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.2),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '口服孟鲁司特钠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '初期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:34"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/023-1推荐意见.md
[文本块]
推荐意见:  
- 对于有外科手术禁忌证、不伴腺样体和(或)扁桃体肥大、腺样体和(或)扁桃体切除后OSA持续存在以及选择非手术治疗的OSA患儿，推荐NPPV作为有效治疗方法（证据等级:B;推荐级别:强推荐）。  
- 推荐重度OSA患儿使用NPPV作为替代或围术期补充治疗方案之一（GPS）。  
- 对于接受NPPV的患儿，推荐在PSG下调整呼吸机参数，并定期评估参数设置的适宜性（GPS）。  
- OSA患儿使用NPPV可产生轻微不良反应，包括鼻部症状、眼睛刺激症状和皮肤破损等，长期使用可造成颅面发育异常，推荐定期评估（GPS）。  

证据概述:  
- 指南制订工作组查询到2个RCT报告了正压通气治疗儿童OSA的疗效和不良反应，存在临床异质性未进行合并。  
- 1个研究（$n=70$）为随机双盲对照试验，比较了持续气道正压通气（CPAP）与手术，结果提示联合使用CPAP可降低AHI（$M D=-6.80,\\,95\\%C I-10.62\\mathrm{{\\sim-0.298}},\\,P=0.000\\;5$），研究未报告不良反应和并发症。  
- 该研究提示CPAP组在增加氧分压、降低二氧化碳分压、缩短呼吸暂停持续时间和改善艾普沃斯嗜睡评分（ESS）方面均有效。  
- 另1个研究（$n=67$）比较了CPAP与常规治疗和常规治疗，疗程3个月，方法学质量较低，研究也提示CPAP对降低AHI和提高最低血氧饱和度有效。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '无创通气'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '推荐NPPV作为有效治疗方法'),
    n.contraindication = coalesce(n.contraindication, '外科手术禁忌证');

MERGE (n:Treatment {name: '持续气道正压通气'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '并发使用以改善OSA症状'),
    n.duration = coalesce(n.duration, '3个月');

MERGE (n:Complication {name: '颅面发育异常'})
SET 
    n.description = coalesce(n.description, '长期使用可造成颅面发育异常'),
    n.severity = coalesce(n.severity, '轻微');

MERGE (n:Symptom {name: '鼻部症状'})
SET 
    n.description = coalesce(n.description, '轻微不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '眼睛刺激症状'})
SET 
    n.description = coalesce(n.description, '轻微不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '皮肤破损'})
SET 
    n.description = coalesce(n.description, '轻微不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '无创通气'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '强推荐'),
    r.stage = coalesce(r.stage, '初始治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '持续气道正压通气'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '适应症'),
    r.stage = coalesce(r.stage, '辅助治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '颅面发育异常'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.1),
    r.timeframe = coalesce(r.timeframe, '长期使用');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻部症状'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '眼睛刺激症状'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '皮肤破损'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:34"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/029-二指南注册与计划书.md
[文本块]
# 指南注册与计划书  

本指南在国际实践指南注册平台(International Practice Guidelines Registry Platform) 注册。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:36"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/028-指南的制订过程与方法.md
[文本块]
指南的制订过程与方法  

一、指南制订方法学  

本指南符合美国医学科学院(IOM)最新指南定义，制订方法参考2015年发布的《世界卫生组织指南制订手册》的制订流程及相关方法学标准，以及指南研究与评价工具(AGREE II)，并参考卫生保健实践指南的报告条目(RIGHT)撰写指南文件。  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:37"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/017-2证据概述.md
[文本块]
# 证据概述

指南制订工作组制订系统评价涉及10个前瞻性队列研究和2个回顾性队列研究，报告了OSA患儿持续存在的四类常见危险因素。  

1. **肥胖因素**（7个研究，n=682）：术前肥胖患儿发生术后OSA持续存在的风险是正常体重患儿的4.11倍（OR=4.11, 95% CI 1.68~10.08, P<0.01）。亚组分析结果如下：  
   - AHI≥1次/h组（OR=3.77, 95% CI 1.57~9.05, P<0.01）  
   - AHI≥2次/h组（OR=7.96, 95% CI 2.76~22.92, P<0.01）  
   - AHI≥5次/h组（OR=8.73, 95% CI 4.50~16.94, P<0.01）  

   结果提示与正常体重患儿相比，术前肥胖是术后持续存在OSA的危险因素。  

2. **超重因素**（3个研究，n=224）：超重患儿与正常体重患儿相比，不增加术后OSA持续存在的风险（OR=0.76, 95% CI 0.20~2.96, P=0.70）。  

3. **伴随疾病**（1个研究，n=85）：伴随哮喘（OR=1.31, 95% CI 0.50~3.41, P=0.58）和变应性鼻炎（OR=0.96, 95% CI 0.39~2.39, P=0.93）不增加术后OSA持续存在的风险。  

4. **疾病家族史**：  
   - 有SDB家族史（2个研究，n=194，OR=1.35, 95% CI 0.62~2.91, P=0.45）  
   - 过敏家族史（2个研究，n=194，OR=2.24, 95% CI 0.95~5.28, P=0.07）  
   - 肥胖家族史（1个研究，n=84，OR=1.03, 95% CI 0.20~5.32, P=0.98）  

   以上家族史均不增加术后OSA持续存在的风险。结果提示肥胖是引起儿童OSA术后持续存在状态的危险因素。  

2015年进行的系统评价涉及共51个研究（n=3413），其中1个为随机对照试验（RCT），其余为病例系列和非RCT（AMSTAR=7.5）。结果显示，手术后患儿AHI明显下降了12.4次/h，同时OAI、AHI和中枢性指数均下降，最低血氧饱和度明显上升。术后AHI<1次/h的患儿比例为51%（肥胖组34% vs 非肥胖组49% vs 未区分肥胖组56%），而AHI<5次/h的患儿比例为81%（肥胖组61% vs 非肥胖组87% vs 未区分肥胖组84%）。Meta回归分析显示术后AHI阳性率（持续存在率）与术前AHI和体重指数Z评分呈正相关。结果提示手术干预能明显改善OSA患儿的睡眠参数，尤其是对非肥胖OSA患儿。术后OSA持续存在的情况在病情较重及肥胖患儿中更为明显。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:RiskFactor {name: '肥胖因素'})
SET 
    n.description = coalesce(n.description, '术前肥胖患儿发生术后OSA持续存在的风险是正常体重患儿的4.11倍'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '超重因素'})
SET 
    n.description = coalesce(n.description, '超重患儿与正常体重患儿相比，不增加术后OSA持续存在的风险'),
    n.impact_level = coalesce(n.impact_level, '低');

MERGE (n:RiskFactor {name: '伴随疾病'})
SET 
    n.description = coalesce(n.description, '伴随哮喘和变应性鼻炎不增加术后OSA持续存在的风险'),
    n.impact_level = coalesce(n.impact_level, '无影响');

MERGE (n:RiskFactor {name: '疾病家族史'})
SET 
    n.description = coalesce(n.description, '有SDB、过敏和肥胖家族史均不增加术后OSA持续存在的风险'),
    n.impact_level = coalesce(n.impact_level, '无影响');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '肥胖因素'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '超重因素'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '低'),
    r.evidence_level = coalesce(r.evidence_level, '弱');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '伴随疾病'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '无影响'),
    r.evidence_level = coalesce(r.evidence_level, '无证据');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '疾病家族史'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '无影响'),
    r.evidence_level = coalesce(r.evidence_level, '无证据');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:39"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/025-1推荐意见.md
[文本块]
1. 推荐意见:  
   - 患者类型: OSA患儿  
     - 特征: 可能合并口腔及颌面发育问题  
     - 条件: 不伴有腺样体和(或)扁桃体肥大、术后OSA持续存在、不能手术或不能耐受NPPV治疗  
   - 建议进行: 口腔评估  
   - 必要时: 进行口腔矫治器治疗(GPS)  

2. 口腔矫治器治疗建议:  
   - 根据牙颌畸形类型和气道阻塞部位:  
     - 上颌扩弓治疗:  
       - 适用范围: 轻、中度OSA患儿  
       - 特别适用: 中缝骨性愈合前的患儿  
       - 证据等级: D  
       - 推荐级别: 弱推荐  
     - 下颌前导矫治:  
       - 适用范围: 轻度至重度OSA患儿  
       - 建议时机: 青春发育期前  
       - 治疗时长: 6个月及以上的长期治疗优于短期治疗  
       - 证据等级: B  
       - 推荐级别: 强推荐  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '口腔及颌面发育问题'})
SET 
    n.description = coalesce(n.description, '可能合并的特征');

MERGE (n:Treatment {name: '口腔评估'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '建议进行口腔评估');

MERGE (n:Treatment {name: '口腔矫治器治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针对OSA患儿的口腔矫治方案');

MERGE (n:Treatment {name: '上颌扩弓治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针对轻、中度OSA患儿的上颌扩弓治疗');

MERGE (n:Treatment {name: '下颌前导矫治'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '适用于轻度至重度OSA患儿的下颌前导矫治'),
    n.duration = coalesce(n.duration, '6个月及以上的长期治疗优于短期治疗');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '口腔评估'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '必要'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '口腔矫治器治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '必要'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '上颌扩弓治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '建议'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '下颌前导矫治'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.95),
    r.priority = coalesce(r.priority, '强推荐'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '口腔及颌面发育问题'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '可能'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:39"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/022-3推荐说明.md
[文本块]
# 推荐说明  

对于轻度及中度OSA患儿，经临床评估为腺样体和(或)扁桃体肥大，特别是腺样体肥大患儿，除外其他口腔颌面及上气道梗阻问题后，推荐鼻用糖皮质激素和孟鲁司特钠作为治疗药物。尤其是合并鼻塞、流涕、喷嚏及闭塞性鼻音等鼻炎症状的患儿，鼻用糖皮质激素可作为推荐使用。对于中度OSA且明确伴腺样体和(或)扁桃体肥大的患儿，腺样体和(或)扁桃体切除仍为首选推荐。对于有手术禁忌、等待手术以及家长因多种原因拒绝手术者，上述药物可作为推荐的保守治疗方法。

在疗效方面，系统评价证据提示，鼻用糖皮质激素可有效降低OSA患儿OAHI和ODI，孟鲁司特钠可有效降低OAHI并改善症状评分。目前国内外关于二者联合使用的药效及不良反应尚缺少高质量RCT证据，缺乏长期疗效随访研究证据，二者联用疗效研究可作为今后OSA患儿及腺样体肥大患儿药物治疗的研究方向之一，此观点与2018年法国耳鼻咽喉头颈外科学会(SFORL)指南观点一致。

基于以上证据，建议使用年龄$^{>2}$岁，鼻用糖皮质激素用药时间通常为6周，白三烯受体拮抗剂用药疗程建议3个月。目前相关的临床研究多基于短期随访，尚缺少规范的远期疗效观察研究，停药及中转手术的临床指征仍需未来更多循证依据支持。用药过程中需监护可能出现的药物不良反应，如鼻出血、头痛、腹泻、恶心、呕吐等。此外，有研究报道服用孟鲁司特钠偶见噩梦、攻击行为和抑郁、自杀倾向等精神症状，亦需注意。2019年美国食品药品管理局(FDA)强调孟鲁司特钠可能带来神经/精神事件风险，包括抑郁、自残、自杀倾向。一旦出现药物相关的精神症状，临床医生应嘱家长立即停药并专科就诊。

疗程结束后进行再次全面评估，对于症状改善、体征及OAHI改善不明显或停药后再次出现症状的OSA患儿，需充分考虑发病原因，并重新确定上气道梗阻平面。如确定为腺样体和(或)扁桃体肥大无明显缓解，且排除其他上气道平面梗阻因素，建议手术干预。  

临床问题9: OSA患儿使用 NPPV的指征、疗效和远期不良反应有哪些?

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '鼻用糖皮质激素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于缓解鼻炎症状'),
    n.duration = coalesce(n.duration, '6周');

MERGE (n:Treatment {name: '孟鲁司特钠'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于缓解OSA症状'),
    n.duration = coalesce(n.duration, '3个月');

MERGE (n:Complication {name: '腺样体肥大'})
SET 
    n.description = coalesce(n.description, '上气道梗阻情况'),
    n.severity = coalesce(n.severity, '中度');

MERGE (n:Complication {name: '扁桃体肥大'})
SET 
    n.description = coalesce(n.description, '上气道梗阻情况'),
    n.severity = coalesce(n.severity, '中度');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻用糖皮质激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '孟鲁司特钠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '腺样体肥大'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '足够');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '扁桃体肥大'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '足够');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:40"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/030-三指南工作组.md
[文本块]
# 指南工作组

## 成立情况
- **成立时间**: 2018年7月
- **工作组小组**:
  - 指南指导委员会
  - 指南制订工作组
  - 指南秘书组 (证据合成与评价组)
  - 指南外部评审小组

## 成员组成
- **领域**: 临床专家、指南方法学、循证医学、临床流行病学、卫生统计学、专业期刊编辑
- **专家区域**: 不同地域
- **临床学科**: 耳鼻咽喉头颈外科、呼吸科、口腔科、慢病管理、发育行为
- **儿科医师占比**: 约78%

## 指南方法学支持与指导
- **参与单位**:
  - 兰州大学基础医学院循证医学中心/GRADE中国中心
  - 北京大学循证医学中心
  - 北京大学公共卫生学院
  - 首都医科大学附属北京儿童医院临床流行病学与循证医学中心

## 利益冲突声明
- **参与人员**: 包括指南指导委员会、指南制订工作组、指南秘书组、指南外部评审小组成员
- **声明情况**: 按要求填写，未见与本指南直接相关的经济和非经济利益冲突

## 临床问题与结局指标收集与选择
- **方法**:
  - 系统查询已发表OSA相关指南和系统评价
  - 深度访谈
  - 初拟OSA指南临床问题及结局指标清单，进行归类、去重、合并
- **德尔菲调查**: 2轮
- **共识会议**: 1次面对面会议
- **临床问题确定**: 11个，包括5个诊断问题和6个治疗问题
- **构建原则**: 基于PICO原则 (Population, Intervention, Comparison, Outcome)
- **结局指标清单拟定**: 在查询文献、深度访谈和考虑患儿监护人意愿与价值观的基础上，经过多次讨论确定。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:41"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/034-十指南的更新.md
[文本块]
# 十指南的更新  

指南制订组计划在指南发布后3~5年更新本指南，更新方法依据国际指南更新流程进行。  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:41"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/035-十一版本说明.md
[文本块]
版本说明  
- 版本: 中文版、英文版  
- 中文版发布机构: 中华耳鼻咽喉头颈外科杂志、中国循证医学杂志  
- 英文版发布机构: Journal of Evidence-based Medicine、Pediatric Investigation、World Journal of Otorhinolaryngology-Head and Neck Surgery  
- 支撑数据保存单位: 国家儿童医学中心/首都医科大学附属北京儿童医院  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:41"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/032-六证据的检索合成与评价.md
[文本块]
# (六) 证据的检索、合成与评价（续）
本指南使用 GRADE 对各临床问题的证据概述中的证据体进行分级。共分为高、中、低、极低四个等级；推荐强度分为强推荐和弱推荐。GRADE 证据质量分级过程考虑五个降级因素：偏倚风险、一致性、精确性、发表偏倚、间接性，以及三个升级因素：效应量大、混杂因素偏倚、剂量效应。通过证据总结表和概要表呈现证据。

表6 PubMed 检索

(七) 形成推荐意见
指南制订工作组基于各临床问题相关的国内外系统评价证据、指南制订工作组制订的系统评价证据，个别问题参考相关指南证据，同时考虑了中国患儿/监护人的偏好和价值观、干预措施的成本等利平衡后，拟定了27条推荐意见。通过3轮德尔菲调查以及2019年8月25日在北京召开的面对面专家共识会议，前后共收集82条反馈意见，最终形成24条推荐意见。期间，指南工作组讨论和审定了所有推荐意见和证据质量。

(八) 指南的外审
指南征求意见稿由7名外部同行专家评审，根据其反馈意见和建议进行完善。最后由指南制订工作组将指南提交指南指导委员会批准。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:42"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/036-执笔专家.md
[文本块]
执笔专家: 倪鑫  
专家组成员: 

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:44"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/037-指导委员会成员.md
[文本块]
指导委员会成员包括：  
- 高志强：中国医学科学院北京协和医学院北京协和医院  
- 韩德民：首都医科大学附属北京同仁医院  
- 倪鑫：国家儿童医学中心首都医科大学附属北京儿童医院  
- 王辰：中国医学科学院  
- 王强：国家卫生健康委员会  
- 魏均民：中华医学会杂志社  
- 吴皓：上海交通大学医学院附属第九人民医院  
- 杨克虎：兰州大学基础医学院循证医学中心GRADE中国中心  
- 詹思延：北京大学循证医学中心北京大学公共卫生学院  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:45"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/041-中华医学会耳鼻咽喉头颈外科学分会第十二届委员会青年委员名单.md
[文本块]
中华医学会耳鼻咽喉头颈外科学分会第十二届委员会青年委员名单

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:45"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/027-2证据概述.md
[文本块]
# 证据概述

2016年 1 个系统评价共纳入 16 个研究，其中有 4 个研究为减重干预 OSA，包含手术减重（2 个回顾性研究，样本量为 260，其中 OSA: 117）和行为减重（2 个前瞻性研究，样本量为 99，其中 OSA: 46），均行描述性分析。手术减重干预中，1 个研究纳入的 34 例肥胖患儿（肥胖定义为体质量指数（BMI）≥ 95th Percentile）中，有 19 例 OSA 肥胖患儿（肥胖定义为 BMI > 40 kg/m²）接受了胃旁路手术，10 例术后随访患儿（年龄 (16.9±1.77）岁）手术前、后 BMI 为 (60.8±11.1) kg/m² 和 (41.6±9.5) kg/m²，AHI 中位数从 9.1 次/h 下降到 0.65 次/h (P<0.01)，OSA 持续存在率为 1/10; 另 1 个研究纳入的 226 例中有 98 例 OSA 患儿（肥胖定义为 BMI > 40 kg/m²）接受了腹腔镜套式胃切除术，未提供手术前后 BMI 和 AHI 信息，OSA 持续存在率为 18%（18/98）。另 2 个研究报告了行为减重（饮食限制、体育活动和心理支持）干预肥胖 OSA 患儿（其中 1 个研究肥胖定义为 BMI > 40 kg/m²），AHI 较减重前降低，持续存在率为 38%（8/21）和 3/9。

2018 年的 1 个病例系列研究，报告了体育锻炼联合饮食改变的减重干预对于 14 例 OSA（AHI≥2 次/h）患儿疗效，亚组分析结果提示在患儿减重干预 9 个月后 AHI 无明显变化 (P=0.18)。

# 推荐说明

对于超重或肥胖的 OSA 患儿，除了其他治疗，临床医师应推荐控制体重，学龄儿童健康体重标准推荐参考中华人民共和国卫生行业标准 (WS/T586-2018) 《学龄儿童青少年超重与肥胖筛查》，肥胖患儿的临床干预指导建议参考欧洲内分泌学会和儿科内分泌学会相关指南。但目前缺少减重治疗对儿童 OSA 的疗效高质量研究，主要以病例系列报告为主，同时研究对象 BMI 非常高 (>40 kg/m²)、年龄偏大 (>15 岁)，证据有限。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '减重干预'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过减重来改善OSA');

MERGE (n:Treatment {name: '手术减重'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过手术减重改善OSA');

MERGE (n:Treatment {name: '行为减重'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '饮食限制、体育活动和心理支持的结合');

MERGE (n:Complication {name: '肥胖'})
SET 
    n.description = coalesce(n.description, '体质量指数(BMI)≥ 95th Percentile'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: 'AHI持续存在'})
SET 
    n.description = coalesce(n.description, 'AHI持续升高的状态'),
    n.severity = coalesce(n.severity, '中等');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '减重干预'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.62),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗前后对比');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '手术减重'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.87),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗后');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '行为减重'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.52),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '临床指导');

MATCH (from) WHERE from.name = '肥胖'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = 'AHI持续存在'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.65),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:46"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/031-六证据的检索合成与评价.md
[文本块]
# 证据的检索、合成与评价  

本指南在主题和范围确定、证据合成与评价不同阶段进行了与OSA、腺样体和扁桃体手术相关指南的检索与评价，以及OSA相关系统评价/Meta分析的检索与评价。  

## 1. 纳入和排除标准  
### 纳入标准:  
1. 研究对象: 符合 OSA/OSAS (obstructive sleep apnea syndrome)/OSAHS (obstructive sleep apnea-hypopnea syndrome) 诊断的患儿，年龄 1~18 岁;  
2. 干预措施和对比措施: 不限定;  
3. 结局指标: 不限定;  
4. 研究类型分为三部分:  
   - 检索 OSA 和腺样体和(或)扁桃体切除术相关指南、共识;  
   - 检索 OSA 相关系统评价/Meta 分析;  
   - 指南制订工作组自制系统评价/Meta 分析，检索相应的原始研究。  

### 排除标准:  
1. 原发打鼾、中枢性呼吸暂停或低通气综合征的患者;  
2. OSA 合并其他先天或重症疾病患儿，包括唐氏综合征、颅面畸形、神经肌肉疾病(如脑瘫)、慢性肺部疾病、镰状细胞病、代谢性疾病或喉部软化症;  
3. 干预措施和对比措施为中医药的干预措施(如中草药、中成药、针灸等);  
4. 重复发表文献、计划书。  

## 2. 数据来源与检索策略  
### 数据来源:  
1. 数据库检索:  
   - 英文数据库: PubMed、EMBASE、The Cochrane Library;  
   - 中文数据库: 中国生物医学文献数据库(CBM)、中国知网(CNKI)、维普(VIP)和万方数据库(WanFang Data)。  
   - 检索时间为从建库到2019年9月。  
2. 指南相关资源:  
   - 美国国家临床指南中心(NGC, who.int/publications/guidelines/en/)、Uptodate(/contents/search)和医脉通。  
3. 系统评价/Meta分析注册相关检索资源: PROSPERO (International prospective register of systematic reviews)注册平台。  
4. 临床试验相关资源: 世界卫生组织国际临床试验注册平台(WHO ICTRP)。  
5. 补充检索: 查找 OSA 相关纳入研究参考文献，百度学术进行补充检索。  

### 检索词主要包括: OSA、儿童人群和研究类型三个方面。PubMed 检索 OSA 相关系统评价/Meta 分析的检索策略见表6。  

## 3. 文献筛选和资料提取  
至少2名评价员依据纳入和排除标准独立筛选文献，首先阅读题目、摘要排除不相关文献，查阅可能符合纳入标准的研究全文，确定纳入全文。至少2名评价员依据预先制订的资料提取表提取相关资料。以上过程不同意见讨论解决或咨询第三方意见协商确定。  

## 4. 证据评价  
使用 AGREE II 评价相关指南方法学质量。使用 AMSTAR 2 工具对纳入的系统评价分析进行方法学质量评价。如为高质量的系统评价和(或)Meta分析直接使用，如果时间大于2年则加以更新。考虑到制订中国儿童 OSA 指南需要中国本土的证据，指南制订工作组重新制订了相关系统评价/Meta分析。该环节用 Cochrane 偏倚风险评估工具(Risk of Bias, ROB)评价纳入 RCT 的偏倚风险;用诊断准确性研究的质量评价工具(Assessment of Diagnostic Accuracy Studies 2, QUADAS-2)评价纳入诊断试验的方法学质量;用纽卡斯尔-渥太华量表(Newcastle-Ottawa scale, NOS)评价纳入队列研究和病例对照研究的方法学质量。评价过程由2人独立完成，若存在不一致，共同讨论或咨询第三方协商解决。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停综合征'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Disease {name: '腺样体'});

MERGE (n:Disease {name: '扁桃体'});

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停综合征'
MATCH (to) WHERE to.name = '腺样体'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停综合征'
MATCH (to) WHERE to.name = '扁桃体'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:46"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/039-秘书组证据合成与评价组成员.md
[文本块]
# 秘书组(证据合成与评价组)成员  

杜江南 - 国家儿童医学中心首都医科大学附属北京儿童医院儿外科  
房孝莲 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
高淑蔚 - 国家儿童医学中心首都医科大学附属北京儿童医院呼吸科  
姬婷婷 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
李建荣 - 北京大学循证医学中心北京大学公共卫生学院  
李昆 - 国家儿童医学中心首都医科大学附属北京儿童医院临床流行病学与循证医学中心  
李晓丹 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
刘雅莉 - 国家儿童医学中心首都医科大学附属北京儿童医院临床流行病学与循证医学中心  
刘雨薇 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
卢婷婷 - 兰州大学基础医学院循证医学中心  
罗旭飞 - 兰州大学基础医学院循证医学中心  
马艳芳 - 兰州大学基础医学院循证医学中心  
马圆 - 兰州大学基础医学院循证医学中心  
梅林 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
牟家宁 - 国家儿童医学中心首都医科大学附属北京儿童医院儿外科  
聂晓璐 - 国家儿童医学中心首都医科大学附属北京儿童医院临床流行病学与循证医学中心  
邱悦 - 国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科  
孙凤 - 北京大学循证医学中心北京大学公共卫生学院  
万真 - 国家儿童医学中心首都医科大学附属北京儿童医院  
吴盼婷 - 国家儿童医学中心首都医科大学附属北京儿童医院呼吸科  
武泽昊 - 国家儿童医学中心首都医科大学附属北京儿童医院临床流行病学与循证医学中心  
严惠 - 郑州大学附属儿童医院  
周奇 - 兰州大学基础医学院循证医学中心  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:48"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/042-主任委员吴皓.md
[文本块]
主任委员: 吴皓

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:48"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/033-九传播与实施.md
[文本块]
# 传播与实施

指南发起单位通过以下方式对本指南进行传播和推广:
1. 在相关学术会议中介绍和解读指南。
2. 有计划地在全国范围内组织耳鼻咽喉科医师、呼吸科医师、睡眠监测技师、护理人员等相关医务工作者学习指南相关内容并能正确使用。
3. 通过微信或其他途径传播。

指南实施中的有利因素和不利因素估计。有利因素:
- 打鼾、睡眠呼吸暂停的问题逐渐被公众认识。
- 家长对孩子的睡眠问题重视度提高。
- 各级临床医生对OSA指南有了很高的需求。

不利因素:
1. OSA是睡眠障碍的一种类型，主要表现为打鼾和睡眠呼吸暂停。睡眠障碍范畴广泛，倾向于多学科联合诊疗，本指南主要关注儿童OSA，未包括原发打鼾、中枢性呼吸暂停或低通气综合征、合并其他先天或重症疾病患儿。
2. 本指南研究的人群较少包括14至18岁的青少年，因其生长发育接近成年人，符合成人发病特点的儿童/青少年可参考成人OSA诊疗原则。
3. 本指南拟纳入白三烯受体拮抗剂治疗儿童OSA的疗效和安全性，但主要评价的临床证据为孟鲁司特钠，未获取其他白三烯受体拮抗剂的证据。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '一种主要表现为打鼾和睡眠呼吸暂停的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '打鼾'})
SET 
    n.description = coalesce(n.description, '睡眠时呼吸发出的声响'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠期间呼吸短暂停止'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '频繁');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '打鼾'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:49"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/040-外审专家按姓氏拼音排序.md
[文本块]
外审专家:
- 靳英辉 (机构: 武汉大学中南医院循证与转化医学中心)
- 黎海芪 (机构: 重庆医科大学附属儿童医院儿童保健科)
- 李庆云 (机构: 上海交通大学医学院附属瑞金医院呼吸与危重症医学科)
- 尚云晓 (机构: 中国医科大学附属盛京医院小儿呼吸内科)
- 徐文 (机构: 首都医科大学附属北京同仁医院耳鼻咽喉头颈外科)
- 曾祥龙 (机构: 北京大学口腔医学院口腔正畸科)
- 张铁松 (机构: 昆明市儿童医院耳鼻咽喉科)

利益冲突: 所有作者均声明不存在利益冲突。
观察: 扫描二维码观看本文通信作者倪鑫教授对指南特点、制订背景等相关内容的介绍。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:50"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/019-2证据概述.md
[文本块]
# 2.证据概述:  

指南制订工作组制作的系统评价共纳入4个、3个和2个RCT,分别评价了鼻用糖皮质激素、白三烯受体拮抗剂及二者联合用药治疗儿童OSA疗效和不良反应。  

鼻用糖皮质激素治疗儿童OSA共纳入4个RCT( $n{=}204$ ):  
1. 有3个RCT( $\\scriptstyle{n=142}^{\\mathrm{~\\,~}}$ )的合并结果提示:  
   - 与安慰剂相比,鼻用糖皮质激素可降低OAHI( $S M D{=}-3.34$ , $95\\%C I-4.66\\sim-\\,2.01$ , ${P<}0.000\\ 1$ )和$\\mathrm{ODI}(\\,S M D{=}{-}2.18\\,,95\\%C I-3.86{\\sim}{-}0.50\\,,P{=}0.01)$,  
   - 觉醒指数 $(S M D=-1.32\\,,95\\%C I-4.61{\\sim}1.97\\,,P{=}0.43\\,)$,  
   - 最低血氧饱和度 $\\mathit{\\Omega}^{\\mathit{\\Delta}}\\mathit{S M D}=2.06\\,,95\\%\\mathit{C I}-2.44\\sim6.57\\,,P=0.37$;  
   - 两组间差异均无统计学意义。  
2. 2个研究报告了腺样体形态(A/N):  
   - 一个研究提示鼻用糖皮质激素可缩小腺样体,而另一个研究提示组间差异无统计学意义。  
3. 另1个研究为鼻用布地奈德与安慰剂(生理盐水)比较、用药周期为6周的随机交叉试验( $\\scriptstyle{n=62}$ ),  
   - 该研究未报告随机分配后组间比较的数据,故未与其他研究进行合并分析。  
   - 该研究所纳入的62例受试者均完成了交叉试验的第一阶段,有19例(药物组5例,安慰剂组14例)在第一阶段后退出试验。  
   - 该研究对比实际完成鼻用布地奈德的48例(第一阶段30例 $^+$ 第二阶段18例)与第一阶段安慰剂组32例,提示鼻用布地奈德相比安慰剂可降低 $\\mathrm{AHI_{\\circ}}$.  
4. 不良反应方面,有2个研究报告偶见恶心呕吐、腹泻,另2个研究两组均无不良反应发生。  
5. 进行Meta分析的3个研究间存在明显的临床异质性,  
   - 鼻用糖皮质激素类型(2个糠酸莫米松鼻喷剂、1个丙酸氟替卡松鼻喷剂)、用药次数、用药时间(4周、6周、4个月)差异有统计学意义。  
   - 纳入标准中AHI不等,结局指标OAHI和AHI均有报告。  

孟鲁司特钠治疗儿童OSA共纳入3个RCT( $n{=}$187):  
1. 与安慰剂/不干预组(2个RCT, $\\scriptstyle n=103$ )相比,孟鲁司特钠可降低OAHI( $S M D{=}{-}0.99$ , $95\\%C I$$-\\ 1.40\\mathrm{\\sim-\\}0.58$ , $P{<}0.000$ 01)、ODI( $M D=-\\,2.83$ ,$95\\%C I\\ -\\ 3.86\\sim-\\ 1.79$ , $P{<}0.000~01$ )和觉醒指数$\\langle S M D{=}{-}1.02$ ,95%CI -1.47\\~-0.57, ${P<}0.000\\ 1$;可升高最低血氧饱和度 $(M D=4.07\\,,95\\%C I\\,2.27{\\sim}5.88$$P{<}0.000\\ 01)$ 。  
2. 其中1个RCT( $n{=}46$ )结果提示:  
   - 打鼾( $S M D=-1.84$, $95\\%C I-2.53\\sim-1.14$ , $P{<}0.000\\ 01$ )和张口呼吸 $(S M D{=}-1.22$ $95\\%C I-1.85\\mathrm{--0.59}$ , $P{=}$0.000 2)症状有缓解趋势。  
3. 1个RCT( $n{=}57$ )提示扁桃体形态 $(M D{=}{-}0.20,95\\%C I-0.46{\\sim}0.06$ , ${P=}0.14$和腺样体形态( $\\langle~S M D{=}{-}0.58\\,,95\\%C I-1.19{\\sim}0.03$${\\cal P}{=}0.06\\,,$ 两组间差异无统计学意义。  
4. 以上2个RCT方法学质量较高,但样本量有限。  
5. 1个研究( $\\scriptstyle{n=}$84)比较了孟鲁司特钠联合常规治疗对比常规治疗,结果提示可降低 $\\mathrm{AHI}(M D{=}{-}1.62\\,,95\\%C I\\,{-}2.63{\\sim}$$-0.61\\,,P{=}0.002\\,)$ 、升高最低血氧饱和度 $(M D{=}2.53$ ,$95\\%C I\\ 0.88{\\sim}4.18\\,,P{=}0.003\\,)$ 和降低3级和4级腺样体肥大数量( $\\langle R R{=}0.15\\,,95\\%C I\\,0.04{\\sim}0.64\\,,P{=}0.01\\rangle$  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '鼻用糖皮质激素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗儿童OSA的鼻用糖皮质激素'),
    n.dosage = coalesce(n.dosage, '适应症而定'),
    n.duration = coalesce(n.duration, '根据治疗方案'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '孟鲁司特钠'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗儿童OSA的口服药物'),
    n.dosage = coalesce(n.dosage, '适应症而定'),
    n.duration = coalesce(n.duration, '根据治疗方案'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Symptom {name: '打鼾'})
SET 
    n.description = coalesce(n.description, '睡眠中发出的声音'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '张口呼吸'})
SET 
    n.description = coalesce(n.description, '睡眠时嘴部开放呼吸'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '觉醒指数'})
SET 
    n.description = coalesce(n.description, '表示夜间觉醒的频率'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '最低血氧饱和度'})
SET 
    n.description = coalesce(n.description, '最低血氧水平'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻用糖皮质激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, '-3.34'),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '孟鲁司特钠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, '-0.99'),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '打鼾'
MATCH (to) WHERE to.name = '儿童阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '张口呼吸'
MATCH (to) WHERE to.name = '儿童阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '觉醒指数'
MATCH (to) WHERE to.name = '儿童阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻微');

MATCH (from) WHERE from.name = '最低血氧饱和度'
MATCH (to) WHERE to.name = '儿童阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:51"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/043-副主任委员陈正侬张治华张琳杨钦泰.md
[文本块]
副主任委员: 陈正侬, 张治华, 张琳, 杨钦泰  

委员: (47名, 按姓氏拼音为序)  

白云飞, 边·片, 蔡晓, 陈东辉, 崔香艳, 董耀东, 冯国栋, 冯·娟, 何光耀, 侯昭晖, 李超, 李健, 李文妍, 李彦如, 刘勇, 马小洁, 孟粹达, 苗素生, 钱晓云, 申宇鹏, 沈泓, 石照辉, 孙希才, 王国鹏, 王恒, 王巍, 王英歌, 卫旭东, 魏欣文, 武林, 吴静, 徐磊, 许轶, 闫辉, 杨艳莉, 叶菁, 尹志华, 张春明, 张田, 张文, 张洋, 赵迪, 郑宏伟, 朱敏辉, 朱一鸣, 邹剑, 左汶奇

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:54"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/026-2证据概述.md
[文本块]
# 证据概述  

2017年1个Meta分析报告了上颌快速扩弓(RME)治疗伴有盖高拱或上颌狭窄(上颌横向发育不足)的OSA患儿，结果提示矫正后相比矫正前AHI降低 (M D=-4.84, 95% C I -8.47 ~ -1.21)，最低血氧饱和度升高 (M D=5.78, 95% C I 1.99 ~ 9.58)。2016年的1个系统评价报告快速扩弓治疗OSA患儿 (n=215)，结果提示RME可将AHI平均降低6.86次/h (P<0.0001)。2017年的1个系统评价提示快速扩弓可降低OSA患儿AHI (S M D=3.24, 95% C I 0.34 ~ 6.15)。2019年的1个系统评价对6个研究进行描述性分析，提示快速扩弓对上颌和鼻侧壁的增宽量分别为3.4 mm和3.3 mm，该数量在青春期后的患儿降至2.8 mm和2.2 mm。对于青春发育期前进行的扩弓，长期追踪上齿槽座及上颌骨的宽度可保持稳定增加，而青春发育期后进行的扩弓，鼻侧壁较对照组增加1.3 mm，上颌骨性宽度则无增加。2016年的Cochrane系统评价对比了个性化的口腔矫治器与不干预治疗儿童OSA (AHI>1次/h)，结果提示尽管纳入研究提示口腔矫正干预可降低轻度OSA患儿的AHI (R R=0.39, 95% C I 0.20 ~ 0.76, P=0.006)，改善口呼吸 (R R=0.16, 95% C I 0.04 ~ 0.59, P=0.006)、鼻塞 (R R=0.18, 95% C I 0.05 ~ 0.69, P=0.013)、习惯性打鼾 (R R=0.18, 95% C I 0.06 ~ 0.55, P=0.0028) 等症状，但口腔矫正治疗OSA证据尚不充分。  

2019年的1个系统评价评价了下颌前移型矫治器 (MAA) 治疗OSA患儿的疗效。其中2个高质量RCT (n=34) 报告显示：与安慰干预相比，MAA组OSA患儿AHI更低 (M D=-1.75, 95% C I -2.07 ~ -1.44)，最低血氧饱和度更高 (R R=3.4, 95% C I 0.9 ~ 5.9, P=0.007)；儿童睡眠问卷及生活质量和行为评分提升，ODI两组差异无统计学意义。敏感性分析纳入其他低质量研究，重新合并结果与以上两个高质量研究合并结果一致。亚组分析提示：MAA对轻 (AHI<5次/h)、中 (5次/h<AHI<10次/h) 和重 (AHI>10次/h)组AHI分别减少50% (1.72/3.5)、57% (4.27/7.5) 和76% (10.69/14.08)；MAA对低龄组（6~9.5岁）和大龄组（9.5~13岁）均可降低AHI。结果提示对13岁之前各年龄段均可以使用MAA治疗儿童OSA。目前缺乏青春发育期后的数据。  

# 推荐说明  

口腔矫治是儿童OSA的重要补充治疗措施，对于儿童临床耳鼻咽喉科及呼吸科医师而言，明确口腔正畸评估的适应证，并建立联合口腔科综合治疗的诊疗观念尤为重要。在口腔矫治期间，OSA患儿完成定期口腔科正畸随访尤为必要，并建议在停止治疗3~6个月后系统地进行睡眠监测。对于伴有口呼吸不良习惯的OSA患儿，口面肌功能训练可作为辅助治疗手段。  

# 临床问题  

减重对于肥胖OSA患儿的疗效如何？  

# 推荐意见  

对于超重或肥胖的OSA患儿，临床医师应推荐行为和饮食干预控制体重（证据等级：D；推荐级别：强推荐）。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '打鼾'});

MERGE (n:Symptom {name: '口呼吸'});

MERGE (n:Symptom {name: '鼻塞'});

MERGE (n:Symptom {name: '行为问题'});

MERGE (n:Symptom {name: '生活质量下降'});

MERGE (n:Treatment {name: '口腔矫治'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '用于治疗OSA的重要补充措施');

MERGE (n:Complication {name: '肥胖'})
SET 
    n.description = coalesce(n.description, '与OSA相关联的并发症'),
    n.severity = coalesce(n.severity, '轻度');

// 关系更新
MATCH (from) WHERE from.name = '打鼾'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '口呼吸'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '鼻塞'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '行为问题'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '生活质量下降'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '口腔矫治'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '肥胖'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.4),
    r.timeframe = coalesce(r.timeframe, '长期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:55"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/038-制订工作组成员.md
[文本块]
蔡晓红 - [温州医科大学附属第二医院育英儿童医院儿童睡眠医学科]  
曹玲 - [首都儿科研究所附属儿童医院呼吸科]  
陈洁 - [国家儿童医学中心上海交通大学医学院附属儿童医学中心耳鼻咽喉头颈外科]  
陈波蓓 - [温州医科大学附属第二医院育英儿童医院耳鼻喉科]  
陈耀龙 - [兰州大学基础医学院循证医学中心GRADE中国中心]  
房玉新 - [中华医学会杂志社中华耳鼻咽喉头颈外科杂志编辑部]  
高雪梅 - [北京大学口腔医院正畸科]  
葛文彤 - [国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科]  
韩芳 - [北京大学人民医院呼吸科]  
黄燕 - [中国科学院大学医学院呼吸科]  
江帆 - [国家儿童医学中心上海交通大学医学院附属上海儿童医学中心发育行为儿科]  
李兰 - [深圳市儿童医院耳鼻咽喉头颈外科]  
刘大波 - [南方医科大学深圳医院儿童耳鼻咽喉科]  
卢晓峰 - [上海交通大学医学院附属第九人民医院口腔颅颌面科]  
米杰 - [国家儿童医学中心首都医科大学附属北京儿童医院慢病管理中心]  
彭晓霞 - [国家儿童医学中心首都医科大学附属北京儿童医院临床流行病学与循证医学中心]  
沈翎 - [福建省福州儿童医院耳鼻咽喉头颈外科]  
申昆玲 - [国家儿童医学中心首都医科大学附属北京儿童医院呼吸科]  
部隽 - [首都儿科研究所附属儿童医院耳鼻喉科]  
徐佩茹 - [新疆医科大学儿科学院呼吸科]  
许志飞 - [国家儿童医学中心首都医科大学附属北京儿童医院呼吸科]  
杨兴华 - [首都医科大学公共卫生学院流行病与卫生统计学系]  
叶京英 - [清华大学附属北京清华长庚医院耳鼻咽喉头颈外科]  
张杰 - [国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科]  
张亚梅 - [国家儿童医学中心首都医科大学附属北京儿童医院耳鼻咽喉头颈外科]  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:33:55"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）.md
[隶属文件分块名]
中国儿童阻塞性睡眠呼吸暂停诊断与治疗指南（2020）/021-2证据概述.md
[文本块]
证据概述:（续）
共5个系统评价比较了药物治疗儿童OSA。系统评价评价抗炎药物治疗OSA患儿的疗效和安全性(AMSTAR2 = 14)，其中有2个RCT为鼻用糖皮质激素（2个RCT, n=87），另1个是孟鲁司特钠（仅发表摘要）。第1个RCT为期6周（n=25）：鼻用丙酸氟替卡松鼻喷剂相比安慰剂能降低轻、中度OSA患儿的AHI（MD = -7.20, 95% CI -13.96 ~ -0.44），但对于治疗前后最低血氧饱和度（MD = -1.20, 95% CI -5.06 ~ 2.66）、患儿父母报告的临床症状评分（如打鼾、呼吸暂停和白天嗜睡等）及扁桃体大小两组差异无统计学意义。远期的安全性和疗效数据尚不清楚；该研究方法学质量高但样本量较小。另1个用药周期为6周的随机交叉试验（n=62），该研究结果提示鼻用布地奈德相比安慰剂可降低AHI，本研究因未基于随机分配数据下进行的分析结果解释尚需谨慎。2015年的1个系统评价基于为期6周鼻用激素（氟替卡松和布地奈德）单组治疗前、后数据的比较结果提示：鼻用糖皮质激素可降低患儿AHI（WMD = 4.07, 95% CI 0.00 ~ 8.14, P < 0.0001）；布地奈德偶有鼻出血、腹泻、呕吐，症状较轻，未停止治疗。以上3个纳入研究间存在明显的方法学异质性和临床异质性，且未比较随机分配的药物组与对照组的差异。2013年1个系统评价结果提示：相比安慰剂，孟鲁司特钠可降低OSA患儿（OAI > 1次/h或AHI > 5 次/h）AHI（MD = -2.06, 95% CI -2.28 ~ -1.84, P < 0.00001）、觉醒指数（MD = -4.18, 95% CI -5.14 ~ -3.21, P < 0.0001）、呼吸暂停指数（MD = -1.18, 95% CI -1.28 ~ -1.08, P < 0.0001），但平均血氧饱和度（MD = 0.75, 95% CI 0.32 ~ 1.83, P = 0.17）组间差异无统计学意义；未见明显不良反应。2018年1个系统评价共纳入6个研究（n = 668），包括1个横断面研究、2个前瞻性队列研究、1个回顾性队列研究、2个安慰剂对照的RCT报告了孟鲁司特钠治疗儿童OSA疗效。其中2个RCT与2013年发表的系统评价所纳入的RCT一致；另2个研究（1个前瞻性队列研究、1个回顾性队列研究，n = 502）报告了孟鲁司特钠联合鼻用糖皮质激素治疗OSA前、后比较的疗效，结果提示治疗后AHI降低（MD = -4.18, 95% CI -6.33 ~ -2.04, P < 0.0001）、LSAT（MD = 4.76, 95% CI 4.46 ~ 5.06, P < 0.000001）。该系统评价纳入的6个研究中有4个研究报告不良反应情况，在511例受试者中有3例出现轻微的恶心、头痛和鼻出血，未见严重不良反应报告。2017年的1个网状分析（n = 499, AMSTAR = 7.5）结果显示与安慰剂相比，鼻用糠酸莫米松（WMD = 1.40, 95% CI 1.17 ~ 1.63）、布地奈德（WMD = 3.50, 95% CI 3.34 ~ 3.66）、氟替卡松（WMD = 7.20, 95% CI 5.26 ~ 9.14）和孟鲁司特钠（WMD = 2.80, 95% CI 1.01 ~ 4.59）均降低了AHI，其中氟替卡松改善儿童OSA的AHI的效果最好。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '儿童阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '鼻用糖皮质激素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于缓解儿童OSA的鼻用药物'),
    n.dosage = coalesce(n.dosage, '依疗程而定'),
    n.duration = coalesce(n.duration, '6周'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '孟鲁司特钠'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗OSA的口服药物'),
    n.dosage = coalesce(n.dosage, '依疗程而定'),
    n.duration = coalesce(n.duration, '依疗程而定'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Complication {name: '鼻出血'})
SET 
    n.description = coalesce(n.description, '使用鼻用药物可能出现的轻微副作用'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Complication {name: '恶心'})
SET 
    n.description = coalesce(n.description, '使用药物可能导致的轻微副作用'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Complication {name: '头痛'})
SET 
    n.description = coalesce(n.description, '使用药物可能导致的轻微副作用'),
    n.severity = coalesce(n.severity, '轻');

// 关系更新
MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻出血'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.05),
    r.timeframe = coalesce(r.timeframe, '治疗期间');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '恶心'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.03),
    r.timeframe = coalesce(r.timeframe, '治疗期间');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '头痛'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.02),
    r.timeframe = coalesce(r.timeframe, '治疗期间');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '鼻用糖皮质激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '儿童阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '孟鲁司特钠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '治疗');

"""
