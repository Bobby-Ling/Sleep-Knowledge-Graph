[metadata]
file_name = "中国成人失眠诊断与治疗指南（2023版） (2).md"
processed_at = "2024-12-12 01:29:21"
total_pairs = 30

[[message_pairs]]
timestamp = "2024-12-12 01:27:15"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/001-中国成人失眠诊断与治疗指南2023版.md
[文本块]
中国成人失眠诊断与治疗指南(2023版)  
- 出版单位: 中华医学会神经病学分会睡眠障碍学组  
- 通信作者: 王玉平  
  - 所属机构: 首都医科大学宣武医院神经内科  
  - 地址: 北京100053  
  - Email: wangyuping01@sina.cn  

摘要:  
- 失眠是最为常见的睡眠问题之一。  
- 本指南结合前版使用经验和当前国情，参考了国内外相关研究进展、新药和新型诊疗方法的应用，依照循证医学证据及时制订。  
- 主要变化:  
  1. 更新失眠的临床评估内容  
  2. 更新失眠药物治疗和心理治疗的相关推荐意见  
  3. 新增失眠的中国民族医药治疗推荐意见  
  4. 新增青少年及儿童等特殊人群及伴有或共病其他疾病人群失眠的治疗推荐意见  
- 新版指南内容更丰富，科学性和实用性更强，具临床指导价值。  

关键词:  
- 失眠  
- 诊断  
- 治疗  
- 指南  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '最为常见的睡眠问题之一');

MERGE (n:Treatment {name: '失眠药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '失眠的药物治疗');

MERGE (n:Treatment {name: '心理治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '失眠的心理治疗');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '失眠药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '心理治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:35"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/002-Chinese-guideline-for-diagnosis-and-treatment-of-i.md
[文本块]
# Chinese guideline for diagnosis and treatment of insomnia (2023)

**Organization**: Chinese Society of Sleep Disorders  
**Corresponding Author**: Wang Yuping, Department of Neurology, Xuanwu Hospital, Capital Medical University, Beijing 100053, China  

**Abstract**:  
Insomnia is the most common sleep disorder. The \"Chinese guideline for diagnosis and treatment of insomnia (2023)\" was formulated to update the previous version based on evidence-based medicine principles, incorporating experiences from the previous version and Chinese conditions, and referencing research progress regarding drug application, diagnosis, and treatment of insomnia domestically and internationally. The modifications include: 
1. Updating clinical assessment of insomnia.
2. Updating recommendations for pharmacological and psychological therapy for insomnia.
3. Adding recommendations for traditional Chinese medicine treatment of insomnia.
4. Adding recommendations for insomnia treatment for specific populations (e.g., adolescents, children, and individuals with co-morbidities).  
The new edition serves as a more extensive, scientific, and practical guide for clinicians.  

**Key Words**: Insomnia, Diagnosis, Treatment, Guideline.  

**Text**:  
失眠 (insomnia) 是最为常见的睡眠问题之一。失眠患病率因不同的调查人群、方法和诊断标准而变化很大。2017年发表的一项包含17项研究的荟萃分析结果显示，我国普通人群有临床意义的失眠 Insomnia Scale AIS 15%QualityIndex, PSQI) 或阿森斯失眠量表 (Athens Insomnia Scale, AIS) 评估为 $15\\%^{[1]}$ 。在全球 COVID-19 大流行期间，数百万人的睡眠受到影响，有报道称全球失眠症状的患病率为 $20\\%{\\sim}45\\%^{\\left[2\\right]}$ 。我国一项在线调查结果显示，COVID-19 大流行期间的失眠患病率为 $29.2\\%^{[3]}$ 。长期失眠影响个体的正常生活和工作，增加罹患各种健康问题的风险。严重的睡眠缺失会降低患者的工作效率和警觉水平，甚至有可能引发恶性意外事故，造成巨大损失[4-5]。为规范国内失眠的诊断和治疗，相关领域的专家于2006年发表了《中国失眠定义、诊断及药物治疗专家共识(草案)》，并于2012年在循证医学框架内经过广泛讨论推出《中国成人失眠诊断与治疗指南》，之后于2018年发表了更新版的《中国成人失眠诊断与治疗指南(2017版)》。该系列共识、指南为临床医师提供了越来越全面、规范、具有操作性的成人失眠诊疗方案。近年来，随着失眠相应新型治疗药物的上市、新型诊疗方法的出现和临床研究证据的不断积累，国内针对失眠的临床诊疗经验也在不断丰富，这些变化促成了本次修订工作。  

本修订版由中华医学会神经病学分会睡眠障碍学组牵头，并组织相关专家，结合国内失眠诊疗实践的现状，经过广泛讨论后形成。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.code = coalesce(n.code, 'ICD-10: F51.0'),
    n.description = coalesce(n.description, '最为常见的睡眠问题之一'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '轻度到中度');

MERGE (n:Symptom {name: '睡眠障碍'})
SET 
    n.description = coalesce(n.description, '影响个体的正常生活和工作'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '长期');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用新型治疗药物'),
    n.dosage = coalesce(n.dosage, '依照医嘱'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '个人敏感');

MERGE (n:Treatment {name: '心理治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '基于心理学的治疗方法'),
    n.dosage = coalesce(n.dosage, '依照医嘱'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '严重心理问题');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '持续');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '心理治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '持续');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:37"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/003-修订说明和适用范围.md
[文本块]
修订说明和适用范围

专家组参考国际失眠相关指南和临床实践标准，回顾2017年9月至2023年8月新发表的文献资料，结合前版指南使用经验和当前具体国情，依照循证医学证据提出失眠的诊断和治疗推荐意见。作为2017版指南的替代更新版本，本指南主要的变化包括：

1. 更新了失眠的临床评估内容；
2. 根据新的证据和我国国情更新了失眠药物治疗和心理治疗的相关推荐意见；
3. 新增了失眠的中国民族医药治疗推荐意见；
4. 新增了青少年及儿童等特殊人群以及伴有或共病其他疾病人群失眠的治疗推荐意见。

本指南的目标人群为成人和6岁及以上的青少年儿童，不包括6岁以下人群。本指南适用于所有的临床医师，旨在提供易于临床操作且符合我国国情的失眠诊疗规范。指南是针对临床特定问题进行广泛医疗实践后的总结，即使是较低级别的推荐，所涉及的临床实践仍强于单一的个人经验，理应成为临床实践的重要指导；在使用过程中应结合患者具体病情，评估潜在风险，实施个体化的精准医学诊疗。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:42"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/004-证据等级与推荐强度.md
[文本块]
证据等级与推荐强度  
本指南的证据等级和推荐强度基于中华医学会发布的《中国制订/修订临床诊疗指南的指导原则(2022版)》。参考牛津循证医学中心2011年的证据等级标准进行证据分级。  
证据等级分为“高(A)、中(B)、低(C)、极低(D)”四级。推荐强度分为“强(I)、弱(II)”二级。  
专家小组成员对于每一条意见的推荐方向及推荐强度进行投票表决，至少获得 $80\\%$ 以上参与者的认可方形成最终推荐意见。  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:46"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/010-三客观评估.md
[文本块]
# 三、客观评估  

1. 多导睡眠监测 (polysomnography, PSG)  
   - 主要用于失眠的鉴别诊断和疗效评估  
   - 适用于周期性肢体运动障碍、睡眠呼吸暂停、快速眼动睡眠期行为障碍等  
   - 针对药物或心理治疗反应不佳的患者  
   
2. 体动记录仪 (actigraph)  
   - 简单方便的非侵入性监测方法  
   - 评估身体活动和休息-活动周期  
   - 应用于昼夜节律失调性睡眠觉醒障碍 (circadian rhythm sleep-wake disorders, CRSWDs) 的鉴别诊断  
   - 在无 PSG 条件下评估患者夜间总睡眠时间和睡眠模式  
   - 可作为认知行为治疗 (cognitive behavioral therapy for insomnia, CBT-I) 的有效检测补充手段  

3. 可穿戴设备 (含远程监测设备)  
   - 改进了体动记录仪的缺点  
   - 保留了便携性，可进行多参数监测  

4. 神经影像  
   - 影像学检查 (CT、磁共振成像) 有助于排除其他疾病，如颅内肿瘤、脑血管疾病  
   - 功能磁共振成像可用于失眠的临床研究  
   - 可为无创神经调控治疗精准定位刺激部位  

5. 实验室检查  
   - 排除系统性疾病以及寻找失眠病因的重要工具  
   - 根据患者情况进行血常规、甲状腺功能、肝肾功能、血红蛋白、铁蛋白、维生素 B12、维生素 D 等检查  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍，表现为入睡困难、睡眠质量差或过早醒来等症状');

MERGE (n:Examination {name: '多导睡眠监测'})
SET 
    n.description = coalesce(n.description, '主要用于失眠的鉴别诊断和疗效评估'),
    n.method = coalesce(n.method, '多导睡眠监测'),
    n.requirement = coalesce(n.requirement, '适用于周期性肢体运动障碍、睡眠呼吸暂停、快速眼动睡眠期行为障碍等');

MERGE (n:Examination {name: '体动记录仪'})
SET 
    n.description = coalesce(n.description, '简单方便的非侵入性监测方法，评估身体活动和休息-活动周期'),
    n.method = coalesce(n.method, '体动记录仪'),
    n.requirement = coalesce(n.requirement, '在无 PSG 条件下评估患者夜间总睡眠时间和睡眠模式');

MERGE (n:Examination {name: '可穿戴设备'})
SET 
    n.description = coalesce(n.description, '改进了体动记录仪的缺点，保留了便携性，可进行多参数监测'),
    n.method = coalesce(n.method, '可穿戴设备'),
    n.requirement = coalesce(n.requirement, '可用于多参数监测');

MERGE (n:Examination {name: '神经影像'})
SET 
    n.description = coalesce(n.description, '影像学检查有助于排除其他疾病，如颅内肿瘤、脑血管疾病'),
    n.method = coalesce(n.method, '神经影像'),
    n.requirement = coalesce(n.requirement, '可为无创神经调控治疗精准定位刺激部位');

MERGE (n:Examination {name: '实验室检查'})
SET 
    n.description = coalesce(n.description, '排除系统性疾病以及寻找失眠病因的重要工具'),
    n.method = coalesce(n.method, '实验室检查'),
    n.requirement = coalesce(n.requirement, '根据患者情况进行血常规等检查');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '多导睡眠监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '体动记录仪'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '可穿戴设备'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'false');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '神经影像'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'false');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '实验室检查'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'false');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:01"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/011-失眠的分类诊断与鉴别诊断.md
[文本块]
失眠的分类诊断与鉴别诊断包括慢性失眠、短期失眠和其他失眠。慢性失眠的诊断标准要求失眠持续时间≥3个月，发作频次≥3次/周，并存在与夜间睡眠紊乱相关的至少1项日间症状，排除仅主诉睡眠质量差或醒后无恢复感的患者。短期失眠的诊断标准为睡眠素乱和相关日间症状持续不足3个月。其他失眠适用于具备睡眠起始困难和维持困难但不符合慢性或短期失眠诊断标准的罕见情况，建议谨慎使用。  

慢性失眠的诊断标准包括：  
A. 患者报告或观察到的1条或多条睡眠困难，包括睡眠起始困难、睡眠维持困难、比期望时间过早醒来、不愿上床等。  
B. 与夜间睡眠困难相关的1条或多条症状，如疲劳、注意力或记忆损害、情绪紊乱等。  
C. 单纯的睡眠机会不当或环境不当不能解释报告的睡眠/觉醒主诉。  
D. 每周至少出现3次睡眠紊乱和相关日间症状。  
E. 睡眠紊乱和相关日间症状至少存在3个月。  
F. 睡眠/觉醒困难不能由其他睡眠障碍解释。  

失眠与抑郁、焦虑和躯体化症状存在密切且复杂的关系。失眠伴抑郁患者包括失眠伴抑郁症状、共病及躯体疾病伴发的失眠与抑郁。失眠伴焦虑患者同样包括相关症状和共病的情况。失眠与躯体化症状的关系同样相似。控制失眠症状可改善伴随的抑郁、焦虑或躯体化症状，而对于共病患者，失眠与其他症状病情相对独立。躯体疾病与失眠的关系通过心理应激、脑功能、神经生化和内分泌改变等机制引起上述症状。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '慢性失眠'})
SET 
    n.description = coalesce(n.description, '失眠持续时间≥3个月，发作频次≥3次/周，并存在与夜间睡眠紊乱相关的至少1项日间症状'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Disease {name: '短期失眠'})
SET 
    n.description = coalesce(n.description, '睡眠素乱和相关日间症状持续不足3个月'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Disease {name: '其他失眠'})
SET 
    n.description = coalesce(n.description, '具备睡眠起始困难和维持困难但不符合慢性或短期失眠诊断标准的罕见情况'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Disease {name: '抑郁'})
SET 
    n.description = coalesce(n.description, '与失眠存在密切关系的情绪障碍'),
    n.category = coalesce(n.category, '心理疾病'),
    n.severity = coalesce(n.severity, '重');

MERGE (n:Disease {name: '焦虑'})
SET 
    n.description = coalesce(n.description, '与失眠存在密切关系的情绪障碍'),
    n.category = coalesce(n.category, '心理疾病'),
    n.severity = coalesce(n.severity, '重');

MERGE (n:Symptom {name: '睡眠起始困难'})
SET 
    n.description = coalesce(n.description, '入睡困难'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

MERGE (n:Symptom {name: '睡眠维持困难'})
SET 
    n.description = coalesce(n.description, '维持睡眠困难'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

MERGE (n:Symptom {name: '比期望时间过早醒来'})
SET 
    n.description = coalesce(n.description, '早醒'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

MERGE (n:Symptom {name: '疲劳'})
SET 
    n.description = coalesce(n.description, '白天疲劳感'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

MERGE (n:Symptom {name: '注意力或记忆损害'})
SET 
    n.description = coalesce(n.description, '注意力和记忆问题'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

MERGE (n:Symptom {name: '情绪紊乱'})
SET 
    n.description = coalesce(n.description, '情绪问题'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '每日');

// 关系更新
MATCH (from) WHERE from.name = '睡眠起始困难'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '睡眠维持困难'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '比期望时间过早醒来'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '疲劳'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '注意力或记忆损害'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '情绪紊乱'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每日'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '慢性失眠'
MATCH (to) WHERE to.name = '抑郁'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '基础');

MATCH (from) WHERE from.name = '慢性失眠'
MATCH (to) WHERE to.name = '焦虑'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '基础');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:11"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/005-失眠的定义.md
[文本块]
失眠的定义

失眠是指尽管有合适的睡眠机会和睡眠环境，依然对睡眠时间和（或）睡眠质量感到不满意，并且影响日间功能或引起躯体不适的一种主观体验。失眠达到一定的频率和持续时间，并且达到影响日常生活的程度（本文所涉及的失眠，是作为一种疾病并且需要进行干预的）。主要症状表现为：

- 入睡困难（成人人睡潜伏期超过 30 min）
- 睡眠维持障碍（整夜觉醒次数 ≥ 2 次）
- 早醒
- 睡眠质量下降
- 总睡眠时间减少（通常少于 6.5 h）

症状每周至少出现 3 次，并且必须伴有日间功能障碍或日间的痛苦体验。失眠引起的日间功能障碍主要包括疲劳、情绪低落或易激惹、躯体不适、认知障碍、焦虑情绪等。部分人群虽然睡眠时间较短（如短睡眠者），但没有与失眠有关的日间损害症状，不应被诊断为失眠。如果失眠是由于其他睡眠-觉醒障碍、精神障碍、其他医学情况或某种物质或药物引起的，也不应诊断为失眠。只有当失眠是临床关注的独立症状时，才诊断为失眠。目前大多诊断标准已放弃原发性、继发性失眠的诊断，因为人们认识到失眠不仅是其他躯体或精神障碍的伴随症状，也是独立的疾病，值得在临床实践中予以具体考虑。失眠可能更多地作为一种与躯体或精神障碍并存的症状，而不是以孤立的形式出现。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '尽管有合适的睡眠机会和睡眠环境，依然对睡眠时间和睡眠质量感到不满意，并且影响日间功能或引起躯体不适的一种主观体验。'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '轻度到中度');

MERGE (n:Symptom {name: '入睡困难'})
SET 
    n.description = coalesce(n.description, '成人人睡潜伏期超过 30 min'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '每周至少出现 3 次');

MERGE (n:Symptom {name: '睡眠维持障碍'})
SET 
    n.description = coalesce(n.description, '整夜觉醒次数 ≥ 2 次'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '每周至少出现 3 次');

MERGE (n:Symptom {name: '早醒'})
SET 
    n.description = coalesce(n.description, '较早醒来，无法再入睡'),
    n.severity = coalesce(n.severity, '轻度'),
    n.frequency = coalesce(n.frequency, '每周至少出现 3 次');

MERGE (n:Symptom {name: '睡眠质量下降'})
SET 
    n.description = coalesce(n.description, '感到睡眠质量较差'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '每周至少出现 3 次');

MERGE (n:Symptom {name: '总睡眠时间减少'})
SET 
    n.description = coalesce(n.description, '通常少于 6.5 h'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '每周至少出现 3 次');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '入睡困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少出现 3 次'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠维持障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少出现 3 次'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '早醒'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '每周至少出现 3 次'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠质量下降'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '每周至少出现 3 次'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '总睡眠时间减少'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '每周至少出现 3 次'),
    r.severity = coalesce(r.severity, '中度');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:14"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/012-失眠的分类诊断与鉴别诊断.md
[文本块]
失眠的分类诊断与鉴别诊断  
- 失眠需要与以下进行鉴别:
  - 精神障碍
  - 躯体疾病
  - 药物或物质滥用
  - 其他类型的睡眠障碍
    - 睡眠相关呼吸障碍
    - 不宁腿综合征 (Restless Legs Syndrome, RLS)
    - 周期性肢体运动障碍
    - 昼夜节律失调性睡眠觉醒障碍
    - 环境性睡眠困难
    - 睡眠不足综合征
    - 短睡眠者

- 失眠诊断时应针对精神或躯体障碍给予相应的诊断  

优秀实践声明 (Good Practice Statement, GPS)  
1. 诊断失眠时应进行以下评估:
   - 睡眠质量
   - 睡眠信念和态度
   - 日间症状
   - 情绪等量表评估
2. 如有可能，在首次系统评估前最好记录睡眠日记  
3. 诊断失眠时应关注共存的其他疾病和症状  
4. 鉴别其他睡眠障碍时应进行PSG:
   - 睡眠相关呼吸障碍
   - 周期性肢体运动障碍
   - 失眠患者接受合理干预后疗效反应不理想时应进行PSG排除其他类型睡眠障碍
   - 失眠患者伴随日间过度思睡，应当同时进行PSG和MSLT。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '精神障碍'});

MERGE (n:Disease {name: '躯体疾病'});

MERGE (n:Disease {name: '药物或物质滥用'});

MERGE (n:Disease {name: '其他类型的睡眠障碍'});

MERGE (n:Disease {name: '睡眠相关呼吸障碍'});

MERGE (n:Disease {name: '不宁腿综合征'});

MERGE (n:Disease {name: '周期性肢体运动障碍'});

MERGE (n:Disease {name: '昼夜节律失调性睡眠觉醒障碍'});

MERGE (n:Disease {name: '环境性睡眠困难'});

MERGE (n:Disease {name: '睡眠不足综合征'});

MERGE (n:Disease {name: '短睡眠者'});

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '精神障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '躯体疾病'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '药物或物质滥用'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '其他类型的睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '睡眠相关呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '不宁腿综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '周期性肢体运动障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '昼夜节律失调性睡眠觉醒障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '环境性睡眠困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '睡眠不足综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '其他类型的睡眠障碍'
MATCH (to) WHERE to.name = '短睡眠者'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:18"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/007-二主观评估.md
[文本块]
# 二、主观评估  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:23"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/006-失眠的临床评估.md
[文本块]
失眠的临床评估包括以下内容：

1. **病史采集**
   - 失眠表现形式
     - 人睡情况
     - 夜间觉醒次数
     - 早醒
     - 睡眠中异常动作和行为情况
   - 日间功能损害
     - 精神和体力状态
     - 工作和学习情况
     - 日间思睡
   - 失眠程度
     - 平均每周失眠的次数
     - 每晚总睡眠时间
     - 觉醒次数
     - 每次觉醒持续时间
     - 最后醒来的时间
   - 病程
     - 失眠持续时间
     - 症状波动性
   - 失眠诱发和加重-缓解因素
     - 心理应激事件
     - 睡眠环境因素
   - 睡眠觉醒节律
     - 作息时间表
     - 上床和最后觉醒时间
     - 是否午睡、倒班
   - 治疗情况
     - 以往治疗方法
     - 药物种类和剂量
     - 药物或物质依赖
   - 其他
     - 情绪障碍、神经系统、心血管系统等疾病

2. **体格检查**
   - 身体状况
   - 精神状态
   - 常规体格检查
   - 神经系统检查
   - 精神心理状态的评估

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠疾病');

MERGE (n:Symptom {name: '夜间觉醒次数'})
SET 
    n.description = coalesce(n.description, '睡眠过程中醒来的次数'),
    n.severity = coalesce(n.severity, '轻'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '早醒'})
SET 
    n.description = coalesce(n.description, '早于期望时间醒来'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '日间思睡'})
SET 
    n.description = coalesce(n.description, '白天感到困倦的状态'),
    n.severity = coalesce(n.severity, '重'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '症状波动性'})
SET 
    n.description = coalesce(n.description, '失眠症状的轻重变化'),
    n.severity = coalesce(n.severity, '轻'),
    n.frequency = coalesce(n.frequency, '不定');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '夜间觉醒次数'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '早醒'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '症状波动性'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '不定'),
    r.severity = coalesce(r.severity, '轻');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:28"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/008-一睡眠日记.md
[文本块]
# 睡眠日记

睡眠日记是失眠评估的重要组成部分。由患者本人或家人协助完成为期1~2周的睡眠日记，记录以下信息：
- 每日上床时间
- 估计睡眠潜伏期
- 夜间觉醒次数及每次觉醒的时间
- 从上床开始到起床之间的总卧床时间
- 根据早晨觉醒时间估计实际睡眠时间
- 计算睡眠效率（实际睡眠时间/卧床时间 × 100%）
- 夜间异常症状（异常呼吸、行为和运动等）
- 日间精力与社会功能受影响程度的自我体验
- 午休情况
- 日间用药和饮料品种

睡眠日记是全面了解患者的睡眠及日间状况的有用工具。

"""
response = """
// 节点更新
MERGE (n:Scale {name: '睡眠日记'})
SET 
    n.description = coalesce(n.description, '记录失眠情况的工具'),
    n.score_range = coalesce(n.score_range, '无'),
    n.interpretation = coalesce(n.interpretation, '全面了解患者的睡眠及日间状况');

MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '轻度到严重');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠日记'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 1.0),
    r.recommendation_level = coalesce(r.recommendation_level, '高');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:29"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/014-失眠的治疗.md
[文本块]
失眠的治疗  
1. non-BZDs  
   - 主要包括唑吡坦、扎来普隆、右佐匹克隆和佐匹克隆。  
   - 扎来普隆半衰期小于1h，适用于治疗人睡困难。  
   - 唑吡坦半衰期小于0.7~3.5h，能够快速诱导睡眠，治疗人睡困难和睡眠维持障碍，使用时应防护跌倒及异态睡眠的发生。  
   - 右佐匹克隆和佐匹克隆半衰期小于6h，比唑吡坦有更好的睡眠维持作用。  
   - 长期应用时，扎来普隆对认知和心理运动的影响少于唑吡坦和佐匹克隆。  
   - non-BZDs与BZDs催眠疗效类似，但药物依赖的风险较传统BZDs低。  
   - non-BZDs半衰期相对较短，次日残余效应低，一般不产生日间困倦，因此non-BZDs治疗失眠安全、有效，无严重药物不良反应（A级证据，I级推荐）。  

2. 新型苯二氮草受体激动剂地达西尼（dimdazenil）  
   - 为γ-氨基丁酸A型（GABA_A）受体的部分正向别构调节剂，选择性作用于α_1亚基，部分激动GABA_A受体。  
   - 地达西尼达峰时间约1h，半衰期约4h，适用于人睡困难和睡眠维持困难，可以改善日间疲劳，不影响N日2间功能。  
   - 地达西尼治疗失眠的研究结果显示，其能缩短人睡时间和增加总睡眠时间，增加N2期睡眠，改善日间思睡（短期应用A级证据，I级推荐）。  

"""
response = """
// 节点更新
MERGE (n:Treatment {name: '非苯二氮平类药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '主要包括唑吡坦、扎来普隆、右佐匹克隆和佐匹克隆');

MERGE (n:Disease {name: '失眠'});

MERGE (n:Treatment {name: '地达西尼'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, 'γ-氨基丁酸A型受体的部分正向别构调节剂');

// 关系更新
MATCH (from) WHERE from.name = '非苯二氮平类药物'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '地达西尼'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:35"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/013-失眠的治疗.md
[文本块]
# 失眠的治疗  

一、总体目标和干预策略  

1. **总体目标**:  
   (1) 改善睡眠质量和(或)增加有效睡眠时间  
   (2) 防止短期失眠转化成慢性失眠  
   (3) 减少与失眠相关的躯体症状或与精神疾病共病的风险  
   (4) 恢复日间社会功能，提高生活质量  
   (5) 尽可能避免包括药物在内的各种干预方式带来的负面效应  

2. **干预方式**:  
   失眠的干预方式主要包括药物治疗、心理治疗、物理治疗和中国民族医药治疗等。  
   - 药物治疗的短期疗效已被临床试验证实，但长期应用需承担潜在风险。  
   - 心理治疗主要包括睡眠卫生教育和CBT-I。  
     - 强调睡眠卫生教育的重要性，建立良好睡眠卫生习惯后再开展其他治疗。  
     - CBT-I能够纠正错误的睡眠认知与行为，消除心理及生理性高觉醒，重建正确的睡眠觉醒认知模式。  
     - 数字CBT-I也可达到一定效果。  
   - 近年来，物理治疗（如光照疗法、经颅电刺激、经颅磁刺激等）在失眠治疗中被广泛应用，饮食疗法、芳香疗法、按摩等可作为补充治疗方式。  
   - 中医治疗失眠的历史悠久，尚需现代循证医学模式评估。  

3. **不同类型失眠的干预策略**:  
   - **短期失眠**: 积极寻找并消除诱发因素，早期使用药物治疗。  
   - **慢性失眠**: 需详细病情评估，在建立良好睡眠卫生习惯后选择相应治疗方法。  

二、失眠的药物治疗  

(一) **苯二氮草受体激动剂 (BZRAs)**  
- BZDs与非苯二氮草类药物（non-BZDs）和新型苯二氮草受体激动剂。  
- BZDs起源于20世纪60年代，具有镇静、催眠、抗焦虑等药理作用。  
- 从20世纪80年代起，non-BZDs应用于临床，选择性激动$\\upalpha_{1}$亚基，发挥催眠作用，不良反应小。  

1. **BZDs**:  
   - 改善失眠患者入睡困难，增加总睡眠时间。  
   - 三唑仑为短半衰期催眠药物，成瘾性高，已被列为一类精神药品管理。  
   - 常用BZDs包括艾司唑仑、阿普唑仑等，其中艾司唑仑是FDA唯一批准用于失眠治疗的BZDs。  
   - 不良反应包括日间困倦、头昏、认知功能减退等，长期使用后突然停药可能出现戒断症状和反跳性失眠。  
   - 肝肾功能损害、重症肌无力等患者禁用BZDs。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍，表现为入睡困难、维持睡眠困难或早醒等症状');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用药物改善睡眠质量和延长睡眠时间'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '肝肾功能损害、重症肌无力等患者禁用');

MERGE (n:Treatment {name: '心理治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过心理干预方法改善睡眠'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '物理治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '包括光照疗法、经颅电刺激等治疗失眠'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '中医治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过中医方法治疗失眠'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: 'CBT-I'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '认知行为疗法，用于纠正睡眠认知与行为'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '数字CBT-I'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '基于数字平台的认知行为疗法'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Symptom {name: '入睡困难'})
SET 
    n.description = coalesce(n.description, '患者难以入睡的状态'),
    n.severity = coalesce(n.severity, '重度');

MERGE (n:Symptom {name: '维持睡眠困难'})
SET 
    n.description = coalesce(n.description, '患者在夜间醒来后难以再次入睡'),
    n.severity = coalesce(n.severity, '重度');

MERGE (n:Symptom {name: '早醒'})
SET 
    n.description = coalesce(n.description, '患者比预期时间早醒'),
    n.severity = coalesce(n.severity, '中度');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '心理治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '长期治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '物理治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.6),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '长期治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '中医治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.5),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '长期治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = 'CBT-I'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '长期治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '数字CBT-I'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '长期治疗');

MATCH (from) WHERE from.name = '入睡困难'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '维持睡眠困难'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '早醒'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中度');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:42"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/020-八麻醉类药物.md
[文本块]
# 麻醉类药物（续）

CBT-I作为慢性失眠的初始治疗和一线治疗，可减轻失眠严重程度，缩短睡眠潜伏时间，减少睡后清醒时间，提高睡眠质量和效率且无明显不良反应。研究发现，CBT-I对慢性失眠的短期疗效与药物相当，而长期疗效优于non-BZDs，能够短期内改善失眠症状，提高依从性。当non-BZDs改为间断服药或者在逐步停药过程中，坚持CBT-I有助于维持疗效。

CBT-I是认知治疗和行为治疗的组合，至少涉及一种认知成分和一个核心行为成分（睡眠限制、刺激控制），其他选项包括渐进放松、正念冥想和矛盾意念，也称为多组分疗法。将多组分疗法进行简化，形成失眠简短行为治疗，强调核心的行为治疗成分，有针对性地进行认知干预、放松训练，省时省力。CBT-I能够缓解睡困难（缩短睡眠潜伏期）、增加总睡眠时间、提升睡眠效率、改善睡疗模块，患者借助智能终端（如智能手机、平板电脑等）特定APP而获取治疗；其主要优点是不受地点限制、高度组织、内容具体、性价比高。主要不足在于患者依从性差，治疗相对缺少个性化。随着人工智能的发展，未来睡眠医学将发展出智能化自助式CBT-I，有望更好地为失眠患者服务。

## 失眠的物理治疗

物理治疗相对安全无创、操作简便、可接受度高，通常包括无创神经调控治疗、生物反馈、光照治疗、声音治疗等，作为一种治疗选择，单用或与药物治疗和（或）心理治疗联合应用，尤其适合于药物治疗受限或不能耐受药物治疗的特殊人群，如青少年、围产期妇女、合并多种慢病的老年人群。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '慢性失眠'})
SET 
    n.description = coalesce(n.description, '一种持续的睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Treatment {name: '认知行为治疗（CBT-I）'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '结合认知和行为治疗的多组分疗法');

MERGE (n:Treatment {name: '物理治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '包括无创神经调控治疗、生物反馈、光照治疗、声音治疗等');

// 关系更新
MATCH (from) WHERE from.name = '慢性失眠'
MATCH (to) WHERE to.name = '认知行为治疗（CBT-I）'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始治疗');

MATCH (from) WHERE from.name = '慢性失眠'
MATCH (to) WHERE to.name = '物理治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '联合治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:43"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/009-二量表测评.md
[文本块]
量表测评包括以下自评与他评量表：
1. PSQI
2. 失眠严重程度指数 (Insomnia Severity Index, ISI)
3. 爱泼沃斯思睡量表 (Epworth Sleepiness Scale, ESS)
4. 睡前觉醒状态量表 (Pre-Sleep Arousal Scale, PSAS)
5. 疲劳严重程度量表 (Fatigue Severity Scale, FSS)
6. 清晨型与夜晚型睡眠问卷 (Morning and Evening Questionnaire, MEQ)
7. 简明健康调查问卷 (Short Form-36 Health Survey, SF-36)
8. 睡眠信念和态度量表 (Dysfunctional Beliefs and Attitudes about Sleep Scale, DBAS)
9. 情绪评估量表：
   - 汉密尔顿焦虑量表 (Hamilton Anxiety Scale, HAMA)
   - 汉密尔顿抑郁量表 (Hamilton Depression Scale, HAMD)
   - 贝克抑郁量表 (Beck Depression Inventory, BDI)
   - 状态-特质焦虑问卷 (State-Trait Anxiety Inventory, STAI)
   - 广泛性焦虑障碍量表 (Generalized Anxiety Disorder Scale, GAD-7)

接诊医生可根据患者具体情况选用。

"""
response = """
// 节点更新
MERGE (n:Scale {name: '匹兹堡睡眠质量指数'})
SET 
    n.description = coalesce(n.description, 'PSQI自评工具'),
    n.score_range = coalesce(n.score_range, '0-21'),
    n.interpretation = coalesce(n.interpretation, '分数越高，睡眠质量越差');

MERGE (n:Scale {name: '失眠严重程度指数'})
SET 
    n.description = coalesce(n.description, 'Insomnia Severity Index, ISI，自评工具'),
    n.score_range = coalesce(n.score_range, '0-28'),
    n.interpretation = coalesce(n.interpretation, '分数越高，失眠程度越严重');

MERGE (n:Scale {name: '爱泼沃斯思睡量表'})
SET 
    n.description = coalesce(n.description, 'Epworth Sleepiness Scale, ESS'),
    n.score_range = coalesce(n.score_range, '0-24'),
    n.interpretation = coalesce(n.interpretation, '分数越高，白天嗜睡程度越严重');

MERGE (n:Scale {name: '睡前觉醒状态量表'})
SET 
    n.description = coalesce(n.description, 'Pre-Sleep Arousal Scale, PSAS'),
    n.score_range = coalesce(n.score_range, '0-28'),
    n.interpretation = coalesce(n.interpretation, '分数越高，睡前觉醒状态越严重');

MERGE (n:Scale {name: '疲劳严重程度量表'})
SET 
    n.description = coalesce(n.description, 'Fatigue Severity Scale, FSS'),
    n.score_range = coalesce(n.score_range, '0-40'),
    n.interpretation = coalesce(n.interpretation, '分数越高，疲劳程度越严重');

MERGE (n:Scale {name: '清晨型与夜晚型睡眠问卷'})
SET 
    n.description = coalesce(n.description, 'Morning and Evening Questionnaire, MEQ'),
    n.score_range = coalesce(n.score_range, '0-25'),
    n.interpretation = coalesce(n.interpretation, '分数反映清晨与夜晚的睡眠偏好');

MERGE (n:Scale {name: '简明健康调查问卷'})
SET 
    n.description = coalesce(n.description, 'Short Form-36 Health Survey, SF-36'),
    n.score_range = coalesce(n.score_range, '0-100'),
    n.interpretation = coalesce(n.interpretation, '分数越高，健康状况越好');

MERGE (n:Scale {name: '睡眠信念和态度量表'})
SET 
    n.description = coalesce(n.description, 'Dysfunctional Beliefs and Attitudes about Sleep Scale, DBAS'),
    n.score_range = coalesce(n.score_range, '0-83'),
    n.interpretation = coalesce(n.interpretation, '分数越高，负面睡眠信念越明显');

MERGE (n:Scale {name: '汉密尔顿焦虑量表'})
SET 
    n.description = coalesce(n.description, 'Hamilton Anxiety Scale, HAMA'),
    n.score_range = coalesce(n.score_range, '0-56'),
    n.interpretation = coalesce(n.interpretation, '分数越高，焦虑程度越严重');

MERGE (n:Scale {name: '汉密尔顿抑郁量表'})
SET 
    n.description = coalesce(n.description, 'Hamilton Depression Scale, HAMD'),
    n.score_range = coalesce(n.score_range, '0-52'),
    n.interpretation = coalesce(n.interpretation, '分数越高，抑郁程度越严重');

MERGE (n:Scale {name: '贝克抑郁量表'})
SET 
    n.description = coalesce(n.description, 'Beck Depression Inventory, BDI'),
    n.score_range = coalesce(n.score_range, '0-63'),
    n.interpretation = coalesce(n.interpretation, '分数越高，抑郁程度越严重');

MERGE (n:Scale {name: '状态-特质焦虑问卷'})
SET 
    n.description = coalesce(n.description, 'State-Trait Anxiety Inventory, STAI'),
    n.score_range = coalesce(n.score_range, '20-80'),
    n.interpretation = coalesce(n.interpretation, '分数越高，焦虑程度越高');

MERGE (n:Scale {name: '广泛性焦虑障碍量表'})
SET 
    n.description = coalesce(n.description, 'Generalized Anxiety Disorder Scale, GAD-7'),
    n.score_range = coalesce(n.score_range, '0-21'),
    n.interpretation = coalesce(n.interpretation, '分数越高，焦虑障碍程度越严重');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:44"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/015-二双食欲素受体拮抗剂.md
[文本块]
双食欲素受体拮抗剂(DORA)包括以下成分:

1. 食欲素
   - 食欲素A（下丘脑分泌素-1，hypocretin-1）
   - 食欲素B（下丘脑分泌素-2，hypocretin-2）

2. 食欲素受体
   - 食欲素1型受体（OX1R）

3. DORA药物
   - 苏沃雷生（suvorexant）
     - 剂量：10 mg或20 mg，睡前口服
     - 达峰时间：2.0至3.5小时
     - 半衰期：12至15小时
     - 不良反应：次日日间思睡
     - 适应症：阿尔茨海默病患者的失眠、急性脑卒中患者的主观失眠
   - 莱博雷生（lemborexant）
     - 剂量：5 mg或10 mg
     - 达峰时间：1至3小时
     - 半衰期：17至19小时
     - 不良事件：提高睡眠效率、缩短潜伏期、改善觉醒时间
     - 安全性和耐受性：A级证据，I级推荐
   - 达利雷生（daridorexant）
     - 剂量：25 mg或50 mg，睡前30分钟口服
     - 达峰时间：1至2小时
     - 半衰期：8小时
     - 常用剂量：50 mg，特殊人群为25 mg或50 mg
     - 适应症：改善夜间睡眠和日间功能，低日间思睡发生比例
     - 安全性：A级证据，I级推荐

常见的不良事件：头痛（10%）、思睡（7%）、疲劳（5%），少于2%的患者出现睡眠瘫痪和睡眠幻觉。DORA无次日残留，对认知及呼吸影响小，可应用于轻中度慢性阻塞性肺病(COPD)和阻塞性睡眠呼吸暂停综合征(OSAS)的失眠患者。莱博雷生对重度COPD和OSA患者的呼吸功能无负面影响。无证据表明DORA导致药物依赖，可以长期应用，停药不出现显著反跳性失眠。

"""
response = """
// 节点更新
MERGE (n:Treatment {name: '苏沃雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '双食欲素受体拮抗剂，适应症为阿尔茨海默病患者的失眠、急性脑卒中患者的主观失眠'),
    n.dosage = coalesce(n.dosage, '10 mg或20 mg'),
    n.duration = coalesce(n.duration, '睡前口服');

MERGE (n:Treatment {name: '莱博雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善睡眠效率、缩短潜伏期、改善觉醒时间'),
    n.dosage = coalesce(n.dosage, '5 mg或10 mg'),
    n.contraindication = coalesce(n.contraindication, '安全性和耐受性：A级证据，I级推荐');

MERGE (n:Treatment {name: '达利雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善夜间睡眠和日间功能，低日间思睡发生比例'),
    n.dosage = coalesce(n.dosage, '25 mg或50 mg，睡前30分钟口服'),
    n.contraindication = coalesce(n.contraindication, '安全性：A级证据，I级推荐');

MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '阿尔茨海默病'});

MERGE (n:Disease {name: '急性脑卒中'});

MERGE (n:Disease {name: '慢性阻塞性肺病'})
SET 
    n.short_name = coalesce(n.short_name, 'COPD');

MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停综合征'})
SET 
    n.short_name = coalesce(n.short_name, 'OSAS');

// 关系更新
MATCH (from) WHERE from.name = '苏沃雷生'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '莱博雷生'
MATCH (to) WHERE to.name = '慢性阻塞性肺病'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '慢性');

MATCH (from) WHERE from.name = '莱博雷生'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停综合征'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '慢性');

MATCH (from) WHERE from.name = '达利雷生'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '苏沃雷生'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '莱博雷生'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '达利雷生'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.88),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '低');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:48"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/017-三褪黑素和褪黑素受体激动剂.md
[文本块]
# 褪黑素和褪黑素受体激动剂
1. 米氮平: 米氮平 (3.75 ~ 15.00 mg) 
   - 功效: 快速镇静, 改善睡眠, 增加慢波睡眠, 有助于睡眠持续
   - 对REM睡眠的影响: 潜伏期及持续时间影响较小
   - 适用症: 浅睡眠增加, 早醒, 失眠伴焦虑抑郁
   - 不良反应: 可引起或加重RLS, 噩梦, 半衰期长, 易出现白天困倦, 长期使用易出现锥体外系不良反应

# 抗抑郁药物与BZRAs联合应用
- 失眠与抑郁焦虑: 互为因果
- SSRI: 选择性5-羟色胺再摄取抑制剂
  - 功效: 治疗抑郁和焦虑改善失眠
  - 不良反应: 初期可能激越反应, 延长睡眠潜伏期, 增加觉醒时间, 减少总睡眠时间和效率, 减少慢波睡眠
- SNRI: 5-羟色胺去甲肾上腺素再摄取抑制剂
- 短效BZRAs: 如唑吡坦、佐匹克隆或右佐匹克隆
  - 联合应用: 早期缓解失眠, 提高对SSRI、SNRI的依存性
- 盐酸曲唑酮: 改善睡眠结构和连续性
  - 联合使用短效BZRAs提高依存性
- 多塞平、小剂量米氮平: 镇静作用，一般不需要联用类药物

# 镇静作用的抗精神病药
- 药物: 喹硫平、奥氮平、氯氮平
  - 功效: 增加总睡眠时间, 改善睡眠结构, 减少觉醒时间
  - 不良反应: 尚缺乏循证医学证据，不建议无精神疾病的失眠患者使用
- 首选: 小剂量喹硫平，镇静效果较好，安全性较高

"""
response = """
// 节点更新
MERGE (n:Treatment {name: '米氮平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '快速镇静, 改善睡眠, 增加慢波睡眠, 有助于睡眠持续'),
    n.dosage = coalesce(n.dosage, '3.75 ~ 15.00 mg'),
    n.contraindication = coalesce(n.contraindication, '可引起或加重RLS, 噩梦, 半衰期长, 易出现白天困倦, 长期使用易出现锥体外系不良反应');

MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '焦虑抑郁'});

MERGE (n:Treatment {name: '盐酸曲唑酮'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善睡眠结构和连续性');

MERGE (n:Treatment {name: '短效BZRAs'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '如唑吡坦、佐匹克隆或右佐匹克隆，联合应用早期缓解失眠');

MERGE (n:Treatment {name: '喹硫平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '增加总睡眠时间, 改善睡眠结构, 减少觉醒时间'),
    n.contraindication = coalesce(n.contraindication, '尚缺乏循证医学证据，不建议无精神疾病的失眠患者使用');

MERGE (n:Treatment {name: '小剂量米氮平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '镇静作用，一般不需要联用类药物');

// 关系更新
MATCH (from) WHERE from.name = '米氮平'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '高');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '焦虑抑郁'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '盐酸曲唑酮'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '中');

MATCH (from) WHERE from.name = '短效BZRAs'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '中');

MATCH (from) WHERE from.name = '喹硫平'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '高');

MATCH (from) WHERE from.name = '小剂量米氮平'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.0),
    r.priority = coalesce(r.priority, '低');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:49"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/023-五光照治疗.md
[文本块]
光照治疗影响下丘脑中的视交叉上核，调节松果体褪黑素的分泌，从而影响睡眠和警觉性。晨间光疗作为一种自然、简单的治疗方法，通过调整内源性睡眠-觉醒周期改善睡眠质量和增加睡眠维持，但其效应量为小到中等，需要进一步研究以证明其对慢性失眠的临床益处。常见的不良反应轻微且可逆，包含头痛、眼疲劳和恶心呕吐，亦可能诱发轻躁狂。相对禁忌证包括躁狂、偏头痛和视网膜光敏性。最佳光照强度和波长、理想持续时间尚未确定，通常建议使用2500至10000 Lux，持续30分钟至2小时。推荐意见是光照治疗作为辅助疗法，可能有助于改善睡眠质量，但最佳参数未定（C级证据，II级推荐）。

"""
response = """
// 节点更新
MERGE (n:Treatment {name: '光照治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过调整内源性睡眠-觉醒周期改善睡眠质量'),
    n.duration = coalesce(n.duration, '30分钟至2小时'),
    n.contraindication = coalesce(n.contraindication, '躁狂, 偏头痛, 视网膜光敏性');

MERGE (n:Disease {name: '慢性失眠'});

MERGE (n:Symptom {name: '头痛'})
SET 
    n.description = coalesce(n.description, '轻微的不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '眼疲劳'})
SET 
    n.description = coalesce(n.description, '轻微的不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '恶心呕吐'})
SET 
    n.description = coalesce(n.description, '轻微的不良反应'),
    n.severity = coalesce(n.severity, '轻微'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '光照治疗'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.5),
    r.priority = coalesce(r.priority, '中等'),
    r.stage = coalesce(r.stage, '辅助');

MATCH (from) WHERE from.name = '头痛'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

MATCH (from) WHERE from.name = '眼疲劳'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

MATCH (from) WHERE from.name = '恶心呕吐'
MATCH (to) WHERE to.name = '慢性失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '轻微');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:50"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/018-八麻醉类药物.md
[文本块]
# 麻醉类药物  

右美托咪定(dexmedetomidine)是一种 $\\upalpha_{2}$ 肾上腺素能受体激动剂，能显著改善睡眠效率，增加N2期睡眠。右美托咪定输注主要在其他治疗无效时用于重症、难治性失眠患者的治疗，需进行神经科、精神科、呼吸科、麻醉科等多学科评估，由麻醉科医师酌情应用。鼻吸右美托咪定可缩短人睡时间、延长睡眠时间，改善焦虑，但该药物治疗失眠目前还属于超适应证用药(B级证据，不推荐)。

异丙酚输注可能通过增强GABA和甘氨酸受体的功能，抑制N-甲基-D-天冬氨酸(N-methyl-D-aspartate)受体的功能，调节体内的睡眠平衡，增加慢波睡眠和改善抑郁(D级证据，II级推荐)。

常用失眠治疗药物的药代动力学特征、用法用量、适应证及不良反应等信息总结见表3。

## 药物治疗的推荐方案  

1. **给药方式**: 镇静催眠药物每晚睡前口服1次，称为连续治疗。若非每晚服用，比如每周选择数晚服药而不是连续每晚用药则称为间歇治疗。推荐间歇给药治疗的频率为每周3~5次，“按需”服用。

苯二氮草类和非苯二氮草类根据睡眠需求“按需”服药的标准如下:
- (1) 预期人睡困难时，建议就寝前 5~10分钟服用；
- (2) 根据夜间睡眠的需求，上床后30分钟仍不能人睡时，立即服用；
- (3) 夜间醒来无法再次人睡，且距预期起床时间大于5小时，可以服用短半衰期药物；
- (4) 根据次日日间活动的需求于睡前服用。

对慢性失眠患者推荐使用非苯二氮类药物间歇治疗。具有镇静作用的抗抑郁剂和褪黑素受体激动剂于睡前服用。抗抑郁剂一般不采用间歇给药或按需用药的方式。

2. **疗程**: 少数药物如唑吡坦、右佐匹克隆、雷美替胺具备长期应用的临床证据，但考虑到潜在的成瘾问题，仍建议尽可能短期使用，一般不超过4周，超过4周需重新评估，必要时变更干预方案或者根据患者睡眠改善状况采用间歇治疗。

3. **变更药物指征**: 
- (1) 推荐的治疗剂量无效；
- (2) 产生耐受性；
- (3) 不良反应严重；
- (4) 与治疗其他疾病的药物有相互作用；
- (5) 成瘾的高危人群。

4. **终止治疗**: 当患者感觉能够自我控制睡眠时，可考虑逐渐停药。如失眠与其他疾病(如抑郁症等)或生活事件相关，当病因去除后，应考虑停用镇静催眠药物。需要注意，长期接受失眠药物连续治疗的患者应当避免突然终止药物治疗，否则可能导致失眠反弹和严重的精神症状。常用的减量方法包括逐步减少用药量(每2周减少1/4)和变更连续治疗为间歇治疗。

5. **药物治疗无效时的处理方案**: 当规范的药物治疗无法获得满意效果时，应将认知行为干预和物理治疗(TES和TMS)作为添加或替代治疗手段。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种使人无法正常入睡或维持睡眠状态的疾病');

MERGE (n:Treatment {name: '右美托咪定'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '一种α2肾上腺素能受体激动剂，能显著改善睡眠效率，增加N2期睡眠。'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '依据患者情况'),
    n.contraindication = coalesce(n.contraindication, '超适应证用药(B级证据，不推荐)');

MERGE (n:Treatment {name: '异丙酚'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '通过增强GABA和甘氨酸受体的功能，抑制N-甲基-D-天冬氨酸(NMDA)受体的功能，调节睡眠平衡。'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '依据患者情况'),
    n.contraindication = coalesce(n.contraindication, 'D级证据，II级推荐');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '右美托咪定'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '异丙酚'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.6),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:50"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/016-三褪黑素和褪黑素受体激动剂.md
[文本块]
# 褪黑素和褪黑素受体激动剂  

褪黑素  
- 作用: 调节睡眠-觉醒周期  
- 使用: 仅用于昼夜节律失调型睡眠觉醒障碍  
- 不推荐: 作为常规药物治疗失眠  
- 适应症: 昼夜节律延迟综合征、时差变化所致失眠  
- 剂量: 缓释片（$2\\;\\mathrm{mg}$）适用于55岁以上中老年人群失眠治疗（B级证据, I级推荐）  
- 不良反应: 头痛、思睡、胃肠反应、血压变化、情绪低落  
- 长期使用影响: 内源性褪黑素的分泌  
- 大剂量影响: $10~\\mathrm{mg/d}$以上可抑制性激素分泌  
- 给药方法: 入睡时间前$2{\\sim}3\\mathrm{~h~}$服用$0.3{\\sim}5.0\\ \\mathrm{mg}$  

褪黑素受体激动剂  
- 包括: 雷美替胺（ramelteon）、特斯美尔通（tasimelteon）  
- 作用机制: 激动褪黑素受体，发挥催眠作用  
- 功能: 缩短睡眠潜伏期、提高睡眠效率、增加总睡眠时间  
- 适应症: 昼夜节律失调所致的失眠（A级证据, II级推荐）  
- 特斯美尔通: 唯一被FDA批准用于非$24~\\mathrm{h}$昼夜节律睡眠障碍的药物  
- 阿戈美拉汀（agomelatine）: 激动褪黑素受体和5-羟色胺 $2\\mathrm{C}$ 受体拮抗作用  
- 适应症: 失眠合并抑郁情绪（B级证据, II级推荐），但禁用于乙型肝炎/丙型肝炎病毒携带者及肝功能损害者  

# 抗组胺H1受体药物  

- 特点: 可穿过血脑屏障与H1受体结合  
- 适应症: 妊娠呕吐的治疗、改善妊娠患者的失眠  
- 风险: 重症肌无力及青光眼患者慎用，可能加重妄及死亡率  

多西拉敏  
- 分类: 乙醇胺类H1抗组胺药  
- 功能: 镇静、缩短睡眠潜伏期  
- 适应症: 急性失眠（推荐剂量$7.5{\\sim}25.0\\ \\mathrm{mg}$，达峰时间$2\\;\\mathrm{h}$，半衰期约10h）  
- 使用安全性: 对孕早期妇女无胎儿损害（B级证据, I级推荐）  

苯海拉明  
- 分类: 乙醇胺的衍生物  
- 适应症: 妊娠呕吐治疗、改善妊娠患者的失眠  
- 推荐剂量: 睡前口服$25{\\sim}50~\\mathrm{mg}$（B级证据, I级推荐）  

# 具有镇静作用的抗抑郁药物  

多塞平  
- 剂量: 小剂量（$3{\\sim}6\\mathrm{~mg/d}$），空腹服用  
- 特点: 半衰期受食物影响明显延迟  
- 适应症: 以睡眠维持困难为特征的失眠  
- 适用人群: 成年及老年慢性失眠患者，闭角型青光眼或尿潴留患者慎用  

曲唑酮  
- 剂量: 小剂量（$25{\\sim}150\\mathrm{~mg/d}$），睡前$1\\mathrm{~h}$给药  
- 作用机制: 拮抗5-羟色胺2A受体、中枢$\\upalpha1$受体和H1受体  
- 功能: 缩短睡眠潜伏期、减少觉醒次数、增加睡眠维持时间、增加慢波睡眠  
- 特点: 不造成白天困倦，能提高主观睡眠质量（A级证据, II级推荐）

"""
response = """
// 节点更新
MERGE (n:Disease {name: '昼夜节律失调型睡眠觉醒障碍'});

MERGE (n:Disease {name: '昼夜节律延迟综合征'});

MERGE (n:Disease {name: '时差变化所致失眠'});

MERGE (n:Disease {name: '失眠合并抑郁情绪'});

MERGE (n:Disease {name: '急性失眠'});

MERGE (n:Disease {name: '以睡眠维持困难为特征的失眠'});

MERGE (n:Treatment {name: '褪黑素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '调节睡眠-觉醒周期'),
    n.dosage = coalesce(n.dosage, '缓释片（2 mg）适用于55岁以上中老年人群失眠治疗'),
    n.duration = coalesce(n.duration, '长期使用影响内源性褪黑素的分泌'),
    n.contraindication = coalesce(n.contraindication, '不推荐作为常规药物治疗失眠');

MERGE (n:Treatment {name: '褪黑素受体激动剂'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '激动褪黑素受体，发挥催眠作用'),
    n.dosage = coalesce(n.dosage, '根据具体药物而定'),
    n.duration = coalesce(n.duration, '根据具体适应症而定'),
    n.contraindication = coalesce(n.contraindication, '禁用于乙型肝炎/丙型肝炎病毒携带者及肝功能损害者');

MERGE (n:Treatment {name: '多西拉敏'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '镇静、缩短睡眠潜伏期'),
    n.dosage = coalesce(n.dosage, '推荐剂量7.5~25.0 mg'),
    n.duration = coalesce(n.duration, '根据具体适应症而定'),
    n.contraindication = coalesce(n.contraindication, '重症肌无力及青光眼患者慎用');

MERGE (n:Treatment {name: '苯海拉明'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '镇静作用，适用于妊娠呕吐'),
    n.dosage = coalesce(n.dosage, '推荐剂量25~50 mg'),
    n.duration = coalesce(n.duration, '根据具体适应症而定'),
    n.contraindication = coalesce(n.contraindication, '根据患者情况而定');

MERGE (n:Treatment {name: '多塞平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '具有镇静作用'),
    n.dosage = coalesce(n.dosage, '小剂量3~6 mg/d'),
    n.duration = coalesce(n.duration, '根据具体适应症而定'),
    n.contraindication = coalesce(n.contraindication, '闭角型青光眼或尿潴留患者慎用');

MERGE (n:Treatment {name: '曲唑酮'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '拮抗5-羟色胺2A受体和H1受体'),
    n.dosage = coalesce(n.dosage, '小剂量25~150 mg/d'),
    n.duration = coalesce(n.duration, '根据具体适应症而定'),
    n.contraindication = coalesce(n.contraindication, '根据患者情况而定');

// 关系更新
MATCH (from) WHERE from.name = '昼夜节律失调型睡眠觉醒障碍'
MATCH (to) WHERE to.name = '褪黑素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '昼夜节律延迟综合征'
MATCH (to) WHERE to.name = '褪黑素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '时差变化所致失眠'
MATCH (to) WHERE to.name = '褪黑素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '失眠合并抑郁情绪'
MATCH (to) WHERE to.name = '褪黑素受体激动剂'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '急性失眠'
MATCH (to) WHERE to.name = '多西拉敏'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '以睡眠维持困难为特征的失眠'
MATCH (to) WHERE to.name = '多塞平'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '以睡眠维持困难为特征的失眠'
MATCH (to) WHERE to.name = '曲唑酮'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初始');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:52"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/019-八麻醉类药物.md
[文本块]
## 麻醉类药物（续）

### 推荐意见
1. 失眠患者药物治疗的具体策略:
   - 首选non-BZDs/新型BZRAs：如唑吡坦、右佐匹克隆、扎来普隆、地达西尼；若无效或无法依从，更换为另一种non-BZDs或褪黑素受体激动剂（A级证据, I级推荐）。
   - 首选双食欲素受体拮抗剂：如苏沃雷生、莱博雷生、达利雷生，因其非成瘾性成为新靶点药物（A级证据, I级推荐）。
   - 非处方药如抗组胺药常用于自我调节失眠，但不推荐使用。
   - 添加有镇静催眠作用的抗抑郁药物：如曲唑酮、米氮平或多塞平，适用于伴随焦虑和抑郁症状的患者（B级证据, I级推荐）。
   - 抗精神病药不作为首选，仅适用于特殊情况和人群（C级证据, I级推荐）。
   - 对长期应用BZRAs的慢性失眠患者，每4周进行1次临床评估（A级证据, 1级推荐）。
   - 慢性失眠患者在医师指导下采用间歇或按需治疗服用non-BZDs（C级证据, I级推荐）。

### 用法用量和主要适应证
- 表3常用失眠治疗药物的用法用量。

### 失眠的心理行为治疗
- 心理-认知-行为治疗模式，关键模块包括：
  1. 认知模块：睡眠卫生教育、认知矫正。
  2. 行为模块：睡眠限制方法、刺激控制方法。
  3. 情感调节模块：正念放松、矛盾意念法、冥想、催眠等。
  4. 运动模块：八段锦、太极、慢跑、挥拍类运动。

- CBT-I为一线治疗的重要方法，适用于所有成年及老年患者。
- 失眠简短疗法(BTI)为简化的多组分疗法，强调CBT-I的行为治疗部分，适用于经验较少的治疗师。
- 强化睡眠再训练被纳入CBT-I方法，但疗效需进一步验证。

### 3P模型及心理治疗技术选择
- 图2总结了失眠的3P模型及心理治疗技术选择。

### CBT-I模式
- 包括面对面式及数字化网络式，传统面对面式进行6~8次治疗，个性化且疗效好，但成本高；网络化CBT-I便捷低成本，内容相对固定。

### 注释
- FDA: 美国食品药品监督管理局
- 妊娠分级：C: 可能有害，D: 孕妇慎用，X: 孕妇禁用
- 哺乳分级：L2: 较安全，L3: 中等安全，L5: 禁用

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍，表现为入睡困难、维持睡眠困难或早醒等症状');

MERGE (n:Treatment {name: '唑吡坦'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '一种非苯二氮卓类药物，用于治疗失眠'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '右佐匹克隆'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '一种非苯二氮卓类药物，用于改进失眠症状'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '扎来普隆'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗失眠的短效药物'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '地达西尼'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '新型失眠治疗药物'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '苏沃雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '食欲素受体拮抗剂，非成瘾性的新靶点药物'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '莱博雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '食欲素受体拮抗剂，适用于失眠患者'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '达利雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '食欲素受体拮抗剂，适用于失眠患者'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '曲唑酮'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '具有镇静催眠作用的抗抑郁药物'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '米氮平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗伴随焦虑和抑郁症状的失眠患者'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '多塞平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '镇静催眠作用的抗抑郁药物'),
    n.dosage = coalesce(n.dosage, '根据医师处方'),
    n.duration = coalesce(n.duration, '根据医师建议'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '唑吡坦'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '右佐匹克隆'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '扎来普隆'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '地达西尼'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '苏沃雷生'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '莱博雷生'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '达利雷生'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '曲唑酮'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '米氮平'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '多塞平'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:54"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/022-二TES.md
[文本块]
# TES

TES通过电极将特定模式的低强度电流作用于特定脑区，能够调节突触可塑性，改变皮质兴奋性，实现对大脑神经活动的调控，促进神经细胞产生血清素、多巴胺、内啡肽等神经递质。主要包括经颅直流电刺激(tDCS)和经颅交流电刺激(tACS)。关于tDCS的研究较少，小样本研究证实其在失眠治疗中安全有效且耐受性良好，tDC睡眠质量改善。tDCS电流强度多为$2~\\mathrm{mA}$，治疗时间为$20{\\sim}60\\ \\mathrm{min}$。不良反应包括头皮不适（麻刺感或发痒）、乏力、头晕、恶心、注意力难以集中和视觉现象（视觉模糊或明亮）。

推荐意见: TES可通过增加慢波改善睡眠质量(B级证据, I级推荐)。

# 经皮耳迷走神经刺激

经皮耳迷走神经刺激(ta-VNS)是一种无创性的神经刺激技术，利用设备产生电流，电流通过附着于耳部的电极刺激迷走神经传入纤维，可以平衡交感神经的过度活跃，能有效治疗原发性失眠，同时可改善疲劳症状及伴随的焦虑抑郁，但疗效个体差异大，机制不明，未来可进一步进行机制探索。

推荐意见: ta-VNS可作为辅助治疗方式改善失眠(C级证据, 不推荐)。

# 生物反馈

生物反馈疗法指的是通过外部传感器将人体生理信号可感知化，使患者有意识地通过一系列放松技术控制身体生理功能，可降低自主神经的兴奋性，促进大脑和身体放松，调适心理状态。证据多来自小样本研究，在慢性失眠治疗中证据存在争议，可能在缩短入睡潜伏期和觉醒次数等方面获益，通常作为药物或认知行为治疗的联合治疗，需要进行更高质量的随机临床试验，以便更好地描述生物反馈对慢性失眠的有效性。

推荐意见: 生物反馈治疗可联合其他疗法改善失眠，疗效尚不明确(C级证据, II级推荐)。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.code = coalesce(n.code, 'F51.0'),
    n.description = coalesce(n.description, '失眠症状导致的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Treatment {name: '经颅电刺激(TES)'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过电极将低强度电流作用于脑区，调节突触可塑性'),
    n.dosage = coalesce(n.dosage, '2mA'),
    n.duration = coalesce(n.duration, '20-60分钟'),
    n.contraindication = coalesce(n.contraindication, '可能有头皮不适');

MERGE (n:Treatment {name: '经皮耳迷走神经刺激(ta-VNS)'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '无创神经刺激技术，通过耳部电极刺激迷走神经'),
    n.contraindication = coalesce(n.contraindication, '疗效个体差异大，机制不明');

MERGE (n:Treatment {name: '生物反馈'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过传感器控制生理功能，促进放松'),
    n.contraindication = coalesce(n.contraindication, '证据存在争议');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '经颅电刺激(TES)'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中等'),
    r.stage = coalesce(r.stage, '治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '经皮耳迷走神经刺激(ta-VNS)'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.5),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '辅助治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '生物反馈'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.6),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '联合治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:54"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/021-一TMS.md
[文本块]
# TMS概述

TMS通过线圈置于局部大脑皮质对应的头皮部位，利用电磁感应原理产生电流，改变神经元膜电位，影响特定皮质区的兴奋性。

## 失眠的心理行为治疗主要干预措施
针对失眠的认知行为治疗（CBT-I）是多组分治疗干预技术，临床研究多是对其整体效果进行分析，缺乏单一组分对各种失眠患者疗效的充分数据。睡眠卫生教育与认知矫正通常作为对照干预存在，虽直接临床证据不足，但作为睡眠心理治疗的基础，故予以I级推荐。

- 刺激控制疗法和正念放松疗法可独立或参与CBT-I（I级推荐）。
- 睡眠限制疗法对卧床时间过长的患者可独立或参与CBT-I（II级推荐）。
- 矛盾意向需针对性使用（II级推荐）。
- 强化睡眠再训练的疗效待高质量临床研究验证（II级推荐）。
- 音乐疗法和催眠疗法的科研文献有限，需高专业性（II级推荐）。

## 睡眠慢波调节
调节大脑可塑性，诱导产生与自然慢波相似的睡眠慢波，增加REM期睡眠，缓解不同类型失眠症状。重复经颅磁刺激（rTMS）模式证据最多，低频（1 Hz）的rTMS能抑制大脑皮质兴奋性，是安全有效的慢性失眠治疗手段，可单独或与其他治疗结合使用。国内临床推荐采用低频刺激双侧背外侧前额叶皮质（DLPFC）和顶枕区域改善睡眠质量。

rTMS治疗仪器属于大型医疗设备，瞬间输出功率达3 kW以上，需配备16A电源插头与稳压器以保证电压稳定，磁场强度一般需在0.8 T以上。通常安全且耐受良好，但可能引起头痛、头皮痛及听阈暂时性升高，在治疗前需谨慎评估，尤其对有既往癫痫病史或对磁场敏感者（如有心脏起搏器、人工耳蜗等）。

目前缺乏多中心、高质量的证据，远期效应尚待验证。

## 推荐意见
TMS可作为单一疗法或辅助疗法改善失眠症状（B级证据，I级推荐）。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '失眠是指在接受心理、生理或环境适应的情况下，难以入睡或维持睡眠，导致白天功能受损的现象。');

MERGE (n:Treatment {name: '经颅磁刺激'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '经颅磁刺激通过线圈置于局部大脑皮质对应的头皮部位，利用电磁感应产生电流，改变神经元膜电位，影响特定皮质区的兴奋性。'),
    n.duration = coalesce(n.duration, '根据个体情况调整'),
    n.contraindication = coalesce(n.contraindication, '有既往癫痫病史或对磁场敏感者');

MERGE (n:Treatment {name: '认知行为治疗（CBT-I）'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针对失眠的认知行为治疗，是多组分治疗干预技术。'),
    n.duration = coalesce(n.duration, '根据个体情况调整'),
    n.contraindication = coalesce(n.contraindication, '无具体禁忌症');

MERGE (n:Symptom {name: '睡眠质量下降'})
SET 
    n.description = coalesce(n.description, '睡眠质量较差，难以达到理想的休息效果。'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '持续');

MERGE (n:Symptom {name: '入睡困难'})
SET 
    n.description = coalesce(n.description, '难以入睡或维持睡眠的症状。'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '早醒'})
SET 
    n.description = coalesce(n.description, '比预期的时间早醒，并难以再次入睡的现象。'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '睡眠质量下降'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '持续'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '入睡困难'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '早醒'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '经颅磁刺激'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗前期');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '认知行为治疗（CBT-I）'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '治疗后期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:54"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/026-二中医非药物治疗.md
[文本块]
中医非药物治疗（续）

CBT-I能显著改善孕妇的睡眠质量、失眠严重程度。妊娠期妇女使用镇静催眠药物的安全性缺乏资料。所有non-BZDs均为美国FDA妊娠期用药分级中的C级，只有在明确其获益可能胜于潜在危害的情况下才能谨慎使用；大多数BZDs为D~X级，妊娠期禁用。苯海拉明为B级，可用于妊娠期呕吐，同时具有催眠作用，但治疗妊娠期失眠缺乏循证医学证据。哺乳期慎用镇静催眠药物，避免药物通过乳汁影响婴儿和哺乳期妇女失眠的物理治疗研究证据，因此暂不推荐。

推荐意见：
(1)妊娠期和哺乳期失眠患者首选睡眠卫生教育，推荐CBT-I(A级证据,I级推荐);
(2)CBT-I不满意或者难以依从时可以选择non-BZDs(D级证据,II级推荐)。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.code = coalesce(n.code, 'F51.0'),
    n.description = coalesce(n.description, '失眠是一种常见的睡眠障碍，表现为入睡困难、维持睡眠的困难或早醒，导致白天功能障碍。'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Treatment {name: '认知行为疗法（CBT-I）'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '一种针对失眠的认知行为疗法，通过改变思维和行为来改善睡眠质量。'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Disease {name: '妊娠期失眠'})
SET 
    n.code = coalesce(n.code, 'O99.3'),
    n.description = coalesce(n.description, '妊娠期失眠是指在妊娠期间出现的失眠症状，可能与 hormonal changes 和心理因素有关。'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中');

MERGE (n:Disease {name: '哺乳期失眠'})
SET 
    n.code = coalesce(n.code, 'O99.4'),
    n.description = coalesce(n.description, '哺乳期失眠是指在哺乳期间发生的失眠症状，可能因心理和生理因素影响。'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '认知行为疗法（CBT-I）'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期治疗');

MATCH (from) WHERE from.name = '妊娠期失眠'
MATCH (to) WHERE to.name = '认知行为疗法（CBT-I）'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期治疗');

MATCH (from) WHERE from.name = '哺乳期失眠'
MATCH (to) WHERE to.name = '认知行为疗法（CBT-I）'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '妊娠期失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '哺乳期失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:58"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/030-七伴有其他疾病或共病其他疾病.md
[文本块]
# 七伴有其他疾病或共病其他疾病（续）
执笔(按姓氏拼音排列):
- 刘江红 (首都医科大学宣武医院)
- 卢强 (中国医学科学院北京协和医院)
- 王春雪 (首都医科大学附属北京天坛医院)
- 王赞 (吉林大学白求恩第一医院)
- 吴惠涓 (上海长征医院)
- 朱舟 (华中科技大学同济医学院附属同济医院)

专家委员会成员名单(按姓氏拼音排列):
- 陈燕 (上海嘉会国际医院)
- 邓丽影 (南昌大学第二附属医院)
- 顾平 (河北医科大学第一医院)
- 桂雅星 (上海市第一人民医院)
- 郭春妮 (上海市第一人民医院)
- 胡以达 (重庆医科大学附属第一医院)
- 黄金莎 (华中科技大学同济医学院附属协和医院)
- 蒋晓江 (重庆市西区医院)
- 乐卫东 (大连医科大学附属第一医院)
- 李震中 (河北医科大学第二医院)
- 林海 (西安市中医医院)
- 刘春风 (苏州大学附属第二医院)
- 刘昊 (南昌大学第二附属医院/南昌健源康复医院)
- 刘江红 (首都医科大学宣武医院)
- 刘军 (上海交通大学医学院附属瑞金医院)
- 刘卫平 (中南大学湘雅医院)
- 卢强 (中国医学科学院北京协和医院)
- 马建芳 (上海交通大学医学院附属瑞金医院)
- 马芹颖 (河北医科大学第一医院)
- 潘集阳 (暨南大学附属第一医院)
- 宋鹏辉 (首都医科大学宣武医院)
- 宿长军 (空军军医大学唐都医院)
- 唐吉友 (山东省千佛山医院)
- 汤永红 (南华大学附属南华医院)
- 脱厚珍 (首都医科大学附属北京友谊医院)
- 王春雪 (首都医科大学附属北京天坛医院)
- 王康 (浙江大学医学院附属第一医院)
- 王丝丝 (暨南大学附属第一医院)
- 王晓云 (南京鼓楼医院)
- 王玉平 (首都医科大学宣武医院)
- 王赞 (吉林大学白求恩第一医院)
- 吴华 (福建医科大学附属第一医院)
- 吴惠涓 (上海长征医院)
- 夏峰 (空军军医大学西京医院)
- 谢兆宏 (山东大学第二医院)
- 徐江涛 (福建医科大学附属厦门弘爱医院)
- 薛蓉 (天津医科大学总医院)
- 鄢波 (四川大学华西医院)
- 于逢春 (清华大学附属北京清华长庚医院)
- 于欢 (复旦大学附属华山医院)
- 詹淑琴 (首都医科大学宣武医院)
- 张红菊 (河南省人民医院)
- 张健 (福建医科大学附属协和医院)
- 张鹏 (联勤保障部队第九八八医院)
- 张钱林 (河南省人民医院)
- 张燕 (北京大学第三医院)
- 赵忠新 (上海长征医院)
- 周俊英 (四川大学华西医院)
- 朱春燕 (安徽医科大学第二附属医院)
- 朱舟 (华中科技大学同济医学院附属同济医院)

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:59"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/024-六声音治疗.md
[文本块]
声音治疗  
- 声音疗法  
  - 手段: 音乐治疗, 噪声治疗  
  - 影响: 脑波频率, 心率, 呼吸节奏  
  - 应用: 家庭环境  
  - 标准: 时段,频率,持续时间无统一标准  
- 研究发现  
  - 音乐治疗:  
    - 作用: 缩短睡眠潜伏期, 提高睡眠效率, 提高睡眠质量  
    - 证据: 大量随机对照试验  
  - 白噪声:  
    - 作用: 改善睡眠, 证据质量低  
  - 粉红噪声:  
    - 特性: 频率反比噪声, 背景噪声  
    - 研究发现: 增强睡眠慢波活动, 不引起唤醒, 提高睡眠质量  
    - 疗效: 对失眠疗效需进一步探究  
- 推荐意见  
  - 音乐治疗: 中到大有益影响 (A级证据, I级推荐)  
  - 噪声治疗: 疗效待进一步研究 (C级证据, II级推荐)  

失眠的中医治疗  
- 中成药和植物疗法  
  - 定义: 失眠在中医学中称为“不寐”  
  - 原则: 辨证论治  
  - 中成药:  
    - 作用: 改善失眠, 循证医学证据  
    - 研究结果: 中成药联合其他治疗 (BZDs或non-BZDs) 可显著改善睡眠质量  
  - 推荐意见  
    - 中成药: 单用或联合其他治疗改善睡眠质量 (C级证据, II级推荐)  
- 植物药疗法  
  - 紫花地丁: 改善PSQI评分, 主观睡眠质量等  
  - 南非醉茄提取物: 改善成年人睡眠, 需更多安全数据评估长期使用适宜性  
  - 推荐意见  
    - 植物药: 单用或联合其他治疗改善睡眠质量 (C级证据, II级推荐)  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '失眠在中医学中称为“不寐”');

MERGE (n:Treatment {name: '声音疗法'})
SET 
    n.description = coalesce(n.description, '采用音乐治疗和噪声治疗作为手段'),
    n.type = coalesce(n.type, '非药物');

MERGE (n:Treatment {name: '音乐治疗'})
SET 
    n.description = coalesce(n.description, '缩短睡眠潜伏期, 提高睡眠效率, 提高睡眠质量'),
    n.type = coalesce(n.type, '非药物'),
    n.recommendation_level = coalesce(n.recommendation_level, 'A级');

MERGE (n:Treatment {name: '白噪声'})
SET 
    n.description = coalesce(n.description, '改善睡眠, 证据质量低'),
    n.type = coalesce(n.type, '非药物');

MERGE (n:Treatment {name: '粉红噪声'})
SET 
    n.description = coalesce(n.description, '增强睡眠慢波活动, 不引起唤醒, 提高睡眠质量'),
    n.type = coalesce(n.type, '非药物');

MERGE (n:Treatment {name: '中成药'})
SET 
    n.description = coalesce(n.description, '改善失眠, 循证医学证据'),
    n.type = coalesce(n.type, '药物');

MERGE (n:Treatment {name: '植物药'})
SET 
    n.description = coalesce(n.description, '单用或联合其他治疗改善睡眠质量'),
    n.type = coalesce(n.type, '药物');

MERGE (n:Treatment {name: '紫花地丁'})
SET 
    n.description = coalesce(n.description, '改善PSQI评分, 主观睡眠质量等'),
    n.type = coalesce(n.type, '药物');

MERGE (n:Treatment {name: '南非醉茄提取物'})
SET 
    n.description = coalesce(n.description, '改善成年人睡眠, 需更多安全数据评估长期使用适宜性'),
    n.type = coalesce(n.type, '药物');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '声音疗法'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '音乐治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '白噪声'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.5),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '粉红噪声'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '中成药'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '植物药'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '紫花地丁'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.77),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '南非醉茄提取物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初级');

MATCH (from) WHERE from.name = '声音疗法'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.8),
    r.recommendation_level = coalesce(r.recommendation_level, 'I级');

MATCH (from) WHERE from.name = '音乐治疗'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.85),
    r.recommendation_level = coalesce(r.recommendation_level, 'I级');

MATCH (from) WHERE from.name = '白噪声'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.4),
    r.recommendation_level = coalesce(r.recommendation_level, 'II级');

MATCH (from) WHERE from.name = '粉红噪声'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.6),
    r.recommendation_level = coalesce(r.recommendation_level, 'II级');

MATCH (from) WHERE from.name = '中成药'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.75),
    r.recommendation_level = coalesce(r.recommendation_level, 'II级');

MATCH (from) WHERE from.name = '植物药'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.7),
    r.recommendation_level = coalesce(r.recommendation_level, 'II级');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:29:06"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/027-三围绝经期和绝经期女性.md
[文本块]
# 围绝经期和绝经期女性  
- 关注激素水平  
- 低剂量雌二醇改善睡眠质量和抑郁，降低潮热发生频率  
- 黄体酮促进睡眠  
- 雌激素替代治疗增加心血管疾病风险  
- 需要多学科共同参与制订治疗方案  
- 非药物干预：CBT-I、睡眠卫生、运动、冥想、针灸、芳香疗法  
- 改善睡眠质量，降低失眠严重程度  
- 推荐：  
  1. 失眠处理应关注激素水平，雌激素替代治疗需多学科制订方案 (B级证据, I级推荐)  

# 儿童及青少年  
- CBT-I对儿童和青少年失眠有效，优于成人  
- BZRAs在儿童青少年中应用受限  
- 褪黑素治疗注意缺陷多动障碍和孤独症患者  
- 推荐：  
  1. 儿童及青少年失眠应尝试CBT-I (A级证据, I级推荐)  
  2. CBT-I效果不佳时考虑药物治疗，注意年龄限制 (B级证据, II级推荐)  

# 其他人群:倒班人群  
- 睡眠不足、质量降低、昼夜节律紊乱  
- 总睡眠时间随倒班节奏加快而减少  
- 白天小睡应对疲劳  
- 推荐：  
  1. 夜班后睡眠环境应避免光及噪声污染 (A级证据, I级推荐)  
  2. 睡前1小时内避免娱乐活动 (A级证据, I级推荐)  
  3. 夜班前接受模拟清晨光照 (A级证据, I级推荐)  
  4. 避免过快倒班，夜班时间不超过16小时/周 (A级证据, I级推荐)  
  5. 有条件者轮班时小睡10~20分钟 (A级证据, I级推荐)  
  6. 值班前适当储备睡眠 (A级证据, I级推荐)  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '围绝经期失眠'})
SET 
    n.description = coalesce(n.description, '围绝经期和绝经期女性失眠问题');

MERGE (n:Disease {name: '儿童失眠'})
SET 
    n.description = coalesce(n.description, '儿童和青少年阶段的失眠问题');

MERGE (n:Disease {name: '倒班人群失眠'})
SET 
    n.description = coalesce(n.description, '因工作时间不规律导致的失眠问题');

MERGE (n:Symptom {name: '睡眠质量降低'})
SET 
    n.description = coalesce(n.description, '睡眠时间不足或质量差的状态'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '失眠严重程度提高'})
SET 
    n.description = coalesce(n.description, '失眠问题出现加重的症状'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Treatment {name: '雌激素替代治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于改善围绝经期女性的睡眠质量'),
    n.contraindication = coalesce(n.contraindication, '心血管疾病风险');

MERGE (n:Treatment {name: 'CBT-I'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '认知行为治疗针对失眠的有效方法'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '褪黑素治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗注意缺陷多动障碍和孤独症患者的失眠'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Complication {name: '心血管疾病'})
SET 
    n.description = coalesce(n.description, '由雌激素替代治疗可能引发的风险'),
    n.severity = coalesce(n.severity, '高');

MERGE (n:Complication {name: '睡眠不足'})
SET 
    n.description = coalesce(n.description, '睡眠时间不足导致的身心问题'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Complication {name: '昼夜节律紊乱'})
SET 
    n.description = coalesce(n.description, '因工作时间不规律导致的生物钟失衡'),
    n.severity = coalesce(n.severity, '中等');

// 关系更新
MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '雌激素替代治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '早期');

MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '睡眠质量降低'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '失眠严重程度提高'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '儿童失眠'
MATCH (to) WHERE to.name = 'CBT-I'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初次治疗');

MATCH (from) WHERE from.name = '儿童失眠'
MATCH (to) WHERE to.name = '睡眠质量降低'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '倒班人群失眠'
MATCH (to) WHERE to.name = '褪黑素治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '管理');

MATCH (from) WHERE from.name = '倒班人群失眠'
MATCH (to) WHERE to.name = '失眠严重程度提高'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '倒班人群失眠'
MATCH (to) WHERE to.name = '昼夜节律紊乱'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.6),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '心血管疾病'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.5),
    r.timeframe = coalesce(r.timeframe, '短期');

MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '睡眠不足'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:29:07"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/025-二中医非药物治疗.md
[文本块]
# 中医非药物治疗  

中医非药物治疗，包括针刺、推拿、艾灸、耳穴压豆等，能够显著提高患者Sleep Quality Index (PSQI)评分，改善焦虑和抑郁程度。尽管证据有限，针刺与原发性失眠患者的多个客观睡眠参数（包括总睡眠时间和睡眠效率的增加，睡眠醒觉次数的减少以及主观睡眠数量和质量的改善）显著相关。

推荐意见：对于失眠患者，可考虑针灸疗法或联合其他中医外治法改善睡眠质量，根据具体情况结合患者意愿选择针灸疗法（C级证据，II级推荐）。  

# 其他中医疗法  

其他中医外治法包括指压法、穴位按压、穴位注射、艾灸、穴位贴敷、耳穴压贴、药枕疗法、中药足浴、推拿等，这些方法能有效改善失眠患者的睡眠质量且无明显不良反应。中医传统功法如八段锦、太极拳、五禽戏、六字诀、太极、气功等在临床应用上，也显示出疗效，但需要更多的随机对照试验（RCT）来提供证据。

中医治疗失眠的常用证候及治疗方药在临床上使用广泛，但相关研究文献数量有限，部分研究质量欠佳，存在异质性和偏倚。需要设计严谨、大样本、多中心的RCT，进一步验证中医治疗的疗效和安全性，急需高质量的临床试验提供循证依据。

推荐意见：对于失眠患者，可考虑其他中医疗法或联合其他治疗以改善睡眠质量，根据具体情况结合适合的外治法辅助治疗失眠（C级证据，II级推荐）。  

# 特殊人群的治疗  

## 老年人群的治疗  

认知行为疗法（CBT-I）可有效缓解老年患者失眠，且耐受性良好。药物治疗时需注意药物相互作用及不良反应的影响。苯二氮平类药物（BZDs）可能增加老年人认知障碍、妄想、跌倒、骨折和车祸风险，使用时需谨慎。低剂量的多塞平可改善老年失眠患者的总睡眠时间和睡眠效率。食欲素受体拮抗剂、褪黑素受体激动剂以及褪黑素缓释剂也对老年人失眠有效。老年患者使用镇静催眠药物时应从最低有效剂量开始，尽可能短期使用或采用间歇治疗，治疗过程中需密切观察药物不良反应，如发生共济失调、意识模糊、幻觉、呼吸抑制时需立即停药。慢性失眠患者在维持疗效的前提下，推荐间歇治疗。

推荐意见：
1. 老年失眠患者首选非药物治疗，尤其强调进行CBT-I（A级证据，I级推荐）。
2. 药物治疗推荐选择非BZDs、食欲素受体拮抗剂、褪黑素受体激动剂、褪黑素缓释剂和小剂量多塞平（A级证据，I级推荐）。
3. 镇静催眠药物应采用最低有效剂量，尽可能短期应用，并密切观察药物不良反应（A级证据，I级推荐）。
4. 长期用药时推荐间歇治疗（D级证据，II级推荐）。  

## 妊娠期和哺乳期女性  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'});

MERGE (n:Symptom {name: '焦虑'})
SET 
    n.description = coalesce(n.description, '一系列情绪特征，包括紧张、不安等行为'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '经常');

MERGE (n:Symptom {name: '抑郁'})
SET 
    n.description = coalesce(n.description, '情绪持续低落，失去兴趣或愉快的感觉'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '经常');

MERGE (n:Symptom {name: '睡眠质量差'})
SET 
    n.description = coalesce(n.description, '睡眠时间短或睡眠不深，影响睡眠的质量'),
    n.severity = coalesce(n.severity, '重'),
    n.frequency = coalesce(n.frequency, '经常');

MERGE (n:Treatment {name: '针刺'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过刺激体内特定经络以改善睡眠'),
    n.duration = coalesce(n.duration, '根据患者需要'),
    n.contraindication = coalesce(n.contraindication, '无明显禁忌症');

MERGE (n:Treatment {name: '认知行为疗法 (CBT-I)'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过改变患者对失眠的认知与行为来改善睡眠'),
    n.duration = coalesce(n.duration, '视乎个体情况而定'),
    n.contraindication = coalesce(n.contraindication, '无明显禁忌症');

MERGE (n:Treatment {name: '多塞平'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '一种抗抑郁药，用于改善睡眠'),
    n.dosage = coalesce(n.dosage, '低剂量'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '注意可能相互作用');

MERGE (n:Treatment {name: '褪黑素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于调整生物钟，改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '缓释剂'),
    n.duration = coalesce(n.duration, '短期使用'),
    n.contraindication = coalesce(n.contraindication, '个别情况需谨慎使用');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '焦虑'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '抑郁'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠质量差'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '针刺'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.92),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '认知行为疗法 (CBT-I)'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '持续');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '多塞平'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.88),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '持续');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '褪黑素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '持续');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:29:12"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/028-七伴有其他疾病或共病其他疾病.md
[文本块]
# 七伴有其他疾病或共病其他疾病  

(一)伴有其他睡眠障碍  
失眠可伴发或与其他睡眠障碍疾病共病，包括OSA、睡眠呻吟、RLS、反复噩梦、睡眠相关腿痉挛等。失眠与OSA共患时被称为COMISA(comorbid insomnia and sleep apnoea)，二者共患加重夜间睡眠障碍及日间功能的损害。OSA加重睡眠片段化及下丘脑-垂体-肾上腺皮质活化，促发或加重失眠，减低失眠CBT-I的疗效；并存的失眠降低咽肌张力加重OSA，影响气道正压通气(PAP)治疗依从性。OSA的一线治疗是PAP，但COMISA患者初期一般不接受PAP，可在PAP治疗前优先治疗失眠。CBT-I可有效改善COMISA患者失眠，可能改善PAP的依从性，继而改善OSA。COMISA患者应慎用对气道呼吸有影响的药物如BZDs。临床上失眠与RLS共存时多认为RLS是失眠原因，部分患者因主诉失眠就诊而易延误诊断和治疗。导致RLS的病因多样，需认真查找病因，针对病因进行干预和治疗才能最终解决或缓解失眠。失眠明显者可添加GABA活性睡眠药、钙通道配体药物加巴喷汀治疗。  

推荐意见：(1)失眠共患OSA时，应根据患者诉求分别给予评估及治疗，PAP依从性不好时优先治疗失眠，首选CBT-I治疗；对PAP依从性好者，将PAP作为初始治疗。慎用BZDs。(2)失眠共病RLS时总的原则是针对RLS病因干预及诊治。  

(二)伴有或共病躯体疾病  
1. 脑血管病：脑血管病患者失眠症状的控制，首选CBT-I和非药物治疗，比如针灸、艾灸、TMS、光照疗法等。对于治疗效果不佳者，可考虑CBT-I联合药物治疗。常用药物为BZRAs（包括苯二氮草类和非苯二氮草类）、褪黑素受体激动剂以及中药等，唑吡坦及右佐匹克隆可以改善脑血管病患者睡眠质量；苏沃雷生与雷美替胺可以改善老年脑血管病。  

推荐意见：(1)脑血管病患者失眠，首选CBT-I和非药物治疗（经颅磁刺激、早晨光照疗法，针灸）(A级证据，I级推荐)。(2)非药物治疗效果不佳时，CBT-I联合药物治疗，药物可选BZRAs、褪黑素受体激动剂以及中药等(A级证据，I级推荐)。  

2. 呼吸系统疾病：CBT-I能显著减少COPD患者的失眠，并且显著改善疲劳和呼吸困难。BZRAs能在一定程度上改善COPD患者的失眠症状，但是睡眠时最大经皮二氧化碳分压升高，可能增加COPD患者发生呼吸衰竭的风险。相比BZDs，non-BZDs中的唑吡坦和右佐匹克隆治疗COPD患者的失眠更为安全。褪黑素受体激动剂雷美替胺能够改善COPD失眠患者的睡眠质量，不增加呼吸紊乱事件，耐受良好。  

推荐意见：(1)伴有呼吸系统疾病的失眠患者适用于CBT-I治疗；(2)伴有COPD的失眠患者推荐选择non-BZDs、褪黑素受体激动剂；(3)COPD患者应慎用BZDs，对高碳酸血症明显的COPD急性加重期患者和限制性通气功能障碍失代偿期的患者禁用BZDs。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Disease {name: '不宁腿综合症'})
SET 
    n.short_name = coalesce(n.short_name, 'RLS');

MERGE (n:Disease {name: '脑血管病'});

MERGE (n:Disease {name: '慢性阻塞性肺疾病'})
SET 
    n.short_name = coalesce(n.short_name, 'COPD');

MERGE (n:Symptom {name: '睡眠片段化'})
SET 
    n.description = coalesce(n.description, '夜间睡眠分段或中断的现象');

MERGE (n:Symptom {name: '疲劳'})
SET 
    n.description = coalesce(n.description, '缺乏能量或精力');

MERGE (n:Symptom {name: '呼吸困难'})
SET 
    n.description = coalesce(n.description, '感到困难或阻力呼吸的症状');

MERGE (n:Treatment {name: '认知行为疗法-失眠'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过心理干预改善失眠的疗法'),
    n.duration = coalesce(n.duration, '因患者情况而异');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用药物来控制失眠'),
    n.duration = coalesce(n.duration, '根据药物种类');

MERGE (n:Treatment {name: 'PAP治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '夜间正压通气治疗'),
    n.duration = coalesce(n.duration, '长期');

MERGE (n:Treatment {name: '针灸'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '传统针刺疗法'),
    n.duration = coalesce(n.duration, '根据患者情况');

MERGE (n:Treatment {name: '褪黑素受体激动剂'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于调节睡眠的药物');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '睡眠片段化'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '睡眠片段化'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '认知行为疗法-失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '首选治疗');

MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'PAP治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '首选治疗');

MATCH (from) WHERE from.name = '脑血管病'
MATCH (to) WHERE to.name = '认知行为疗法-失眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '联合治疗');

MATCH (from) WHERE from.name = '慢性阻塞性肺疾病'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '辅助治疗');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '不宁腿综合症'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '较重');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '针灸'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '慢性阻塞性肺疾病'
MATCH (to) WHERE to.name = '褪黑素受体激动剂'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '低'),
    r.mandatory = coalesce(r.mandatory, 'false');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:29:21"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
中国成人失眠诊断与治疗指南（2023版） (2).md
[隶属文件分块名]
中国成人失眠诊断与治疗指南（2023版） (2)/029-七伴有其他疾病或共病其他疾病.md
[文本块]
# 七伴有其他疾病或共病其他疾病（续）

## 其他躯体疾病
- **心血管疾病** 
  - 合并失眠药物治疗时应综合考虑药物间的相互作用及不良反应。
  - **唑吡坦**: 改善高血压病患者的睡眠质量和应激状况，转变非型血压曲线为型血压曲线。
  - **选择性食欲素受体拮抗剂苏沃雷生**: 改善2型糖尿病患者的睡眠质量和肥胖相关变量。
  - **右佐匹克隆**: 改善2型糖尿病失眠患者的睡眠和血糖控制。
  - **褪黑激素激动剂或缓释褪黑激素**: 改善2型糖尿病患者的睡眠质量和血糖控制，但可能诱导风险等位基因携带者的胰岛素不敏感，产生不良影响。

### 推荐意见
1. 唑吡坦可用于治疗非型高血压失眠患者（D级证据, II级推荐）。
2. 对失眠共病2型糖尿病或肥胖，推荐使用食欲素受体拮抗剂（A级证据, I级推荐）。
3. 2型糖尿病失眠患者可选择右佐匹克隆（A级证据, I级推荐）。
4. 褪黑素可以改善睡眠质量和血糖控制，但可能诱导胰岛素抵抗的风险（A级证据, II级推荐）。

## 伴有或共病精神障碍
- 对于存在失眠症状的精神障碍患者，应由精神科医师按专科原则治疗控制原发病。
- **CBT-I**: 治疗失眠共病精神障碍的有效方法，缓解抑郁、焦虑症状及失眠症状。
- **物理治疗**: 包括神经调控治疗、光照疗法、针灸/电针治疗等，可改善焦虑抑郁患者的失眠及相关症状。
- **运动疗法**: 如太极拳、生物反馈疗法等，改善失眠同时缓解抑郁和焦虑。
- **镇静催眠药**: 单独使用不改善抑郁，与抗抑郁剂组合可同时改善抑郁与失眠症状。
- **阿戈美拉汀**: 具有催眠和抗抑郁的双重作用。

### 推荐意见
1. 共病精神疾病的失眠患者应由精神科专业医师会诊，对精神疾病与失眠进行干预（D级证据, I级推荐）。
2. 对失眠伴抑郁或焦虑，首选CBT-I，如无效，则使用药物治疗，若仍无效则更换物理治疗或应用联合疗法（A级证据, I级推荐）。
3. 失眠伴抑郁的药物治疗: 推荐镇静作用的抗抑郁剂或阿戈美拉汀，必要时辅以镇静安眠药（A级证据, I级推荐）。
4. 失眠伴焦虑: 对失眠为主者选用抗焦虑作用的BZDs类药物，焦虑症状突出者选用镇静作用的抗焦虑药物（A级证据, I级推荐）。
5. 对存在失眠的精神分裂症患者，选择抗精神病药物治疗为主（D级证据, I级推荐）。

## 综述
失眠是常见的睡眠障碍，涉及人群广泛。失眠既可以作为单独症状存在，也可以作为其他疾病的伴随症状或与其他疾病共病。失眠的治疗涉及药物与非药物治疗。本指南旨在为临床医师提供合理的失眠诊疗方案，以改善患者临床症状，提高医生治疗效率和患者生活质量。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '高血压'})
SET 
    n.code = coalesce(n.code, 'I10'),
    n.description = coalesce(n.description, '一种常见疾病，表现为持续的血压升高。'),
    n.category = coalesce(n.category, '心血管疾病'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '2型糖尿病'})
SET 
    n.code = coalesce(n.code, 'E11'),
    n.description = coalesce(n.description, '常见的糖尿病类型，通过胰岛素抵抗和胰岛素分泌不足引起。'),
    n.category = coalesce(n.category, '内分泌疾病'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '肥胖'})
SET 
    n.code = coalesce(n.code, 'E66'),
    n.description = coalesce(n.description, '体内脂肪过量积聚的疾病。'),
    n.category = coalesce(n.category, '代谢疾病'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '抑郁症'})
SET 
    n.code = coalesce(n.code, 'F32'),
    n.description = coalesce(n.description, '一种严重的情感障碍，影响思维和行为。'),
    n.category = coalesce(n.category, '精神障碍'),
    n.severity = coalesce(n.severity, '重度');

MERGE (n:Disease {name: '焦虑症'})
SET 
    n.code = coalesce(n.code, 'F41'),
    n.description = coalesce(n.description, '常见的心理疾病，以过度担忧和紧张为特征。'),
    n.category = coalesce(n.category, '精神障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '精神分裂症'})
SET 
    n.code = coalesce(n.code, 'F20'),
    n.description = coalesce(n.description, '一种严重的精神疾病，影响思维、情感和行为。'),
    n.category = coalesce(n.category, '精神障碍'),
    n.severity = coalesce(n.severity, '重度');

MERGE (n:Treatment {name: '唑吡坦'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善高血压病患者的睡眠质量和应激状况。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

MERGE (n:Treatment {name: '选择性食欲素受体拮抗剂苏沃雷生'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善2型糖尿病患者的睡眠质量和肥胖相关变量。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

MERGE (n:Treatment {name: '右佐匹克隆'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善2型糖尿病失眠患者的睡眠和血糖控制。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

MERGE (n:Treatment {name: '褪黑激素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善睡眠质量和血糖控制，但可能诱导不良影响。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

MERGE (n:Treatment {name: 'CBT-I'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '治疗失眠共病精神障碍的有效方法。'),
    n.dosage = coalesce(n.dosage, '按需使用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '镇静催眠药'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '单独使用不改善抑郁，与抗抑郁剂组合可改善。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

MERGE (n:Treatment {name: '阿戈美拉汀'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '具有催眠和抗抑郁的双重作用。'),
    n.dosage = coalesce(n.dosage, '按需服用'),
    n.duration = coalesce(n.duration, '短期'),
    n.contraindication = coalesce(n.contraindication, '对应药物过敏');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '高血压'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '2型糖尿病'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '2型糖尿病'
MATCH (to) WHERE to.name = '选择性食欲素受体拮抗剂苏沃雷生'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '2型糖尿病'
MATCH (to) WHERE to.name = '右佐匹克隆'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '唑吡坦'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '褪黑激素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = 'CBT-I'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '镇静催眠药'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '抑郁症'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '焦虑症'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '精神分裂症'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重度');

"""
