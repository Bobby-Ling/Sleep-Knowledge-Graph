[metadata]
file_name = "卒中相关睡眠障碍评估与管理中国专家共识.md"
processed_at = "2024-12-12 01:56:49"
total_pairs = 28

[[message_pairs]]
timestamp = "2024-12-12 01:55:58"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/004-二证据级别和推荐强度分类.md
[文本块]
二、证据级别和推荐强度分类  

本共识的推荐意见和证据等级采用美国心脏病学会(American College of Cardiology, ACC)和美国心脏协会(American Heart Association, AHA)的循证医学推荐分类及证据级别。  

表1 ACC/AHA推荐分类和证据级别  

注: ACC为美国心脏病学会; AHA为美国心脏协会; RCT为随机对照试验。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:01"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/007-一评估的一般原则.md
[文本块]
评估的一般原则  
SSD的评估主要包括以下内容：  
- 全面的病史询问  
- 体格检查  
- 睡眠问卷调查  
- 多导睡眠监测 (polysomnogram, PSG)  
  
评估的重点在于：  
- 明确睡眠障碍类型与伴随疾病  
- 明确卒中与睡眠障碍之间的相关性

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.description = coalesce(n.description, '与卒中相关的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Examination {name: '多导睡眠监测'})
SET 
    n.description = coalesce(n.description, '通过多个通道监测睡眠状态的检查'),
    n.method = coalesce(n.method, '多导睡眠监测'),
    n.requirement = coalesce(n.requirement, '需在医疗机构进行');

MERGE (n:Examination {name: '睡眠问卷调查'})
SET 
    n.description = coalesce(n.description, '通过问卷评估患者睡眠状态的检查'),
    n.method = coalesce(n.method, '问卷调查'),
    n.requirement = coalesce(n.requirement, '患者自评');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '多导睡眠监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠问卷调查'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:05"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/001-卒中相关睡眠障碍评估与管理中国专家共识.md
[文本块]
卒中相关睡眠障碍评估与管理中国专家共识  
发布机构: 北京神经内科学会睡眠障碍专业委员会，北京神经内科学会神经精神医学与临床心理专业委员会，中国老年学和老年医学学会睡眠科学分会  
通信作者: 于逢春  
单位: 北京市海淀医院 (北京大学第三医院海淀院区) 神经内科  
邮政编码: 100080  
电子邮件: yufckui@163.com  

提要:  
卒中相关睡眠障碍 (SSD) 是卒中后常见症状，临床多见却易被忽视。研究证实，卒中患者一旦合并睡眠障碍将影响预后。国内外尚缺乏关于SSD评估与管理的共识及指南。  
本共识结合文献研究，经过专家讨论提出SSD的概念，对于各种类型SSD的评估及管理提出推荐意见，包括:  
- 失眠  
- 日间思睡  
- 睡眠呼吸障碍  
- 快速眼动睡眠期行为障碍  
- 不宁腿综合征/睡眠中周期性肢体运动  
- 昼夜节律失调性睡眠觉醒障碍  
以期对SSD的临床规范化处理起到一定的指导作用。  

关键词: 睡眠障碍; 卒中; 实践指南  
DOI: 10.3760/cma.j.issn.0578-1426.2019.01.004  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.description = coalesce(n.description, '卒中后常见症状，临床多见却易被忽视。合并睡眠障碍会影响预后。');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '入睡困难或睡眠不深，影响休息和生活质量。');

MERGE (n:Symptom {name: '日间思睡'})
SET 
    n.description = coalesce(n.description, '白天过度嗜睡，影响日常活动。');

MERGE (n:Symptom {name: '睡眠呼吸障碍'})
SET 
    n.description = coalesce(n.description, '在睡眠中呼吸不规律，可以导致缺氧。');

MERGE (n:Symptom {name: '快速眼动睡眠期行为障碍'})
SET 
    n.description = coalesce(n.description, '在快速眼动睡眠阶段表现出梦中行为。');

MERGE (n:Symptom {name: '不宁腿综合征'})
SET 
    n.description = coalesce(n.description, '静止状态下有无法抑制的腿部不适感。');

MERGE (n:Symptom {name: '周期性肢体运动'})
SET 
    n.description = coalesce(n.description, '睡眠中出现周期性运动的现象。');

MERGE (n:Symptom {name: '昼夜节律失调性睡眠觉醒障碍'})
SET 
    n.description = coalesce(n.description, '睡眠和觉醒的周期与正常节律失调。');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '快速眼动睡眠期行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '不太常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '不宁腿综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '周期性肢体运动'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.65),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻度');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '昼夜节律失调性睡眠觉醒障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '不常见'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:07"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/003-一卒中相关睡眠障碍的定义和分类.md
[文本块]
# 卒中相关睡眠障碍的定义和分类  

卒中相关睡眠障碍（SSD）是指卒中后首次出现或卒中前已有的睡眠障碍在卒中后持续存在或加重，并达到睡眠障碍诊断标准的一组临床综合征。SSD包括两种类型：卒中后睡眠障碍和卒中伴随睡眠障碍。  

涉及的卒中类型：  
1. 短暂性脑缺血发作（transient ischemic attack, TIA）  
2. 脑梗死  
3. 脑出血  

涉及的睡眠障碍类型：  
1. 失眠  
2. 日间思睡（excessive daytime sleepiness, EDS）  
3. 睡眠呼吸障碍（sleep disordered breathing, SDB）  
4. 阻塞性睡眠呼吸暂停（obstructive sleep apnea, OSA）  
5. 中枢性睡眠呼吸暂停（central sleep apnea, CSA）  
6. 混合性睡眠呼吸暂停  
7. 快速眼动睡眠期行为障碍（rapid eye movement sleep behavior disorder, RBD）  
8. 不宁腿综合征（restless legs syndrome, RLS）  
9. 睡眠中周期性肢体运动（periodic limb movements of sleep, PLMS）  
10. 昼夜节律失调性睡眠-觉醒障碍（circadian rhythm sleep-wake disorders, CRSWDs）  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.description = coalesce(n.description, '卒中后首次出现或卒中前已有的睡眠障碍在卒中后持续存在或加重，并达到睡眠障碍诊断标准的一组临床综合征');

MERGE (n:Disease {name: '短暂性脑缺血发作'})
SET 
    n.short_name = coalesce(n.short_name, 'TIA');

MERGE (n:Disease {name: '脑梗死'});

MERGE (n:Disease {name: '脑出血'});

MERGE (n:Symptom {name: '失眠'});

MERGE (n:Symptom {name: '日间思睡'})
SET 
    n.description = coalesce(n.description, 'excessive daytime sleepiness'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '睡眠呼吸障碍'})
SET 
    n.description = coalesce(n.description, 'sleep disordered breathing');

MERGE (n:Symptom {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Symptom {name: '中枢性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'CSA');

MERGE (n:Symptom {name: '混合性睡眠呼吸暂停'});

MERGE (n:Symptom {name: '快速眼动睡眠期行为障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'RBD');

MERGE (n:Symptom {name: '不宁腿综合征'})
SET 
    n.short_name = coalesce(n.short_name, 'RLS');

MERGE (n:Symptom {name: '睡眠中周期性肢体运动'})
SET 
    n.short_name = coalesce(n.short_name, 'PLMS');

MERGE (n:Symptom {name: '昼夜节律失调性睡眠-觉醒障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'CRSWDs');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '比较常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '中枢性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '混合性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '快速眼动睡眠期行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '不宁腿综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '比较少见'),
    r.severity = coalesce(r.severity, '低');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠中周期性肢体运动'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '较少见'),
    r.severity = coalesce(r.severity, '低');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '昼夜节律失调性睡眠-觉醒障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.4),
    r.frequency = coalesce(r.frequency, '较少见'),
    r.severity = coalesce(r.severity, '低');

MATCH (from) WHERE from.name = '短暂性脑缺血发作'
MATCH (to) WHERE to.name = '日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重度');

MATCH (from) WHERE from.name = '脑梗死'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '脑出血'
MATCH (to) WHERE to.name = '中枢性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:07"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/002-Chinese-expert-consensus-on-the-assessment-and-man.md
[文本块]
# Chinese expert consensus on the assessment and management of stroke-related sleep disorders  

Entities: 
1. Beijing Neurology Association 
2. Sleep Disorder Committee
3. Neuropsychiatry and Clinical Psychology Committee 
4. Chinese Association of Geriatric Sleep Science 
5. Stroke-related Sleep Disorders (SSD) 
6. Insomnia 
7. Excessive Daytime Sleepiness 
8. Sleep Apnea 
9. Rapid Eye Movement (REM) Sleep Behavior Disorder 
10. Restless Leg Syndrome/Periodic Limb Movements of Sleep 
11. Circadian Rhythm Sleep-wake Disorders  
12. Clinical Practice Guideline 

Relationships:
- Beijing Neurology Association has committees focused on Sleep Disorders and Neuropsychiatry.
- The committees propose a consensus for the assessment and management of SSD.
- SSD includes various sleep disorders such as insomnia, excessive daytime sleepiness, and sleep apnea.
- The purpose of the consensus is to provide standard references for SSD management.
- SSD impacts stroke prognosis and recovery.
- Effective management of SSD may reduce the recurrence of stroke and improve recovery outcomes.
- The consensus aims to guide clinicians in the assessment and management of both stroke and SSD.

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'SSD');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '难以入睡或保持睡眠的状态');

MERGE (n:Symptom {name: '过度日间嗜睡'})
SET 
    n.description = coalesce(n.description, '白天过度困倦的状态');

MERGE (n:Symptom {name: '睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠期间呼吸反复暂停的状态');

MERGE (n:Symptom {name: '快速眼动睡眠行为障碍'})
SET 
    n.description = coalesce(n.description, '在快速眼动睡眠阶段表现出异常的体动作');

MERGE (n:Symptom {name: '不安腿综合症/周期性肢体运动'})
SET 
    n.description = coalesce(n.description, '在静止状态时出现腿部不适和运动的症状');

MERGE (n:Symptom {name: '昼夜节律睡眠觉醒障碍'})
SET 
    n.description = coalesce(n.description, '生理节律与睡眠模式不协调的状态');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '过度日间嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.88),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '快速眼动睡眠行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '不安腿综合症/周期性肢体运动'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '昼夜节律睡眠觉醒障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '少见'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:08"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/008-推荐意见.md
[文本块]
# 推荐意见  

1. 对所有卒中患者, 建议均进行睡眠障碍的评估 (I, B-NR)。  

2. 评估时应关注卒中部位、严重程度以及与SSD的发生、发展和转归的相关性 (IIb, B-NR)。  

3. 符合SSD诊断的患者, 建议尽可能明确睡眠障碍的亚型及病因, 从而采取更有针对性的临床处理措施 (II, B-NR)。  

(二) 管理的一般原则  

对于SSD, 首先强调积极进行卒中的规范化治疗。同时在对SSD规范评估的基础上, 对SSD进行有效正确的处理, 从而达到整体上降低卒中病死率、改善预后的目的。  

Meta分析显示, 与SSD风险因素增加密切相关的因素包括高血压、糖尿病、饮酒、习惯性打鼾及皮质型卒中。因此积极规范处理这些因素, 对于改善卒中及SSD具有重要意义。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.code = coalesce(n.code, 'SSD');

MERGE (n:Disease {name: '卒中'})
SET 
    n.code = coalesce(n.code, 'CVA');

MERGE (n:RiskFactor {name: '高血压'})
SET 
    n.description = coalesce(n.description, '一种常见的慢性疾病'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '糖尿病'})
SET 
    n.description = coalesce(n.description, '一种影响身体处理血糖的疾病'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '饮酒'})
SET 
    n.description = coalesce(n.description, '过量饮酒可能导致多种健康问题'),
    n.impact_level = coalesce(n.impact_level, '中');

MERGE (n:RiskFactor {name: '习惯性打鼾'})
SET 
    n.description = coalesce(n.description, '睡眠时反复发出打鼾声，可能与睡眠质量相关'),
    n.impact_level = coalesce(n.impact_level, '中');

MERGE (n:RiskFactor {name: '皮质型卒中'})
SET 
    n.description = coalesce(n.description, '由脑皮质病变引起的卒中类型'),
    n.impact_level = coalesce(n.impact_level, '高');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '高血压'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '重要'),
    r.evidence_level = coalesce(r.evidence_level, '高');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '糖尿病'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '重要'),
    r.evidence_level = coalesce(r.evidence_level, '高');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '饮酒'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '习惯性打鼾'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '皮质型卒中'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '重要'),
    r.evidence_level = coalesce(r.evidence_level, '高');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:10"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/006-五卒中相关睡眠障碍发生机制.md
[文本块]
五、卒中相关睡眠障碍发生机制  

SSD确切发生机制目前尚不清楚。现有研究提示其与解剖部位、神经生物学因素、机体整体功能状态和社会心理学等因素有关。  

SSD亚型中睡眠呼吸障碍(阻塞性和中枢性)与卒中事件增加密切相关，而其他类型如失眠、RLS/PLMS、EDS、RBD也可能会导致卒中发生率增加。卒中损伤脑内睡眠调节相关结构，导致睡眠效率减低，睡眠-觉醒周期异常。卒中损伤部位及严重程度对于睡眠障碍有影响，如脑干梗死常见RBD，丘脑卒中患者易出现嗜睡。丘脑、下丘脑、基底节、脑干网状结构、额叶底部、眶叶皮质等解剖结构与睡眠相关，卒中发生在这些解剖部位更易引发睡眠障碍。  

多种神经递质、细胞因子、免疫因子、神经激素和肽类物质等参与正常睡眠的维持与调控，如5-羟色胺、褪黑素、乙酰胆碱、多巴胺、去甲肾上腺素、前列腺素 D₂、白细胞介素-1β、食欲素、促肾上腺激素释放激素。卒中后脑组织损害时可引起神经递质和神经内分泌失衡，产生炎症状态，从而导致睡眠障碍发生。  

SSD与年龄、高血压、糖尿病、心脏病、习惯性打鼾、卒中病程、日常生活能力、神经功能缺损程度存在相关性。  

六、卒中相关睡眠障碍评估与管理  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.description = coalesce(n.description, '与卒中相关的睡眠障碍，包括失眠、RLS/PLMS、EDS等'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: 'RLS/PLMS'})
SET 
    n.description = coalesce(n.description, '静止时腿部不适和周期性肢体运动综合症'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '嗜睡'})
SET 
    n.description = coalesce(n.description, '过度白天嗜睡的状态'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '卒中'})
SET 
    n.description = coalesce(n.description, '脑部血液供应受阻导致的疾病'),
    n.category = coalesce(n.category, '脑血管疾病');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = 'RLS/PLMS'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '可能'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '卒中'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '卒中相关睡眠障碍'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:11"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/005-三文献检索评价及筛选.md
[文本块]
三、文献检索、评价及筛选  

(一)中文检索词及检索数据库:  
检索词包括与卒中相关(缺血性卒中、脑梗死、短暂性脑缺血发作及脑出血)和与睡眠障碍相关(睡眠障碍、失眠、睡眠增多、睡眠呼吸暂停、不宁腿综合征、周期性肢体运动、异态睡眠、快速眼动期睡眠行为异常或快速眼动期睡眠行为障碍)两组。  
中文检索数据库为万方医学网、中国知网和维普网。  

(二)英文检索词和数据库:  
与卒中相关的检索词包括cerebrovascular disorders、stroke、cerebrovascular event、poststroke、apoplex、cerebrovascular accident、brain vascular accident、CVD、cerebral / brain infarction、brain ischemia、intracranial embolism、cerebral / brain hemorrhage、intracranial hemorrhage;  
与睡眠障碍相关的检索词包括sleep、sleepiness、insomnia、hypersomnia、OSAHS、OSAS、CSA、restless legs syndrome、periodic limb movements of sleep、parasomnias、RBD。  
英文文献数据库包括PubMed、Embase、Cochrane Library。  

(三)筛选结果:  
中英文检索词卒中相关(及其亚型) $^+$ 睡眠障碍相关(及其亚型), 共检索到文献2644篇。  

(四)文献入选原则  
1. 循证医学证据包括系统回顾、Meta分析、RCT研究、非RCT研究、队列或病例对照研究、指南、共识和其他类型研究, 证据等级高者优先。  
2. 相似文献以证据等级高、发表时间近者优先。  
3. 在上述检索范围内如果某个专题文献过少, 则扩大检索范围查找。  
4. 结合本共识研究内容的具体需要。  

(五)文献剔除标准:  
非临床试验、重复文献、与主题无关文献等。  

四、卒中相关睡眠障碍流行病学  
睡眠障碍在一般人群中患病率为 $21\\%$ ，国外报道为 $44\\%{\\sim}78\\%$ ，国内报道为 $62\\%{\\sim}80\\%$ 。  

尽管SSD患病率各文献报道不一, 但均明显高于一般人群。SSD降低卒中患者生活质量、增加卒中复发风险、影响神经功能预后与康复, 因此及时评估及管理SSD对于卒中二级预防和改善预后至关重要。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '缺血性卒中'});

MERGE (n:Disease {name: '脑梗死'});

MERGE (n:Disease {name: '短暂性脑缺血发作'});

MERGE (n:Disease {name: '脑出血'});

MERGE (n:Symptom {name: '睡眠障碍'});

MERGE (n:Symptom {name: '失眠'});

MERGE (n:Symptom {name: '睡眠增多'});

MERGE (n:Symptom {name: '睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSAHS');

MERGE (n:Symptom {name: '不宁腿综合征'})
SET 
    n.short_name = coalesce(n.short_name, 'RLS');

MERGE (n:Symptom {name: '周期性肢体运动'});

MERGE (n:Symptom {name: '异态睡眠'});

MERGE (n:Symptom {name: '快速眼动期睡眠行为异常'});

MERGE (n:Symptom {name: '快速眼动期睡眠行为障碍'});

// 关系更新
MATCH (from) WHERE from.name = '缺血性卒中'
MATCH (to) WHERE to.name = '睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '缺血性卒中'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '缺血性卒中'
MATCH (to) WHERE to.name = '睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '缺血性卒中'
MATCH (to) WHERE to.name = '不宁腿综合征'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '低'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '缺血性卒中'
MATCH (to) WHERE to.name = '睡眠增多'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '低'),
    r.severity = coalesce(r.severity, '轻');

MATCH (from) WHERE from.name = '脑梗死'
MATCH (to) WHERE to.name = '睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.88),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '脑梗死'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.83),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '短暂性脑缺血发作'
MATCH (to) WHERE to.name = '睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '脑出血'
MATCH (to) WHERE to.name = '睡眠障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '中'),
    r.severity = coalesce(r.severity, '中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:11"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/011-4中医中药.md
[文本块]
# 中医、中药  

## 中成药物  
- **药物名称**: 百乐眠胶囊  
  - **用法**: 每次4粒, 2次/天  
  - **疗效**:  
    - 对卒中急性期失眠有效  
    - 显著改善睡眠质量  
    - 改善生活自理能力  
    - 日间功能障碍评分和改良Rankin量表评分较对照组明显改善  
    - 对老年卒中后失眠患者脑内神经递质水平有效改善，提高睡眠质量  

## 针灸治疗  
- **疗法**: 针灸治疗卒中相关失眠  
  - **效果**:  
    - 经验针刺疗法优于常规针灸  
    - 对照安慰剂或传统疗法显示一定疗效  

## 其他  
- **疗法**: 经颅磁刺激治疗卒中相关失眠  
  - **效果**: 多项随机对照试验显示良好效果  
- **护理**: 对卒中相关失眠有改善作用  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关失眠'})
SET 
    n.description = coalesce(n.description, '与卒中相关的睡眠障碍');

MERGE (n:Treatment {name: '百乐眠胶囊'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '一种中成药物，针对卒中急性期失眠有效'),
    n.dosage = coalesce(n.dosage, '每次4粒, 2次/天'),
    n.duration = coalesce(n.duration, '根据需求'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '针灸治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针对卒中相关失眠的针灸疗法'),
    n.dosage = coalesce(n.dosage, '根据需求'),
    n.duration = coalesce(n.duration, '根据需求'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '经颅磁刺激'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '用于治疗卒中相关失眠的经颅磁刺激疗法'),
    n.dosage = coalesce(n.dosage, '根据需求'),
    n.duration = coalesce(n.duration, '根据需求'),
    n.contraindication = coalesce(n.contraindication, '无');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '百乐眠胶囊'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '针灸治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '经颅磁刺激'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:14"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/013-推荐意见.md
[文本块]
推荐意见：  

1. 卒中患者中OSA患病率很高，针对高危患者应进行常规OSA评估和管理 (I,A)。  

2. 便携式睡眠呼吸监测装置、SDB问卷及PSG监测可作为卒中相关OSA常规筛查及评估手段 (I,A)。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.code = coalesce(n.code, 'OSA'),
    n.description = coalesce(n.description, '一种在睡眠过程中反复出现呼吸暂停或呼吸减弱的疾病'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '卒中'})
SET 
    n.code = coalesce(n.code, 'STROKE'),
    n.description = coalesce(n.description, '脑部血液供应中断导致的功能障碍'),
    n.category = coalesce(n.category, '脑血管疾病'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Examination {name: '便携式睡眠呼吸监测装置'})
SET 
    n.description = coalesce(n.description, '用于评估患者睡眠过程中的呼吸情况'),
    n.method = coalesce(n.method, '便携式监测'),
    n.requirement = coalesce(n.requirement, '适用于高危OSA患者');

MERGE (n:Examination {name: 'SDB问卷'})
SET 
    n.description = coalesce(n.description, '通过问卷调查评估患者睡眠呼吸情况'),
    n.method = coalesce(n.method, '问卷调查'),
    n.requirement = coalesce(n.requirement, '自填问卷');

MERGE (n:Examination {name: 'PSG监测'})
SET 
    n.description = coalesce(n.description, '多导睡眠监测，用于检测睡眠过程中的生理参数'),
    n.method = coalesce(n.method, '睡眠监测'),
    n.requirement = coalesce(n.requirement, '临床监测');

// 关系更新
MATCH (from) WHERE from.name = '阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '卒中'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '便携式睡眠呼吸监测装置'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'SDB问卷'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'false');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'PSG监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:15"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/016-推荐意见.md
[文本块]
# 推荐意见  

1. 卒中患者睡眠中出现复杂运动行为应做RBD评估，并注意与卒中部位尤其是脑干梗死的关系 (I, C-LD)。  
2. 采用合适量表评估疑似的RBD及其严重程度 (I, C-EO)。  
3. 视频PSG是确诊RBD的金标准，但须考虑到卒中的严重程度及患者的配合程度，权衡利后采用 (I, C-EO)。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中'})
SET 
    n.code = coalesce(n.code, 'Stroke');

MERGE (n:Disease {name: '快速眼动睡眠行为障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'RBD');

MERGE (n:Symptom {name: '复杂运动行为'})
SET 
    n.description = coalesce(n.description, '卒中患者睡眠中出现复杂运动行为'),
    n.severity = coalesce(n.severity, '不明确'),
    n.frequency = coalesce(n.frequency, '不定期');

MERGE (n:Symptom {name: '卒中严重程度'})
SET 
    n.description = coalesce(n.description, '卒中的严重程度对诊断有影响'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '不定期');

// 关系更新
MATCH (from) WHERE from.name = '复杂运动行为'
MATCH (to) WHERE to.name = '快速眼动睡眠行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '快速眼动睡眠行为障碍'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '快速眼动睡眠行为障碍'
MATCH (to) WHERE to.name = '复杂运动行为'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.9),
    r.recommendation_level = coalesce(r.recommendation_level, '推荐');

MATCH (from) WHERE from.name = '快速眼动睡眠行为障碍'
MATCH (to) WHERE to.name = '卒中严重程度'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.9),
    r.recommendation_level = coalesce(r.recommendation_level, '推荐');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:18"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/010-推荐意见.md
[文本块]
# 推荐意见  

1. 研究卒中部位等信息，以确认卒中在失眠发生中可能的作用，尤其是对卒中后首次发生失眠的患者 (IIb, B-NR)。  

2. 排除可能引起失眠的其他病因，包括其他类型睡眠障碍、躯体疾病、精神疾病、药物及环境因素等 (I, A)。  

3. 选用合适的量表评估失眠患者的睡眠质量 (IIa, B-NR)。  

4. 根据临床需要，应用 PSG/ACT 进行评估 (I, A)。  

(二) 管理  

1. 睡眠卫生与健康教育: 鼓励卒中患者尽早进行康复锻炼，限制烟、酒、咖啡或茶等兴奋性物质，晚餐不宜过饱，保持良好生活习惯 (固定作息时间、卧室只用来睡眠等) 和营造良好睡眠环境 (减少噪音和光照等)。国内研究显示应用睡眠健康教育治疗卒中相关失眠，治疗组的匹兹堡睡眠质量指数 (Pittsburgh sleep quality index, PSQI) 评分低于对照组。  

2. 认知行为治疗: 认知行为治疗联合药物治疗可明显改善卒中相关失眠。国内研究通过对常规治疗与护理联合认知行为干预进行比较，显示后者较前者的睡眠状况自评量表评分、PSQI量表评分均有改善，同时焦虑、抑郁自评量表评分也有改善。另有研究显示，右佐匹克隆联合认知行为治疗组的 PSQI 总分显著低于常规治疗组，同时焦虑和抑郁情绪也得到更好改善。  

3. 药物治疗  

(1) 苯二氮草类: 包括阿普唑仑、艾司唑仑、地西泮等，具有镇静、抗焦虑、肌松和抗惊厥作用。这类药物可增加总睡眠时间，减少夜间觉醒次数。但长期使用可导致药物依赖、药效减退、药源性失眠、成瘾等问题。另外, 此类药物明显的肌松作用限制了其在卒中后失眠患者中的使用。  

(2) 非苯二氮草类: 包括酒石酸唑吡坦、右佐匹克隆、扎来普隆等，半衰期短，药物依赖风险较传统苯二氮草类药物低。研究显示酒石酸唑吡坦片、右佐匹克隆可以有效改善睡眠状况，并且不良反应发生率较低，安全性较高。  

(3) 褪黑素受体激动剂: 包括雷美尔通、阿戈美拉汀等，可以稳定睡眠-觉醒节律，缩短睡眠潜伏期，但缺乏对于卒中相关失眠患者的治疗研究，疗效尚不明确。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关失眠'})
SET 
    n.short_name = coalesce(n.short_name, '卒中失眠');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '睡眠困难，无法入睡或维持睡眠的状态'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '通过药物改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '根据医生处方'),
    n.duration = coalesce(n.duration, '根据病情而定'),
    n.contraindication = coalesce(n.contraindication, '对药物成分过敏');

MERGE (n:Treatment {name: '认知行为治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过心理干预改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '不适用'),
    n.duration = coalesce(n.duration, '根据治疗方案而定'),
    n.contraindication = coalesce(n.contraindication, '对心理治疗有禁忌');

MERGE (n:Treatment {name: '睡眠健康教育'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '提供睡眠卫生与健康教育'),
    n.dosage = coalesce(n.dosage, '不适用'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Scale {name: '匹兹堡睡眠质量指数'})
SET 
    n.description = coalesce(n.description, '评估患者睡眠质量的量表'),
    n.score_range = coalesce(n.score_range, '0-21'),
    n.interpretation = coalesce(n.interpretation, '分数越高，睡眠质量越差');

MERGE (n:Complication {name: '药物依赖'})
SET 
    n.description = coalesce(n.description, '因长期使用药物导致的依赖性'),
    n.severity = coalesce(n.severity, '中等');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '卒中相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '所有阶段');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '认知行为治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '治疗中');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '睡眠健康教育'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '预防');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '匹兹堡睡眠质量指数'
MERGE (from)-[r:ASSESSED_BY]->(to)
SET 
    r.applicability = coalesce(r.applicability, 0.9),
    r.recommendation_level = coalesce(r.recommendation_level, '强烈推荐');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '药物依赖'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '短期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:21"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/014-二管理.md
[文本块]
管理  

目前对卒中患者OSA的干预研究主要集中在体位干预治疗及持续正压通气治疗(CPAP)。多项随机对照研究显示，CPAP可以改善卒中患者神经功能状态和认知功能，而在卒中患者中，轻-中度OSA及体位性OSA发生率高。  

体位性OSA是急性期卒中的突出特点，呼吸暂停发生或加重与仰卧位时舌及咽喉部软组织受重力影响下垂有关，也可能是卒中急性期暂时现象。体位于预治疗是一种简单、易行、费用低且有效的方法，依从性更好。而卒中恢复期患者上气道阻力增加常常持续存在，需PSG监测随访。  

睡眠呼吸障碍与卒中这两个领域有很多沟通与协作机会，呼吸科和神经内科医生通过会诊、联合门诊，开展两病共存的临床流行病学调查及发病机制研究，通过多中心、大样本研究加强学科之间的交流与协作，将有力提高卒中的整体管理水平。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.short_name = coalesce(n.short_name, '卒中睡眠障碍');

MERGE (n:Disease {name: '阻塞性睡眠 apnea'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Disease {name: '轻-中度阻塞性睡眠 apnea'})
SET 
    n.short_name = coalesce(n.short_name, '轻-中度OSA');

MERGE (n:Disease {name: '体位性阻塞性睡眠 apnea'})
SET 
    n.short_name = coalesce(n.short_name, '体位性OSA');

MERGE (n:Treatment {name: '体位干预治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过改变体位来改善睡眠呼吸障碍'),
    n.duration = coalesce(n.duration, '持续'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '持续正压通气治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '使用CPAP设备维持呼吸道开放'),
    n.duration = coalesce(n.duration, '持续'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Complication {name: '呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠过程中出现的短暂呼吸中断'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Examination {name: 'PSG监测'})
SET 
    n.description = coalesce(n.description, '多导睡眠监测以评估睡眠质量'),
    n.method = coalesce(n.method, '多导睡眠记录'),
    n.requirement = coalesce(n.requirement, '在睡眠中心进行');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '阻塞性睡眠 apnea'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '轻-中度阻塞性睡眠 apnea'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '体位性阻塞性睡眠 apnea'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '持续正压通气治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.95),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '体位干预治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '恢复');

MATCH (from) WHERE from.name = '阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '呼吸暂停'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.75),
    r.timeframe = coalesce(r.timeframe, '短期');

MATCH (from) WHERE from.name = '体位性阻塞性睡眠 apnea'
MATCH (to) WHERE to.name = '呼吸暂停'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '短期');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = 'PSG监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:21"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/019-推荐意见.md
[文本块]
推荐意见：

1. 对卒中患者及早进行EDS评估，尤其是对丘脑、脑干、皮层下及多发梗死的患者（IIa, C-LD）。

2. 对临床疑似卒中相关EDS者，可以采用ESS进行评估（IIa, C-EO）。

3. 对于确诊卒中相关EDS，建议进行PSG及MSLT以鉴别其他类型睡眠障碍（IIa, C-LD）。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关过度嗜睡症'})
SET 
    n.short_name = coalesce(n.short_name, 'EDS');

MERGE (n:Examination {name: 'Epworth Sleepiness Scale'})
SET 
    n.short_name = coalesce(n.short_name, 'ESS');

MERGE (n:Examination {name: '多导睡眠监测'})
SET 
    n.short_name = coalesce(n.short_name, 'PSG');

MERGE (n:Examination {name: '维持觉醒时间试验'})
SET 
    n.short_name = coalesce(n.short_name, 'MSLT');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关过度嗜睡症'
MATCH (to) WHERE to.name = 'Epworth Sleepiness Scale'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关过度嗜睡症'
MATCH (to) WHERE to.name = '多导睡眠监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关过度嗜睡症'
MATCH (to) WHERE to.name = '维持觉醒时间试验'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:21"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/017-二管理.md
[文本块]
管理  

目前缺乏关于卒中相关RBD治疗的专项研究及文献报道。鉴于RBD临床症状中的伤害性行为比例可高达30%~81%，严重威胁患者健康及生存质量，为患者提供相对安全的睡眠环境，降低患者本人与照料者受伤风险，非药物治疗应作为RBD标准治疗手段。  

非药物治疗包括优化卧室环境、减少伤害风险、治疗同时存在的其他类型睡眠障碍，如OSA。药物治疗包括：氯硝西泮睡前服用；褪黑素是苯二氮草类的安全替代药，对于痴呆或步态异常或对氯硝西泮不能耐受或禁忌的患者可能有效。普拉克索对RBD的疗效仍存在争议。  

氯硝西泮是治疗RBD的有效药物，但针对卒中相关RBD患者使用，需要考虑卒中病变部位，尤其是脑干梗死的患者。褪黑素可以治疗RBD，目前尚无证据表明该药物会增加或降低卒中风险。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关RBD'})
SET 
    n.description = coalesce(n.description, '卒中相关快速眼动睡眠行为障碍');

MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Treatment {name: '氯硝西泮'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '治疗RBD的有效药物'),
    n.dosage = coalesce(n.dosage, '睡前服用'),
    n.contraindication = coalesce(n.contraindication, '对氯硝西泮不能耐受或禁忌的患者');

MERGE (n:Treatment {name: '褪黑素'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '对痴呆或步态异常患者的安全替代药');

MERGE (n:Treatment {name: '非药物治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '包括优化卧室环境、减少伤害风险');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '氯硝西泮'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '标准治疗');

MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '褪黑素'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '标准治疗');

MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '非药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '标准治疗');

MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '普遍'),
    r.severity = coalesce(r.severity, '高');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:24"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/009-推荐意见.md
[文本块]
# 【推荐意见】  

1. 按照指南规范治疗卒中 (I,A)。  
2. 根据SSD亚型选择针对性治疗方法 (I,C-EO)。  
3. 全面筛查并控制影响睡眠的多种因素，包括睡眠呼吸障碍、疼痛、焦虑抑郁等 (I,A)。  
4. 指导患者规律作息和保持良好的睡眠卫生 (I,A)。  
5. 对于SSD的处理应该依据动态评估结果进行相应调整 (I,A)。  

## 卒中相关失眠评估  

卒中相关失眠的诊断需同时满足卒中和失眠的诊断标准。根据《国际睡眠障碍分类-第3版 (ICSD-3)》，失眠分为短期失眠、慢性失眠和其他类型失眠。失眠症状持续3个月内为短期失眠，超过3个月则为慢性失眠。  

### 失眠的诊断标准  

以下 $1\\sim5$ 必须全部满足:  
1. 患者自述或照料者观察到患者出现以下1种或者多种症状:  
   - (1) 入睡困难  
   - (2) 睡眠维持困难  
   - (3) 比期望起床时间更早醒来  

2. 患者自述或照料者观察到患者因为夜间睡眠困难而出现以下1种或者多种症状:  
   - (1) 疲劳或缺乏精力  
   - (2) 注意力、专注力或者记忆力下降  
   - (3) 社交、家庭、职业或学业等功能损害  
   - (4) 情绪易烦躁或易激惹  
   - (5) 日间思睡  
   - (6) 行为问题 (多动、冲动或攻击性)  
   - (7) 驱动力、精力或动力缺乏  
   - (8) 易犯错或易出事故  
   - (9) 对睡眠质量感到忧虑  

3. 这些异常不能单纯以睡眠机会不充足或睡眠环境不佳所解释。  
4. 睡眠紊乱和相关日间症状出现至少每周3次。  
5. 上述症状不能用其他睡眠疾病更好地解释。  

卒中相关失眠发生率为 $57\\%$，其中 $38\\%$ 患者在卒中前即有失眠症状。女性卒中相关失眠发生率高于男性，独居和高龄者发生失眠的风险增高。失眠不仅影响卒中康复和生活质量，而且增加卒中复发、残疾、焦虑、认知功能下降、自杀等躯体及心理问题的风险。  

某些部位的卒中和失眠相关。研究显示右侧大脑半球卒中发生失眠症状的概率较左侧更高，失眠作为主要症状的卒中部位包括丘脑、脑干。  

失眠的诊断包括详细的病史、睡眠日记、识别潜在的躯体或精神性疾病共病、生活质量和日间功能问卷等，需要选用合适的量表评估失眠程度，而PSG仅用于药物难治性或认知障碍相关失眠，或怀疑存在其他睡眠障碍的患者。体动记录仪 (ACT) 可以用于描述睡眠类型，尤其适用于自身睡眠感知能力较差的患者。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中'})
SET 
    n.code = coalesce(n.code, 'I63');

MERGE (n:Disease {name: '失眠'})
SET 
    n.code = coalesce(n.code, 'G47.0');

MERGE (n:Symptom {name: '入睡困难'});

MERGE (n:Symptom {name: '睡眠维持困难'});

MERGE (n:Symptom {name: '疲劳或缺乏精力'});

MERGE (n:Symptom {name: '注意力下降'});

MERGE (n:Symptom {name: '情绪易烦躁'});

MERGE (n:Symptom {name: '日间思睡'});

MERGE (n:Symptom {name: '行为问题'});

MERGE (n:Symptom {name: '对睡眠质量感到忧虑'});

// 关系更新
MATCH (from) WHERE from.name = '入睡困难'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '睡眠维持困难'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '疲劳或缺乏精力'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '注意力下降'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '情绪易烦躁'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '日间思睡'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '行为问题'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '对睡眠质量感到忧虑'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0);

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:29"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/015-推荐意见.md
[文本块]
# 卒中相关OSA与RBD治疗建议  

## 1. 卒中相关OSA早期治疗  
- 应早期、个体化积极治疗 (I, B-R)  

## 2. 卒中急性期治疗  
- (1) 体位性OSA或轻-中度OSA患者：进行睡眠体位指导 (I, B-R)  
- (2) 中重度OSA患者，体位指导无效时：CPAP为一线治疗 (I, B-R)  
- (3) 对于不能纠正缺氧和频繁呼吸暂停的患者：可考虑有创辅助通气治疗 (I, C-EO)  
- (4) 建议增加睡眠呼吸监测评估及专家参与 (IIa, C-EO)  
- (5) 多学科综合处理：包括呼吸科、神经内科、耳鼻喉科联合管理 (IIa, C-EO)  

## 3. 卒中恢复期治疗  
- (1) 生活方式指导：减重、戒烟、戒酒等 (I, C-EO)  
- (2) 体位相关性OSA患者：建议侧卧位睡眠 (I, B-R)  
- (3) 经PSG监测确认OSA且AHI ≥ 15次/h者：需长期随访和治疗 (I, B-NR)  

## 九、卒中相关RBD评估  
- 卒中相关RBD的诊断需满足卒中和RBD标准。属于症状性、血管源性RBD。  

### RBD诊断标准  
1. 重复发作的睡眠相关发声和/或复杂动作。  
2. PSG证实行为发生在REM睡眠期，或根据梦境推测。  
3. PSG证实REM睡眠期无肌张力缺失。  
4. 不能用其他疾病或药物解释。  

### RBD鉴别诊断  
- 包括NREM期异态睡眠、睡眠呼吸障碍、夜间癫痫发作等。  

### RBD流行病学  
- 卒中患者中RBD患病率为10.9%，脑干梗死患者中为22.2%。  
- PSG可用于鉴别REM和NREM期异态睡眠及评估夜间癫痫发作。  

### RBD筛查工具  
- RBD筛查问卷、香港版RBD问卷、RBD严重程度量表、RBD单问卷筛查、Mayo睡眠问卷。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关阻塞性睡眠呼吸暂停'})
SET 
    n.short_name = coalesce(n.short_name, 'OSA');

MERGE (n:Disease {name: '卒中相关快速眼动行为障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'RBD');

MERGE (n:Treatment {name: 'CPAP'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '持续气道正压通气');

MERGE (n:Treatment {name: '睡眠体位指导'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '指导患者选择适合的睡眠姿势');

MERGE (n:Treatment {name: '有创辅助通气治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '临床情况需要的有创辅助通气');

MERGE (n:Treatment {name: '生活方式指导'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '减重、戒烟、戒酒等生活方式指导');

MERGE (n:Symptom {name: '缺氧'});

MERGE (n:Symptom {name: '频繁呼吸暂停'});

MERGE (n:Symptom {name: '睡眠相关发声'});

MERGE (n:Symptom {name: '复杂动作'});

MERGE (n:Symptom {name: 'REM睡眠期无肌张力缺失'});

// 关系更新
MATCH (from) WHERE from.name = '卒中相关阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = 'CPAP'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 1.0),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '睡眠体位指导'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '有创辅助通气治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关阻塞性睡眠呼吸暂停'
MATCH (to) WHERE to.name = '生活方式指导'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '恢复期');

MATCH (from) WHERE from.name = '缺氧'
MATCH (to) WHERE to.name = '卒中相关阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '频繁呼吸暂停'
MATCH (to) WHERE to.name = '卒中相关阻塞性睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '睡眠相关发声'
MATCH (to) WHERE to.name = '卒中相关快速眼动行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '复杂动作'
MATCH (to) WHERE to.name = '卒中相关快速眼动行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = 'REM睡眠期无肌张力缺失'
MATCH (to) WHERE to.name = '卒中相关快速眼动行为障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:30"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/018-推荐意见.md
[文本块]
推荐意见  

1. 对于明确诊断RBD的卒中患者，首选非药物治疗手段，包括安全的睡眠环境、规律作息时间、避免兴奋性药物、酒精摄入等(I,C-EO)。  

2. 可酌情选择治疗RBD常用药物治疗卒中相关RBD，但是需要权衡获益与风险(IIb,C-EO)。  

卒中相关日间思睡(EDS)  

(一)评估  

卒中相关EDS诊断应该同时符合卒中及EDS诊断标准。根据ICSD-3诊断标准，由疾病引起的EDS诊断必须满足以下第1~4项:  

1. 每日出现难以克制的困倦欲睡或非预期的白天入睡。  
2. 白天嗜睡是明确的基础疾病或神经系统疾病的结果。  
3. 如果进行多次睡眠潜伏期试验(MSLT)，可见平均睡眠潜伏期 ≤8 min，睡眠起始REM期少于2次。  
4. 嗜睡和/或MSLT结果不能以其他未治疗的睡眠疾病、精神疾病和药物或毒品作用而更好地解释。  

白天嗜睡程度通常采用爱泼沃斯嗜睡量表(ESS)评估。ESS由8项假设的场景构成:  
1. 坐着阅读时  
2. 看电视时  
3. 在公共场所坐着不动时（如在剧场或开会）  
4. 长时间坐车时中间不休息（超过1小时）  
5. 坐着与人谈话时  
6. 饭后休息时（未饮酒时）  
7. 开车等红绿灯时  
8. 下午静卧休息时  

ESS评分标准: 从不 ω=0分；很少 =1分；有时 =2分；经常 =3分。总分24分，评分 >6分为嗜睡，评分 >10分为非常嗜睡。  

卒中相关EDS国内报道患病率为36.96%，与卒中发生部位有关。最易发生严重EDS的卒中部位依次为丘脑、脑干、皮层下及多发梗死。EDS不仅是脑梗死的危险因素，也是卒中后严重的并发症，影响患者正常生活质量及功能康复，延长住院时间，甚至可能导致卒中复发及增加死亡率。  

早期积极筛查、诊断、干预EDS有可能改善急性脑梗死患者的预后及转归。ESS是评估日间过度嗜睡的常用量表，此量表具有简单、经济、省时的特点，因此更容易被检查者接受。  

卒中相关EDS的发生机制目前尚不清楚。推测卒中可直接或间接损伤睡眠-觉醒相关的神经结构，影响相关神经递质的生成及传递，进而引起睡眠与觉醒障碍。另外，某些睡眠疾病是卒中相关EDS的重要危险因素，如睡眠呼吸暂停在卒中合并EDS的患者中患病率很高。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关RBD'})
SET 
    n.description = coalesce(n.description, '与卒中患者相关的快速眼动期睡眠行为障碍');

MERGE (n:Disease {name: '卒中相关日间思睡'})
SET 
    n.description = coalesce(n.description, '卒中患者的日间过度嗜睡');

MERGE (n:Symptom {name: '白天嗜睡'})
SET 
    n.description = coalesce(n.description, '患者在白天感到极度困倦或不由自主地入睡');

MERGE (n:Symptom {name: '非预期的白天入睡'})
SET 
    n.description = coalesce(n.description, '在白天出现未预期的入睡情况');

MERGE (n:Symptom {name: '难以克制的困倦欲睡'})
SET 
    n.description = coalesce(n.description, '患者感到无法抵挡的睡意');

MERGE (n:Treatment {name: '非药物治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '安全的睡眠环境、规律作息时间、避免兴奋性药物');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '可酌情选择治疗RBD的常用药物'),
    n.contraindication = coalesce(n.contraindication, '需权衡获益与风险');

// 关系更新
MATCH (from) WHERE from.name = '白天嗜睡'
MATCH (to) WHERE to.name = '卒中相关日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '经常'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '非预期的白天入睡'
MATCH (to) WHERE to.name = '卒中相关日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '经常'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '难以克制的困倦欲睡'
MATCH (to) WHERE to.name = '卒中相关日间思睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '持续'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '非药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '首选');

MATCH (from) WHERE from.name = '卒中相关RBD'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '可选');

MATCH (from) WHERE from.name = '卒中相关日间思睡'
MATCH (to) WHERE to.name = '卒中相关RBD'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '卒中相关日间思睡'
MATCH (to) WHERE to.name = '白天嗜睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '经常'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关日间思睡'
MATCH (to) WHERE to.name = '非预期的白天入睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '经常'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关日间思睡'
MATCH (to) WHERE to.name = '难以克制的困倦欲睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '经常'),
    r.severity = coalesce(r.severity, '严重');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:30"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/022-推荐意见.md
[文本块]
# 推荐意见  

1. 人睡困难的卒中患者应询问其睡前是否有腿部不舒服的感觉，证据等级(I,A)。  

2. 对于卒中伴语言障碍且无法配合RLS量表评估的患者，可通过临床观察行为推测可能存在的RLS，证据等级(IIb,C-EO)。  

3. PSG监测可确诊疑似RLS/PLMS患者，尤其是在不能使用问卷和量表的情况下，证据等级(IIIa,B-NR)。  

4. 有RLS家族史及多巴胺能药物或铁剂能改善症状，支持RLS的临床诊断，证据等级(I,A)。  

5. 如同时存在PLMS，支持RLS的诊断，证据等级(IIa,B-NR)。  

6. 建议对卒中患者筛查RLS/PLMS，特别是基底节、内囊及放射冠区卒中患者，证据等级(IIb,C-LD)。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中'})
SET 
    n.short_name = coalesce(n.short_name, 'Stroke');

MERGE (n:Symptom {name: '腿部不舒服'})
SET 
    n.description = coalesce(n.description, '患者在睡前感到的腿部不适'),
    n.severity = coalesce(n.severity, '轻度'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: 'RLS'})
SET 
    n.description = coalesce(n.description, '静息时出现的腿部不适感'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '时常');

MERGE (n:Symptom {name: 'PLMS'})
SET 
    n.description = coalesce(n.description, '在睡眠过程中出现的腿部不自主运动'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '时常');

MERGE (n:Examination {name: 'RLS量表'})
SET 
    n.description = coalesce(n.description, '评估腿部不适的标准量表'),
    n.method = coalesce(n.method, '问卷'),
    n.requirement = coalesce(n.requirement, '患者需配合');

MERGE (n:Examination {name: 'PSG监测'})
SET 
    n.description = coalesce(n.description, '多导睡眠监测法'),
    n.method = coalesce(n.method, '监测'),
    n.requirement = coalesce(n.requirement, '需要专业设备');

MERGE (n:Examination {name: '临床观察'})
SET 
    n.description = coalesce(n.description, '通过观察判断症状'),
    n.method = coalesce(n.method, '观察'),
    n.requirement = coalesce(n.requirement, '医务人员需专注');

// 关系更新
MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '腿部不舒服'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '时常'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'RLS'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'PLMS'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'RLS量表'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = 'PSG监测'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '临床观察'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '中'),
    r.mandatory = coalesce(r.mandatory, 'false');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:32"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/027-.md
[文本块]
抱歉，您提供的文本块是空的，请提供包含具体内容的文本块，以便我可以进行整理。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:32"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/021-推荐意见.md
[文本块]
# 推荐意见  

## 非药物治疗:  

1. 积极睡眠卫生管理  
   - 包括良好的睡眠环境  
   - 规律的作息时间  
   - 日间适量的运动  
   - 睡前行为指导  

2. 高压氧治疗、康复训练可能获益  

## 药物治疗:  

1. 使用多巴胺类药物及莫达非尼等中枢兴奋剂可能获益  

2. 积极治疗与EDS相关的其他睡眠障碍  
   - 如RLS、睡眠呼吸暂停等,可能改善EDS临床症状  

## 卒中相关不宁腿综合征(RLS)/睡眠中周期性肢体运动(PLMS)  

### 评估  

- 卒中相关RLS/PLMS诊断应同时符合卒中及RLS/PLMS诊断标准。  

#### RLS的诊断标准必须同时满足以下第1~5项:  

1. 有活动双下肢的强烈愿望,常伴随双下肢不适感,或不适感导致了活动欲望。  
2. 强烈的活动欲望及不适感出现在休息或不活动时,或在休息或不活动时加重。  
3. 活动过程中,强烈的活动欲望及不适感可得到部分或完全缓解。  
4. 强烈的活动欲望及不适感在傍晚或夜间加重,或仅出现在傍晚或夜间。  
5. 以上表现不能单纯由一种疾病或现象解释。  

#### PLMS的诊断  

- PLMS是指在睡眠过程中出现的周期性、重复、高度刻板的肢体运动,常发生于下肢。  
- 主要评估手段是PSG监测。  
- 儿童发作频率 > 5次/h、成人 > 15次/h具有诊断价值。  

### 流行病学  

- 卒中相关RLS的患病率为 12.4%~15%,明显高于普通人群的 3%。  
- RLS发病机制尚不清楚,可能与中枢神经系统铁缺乏有关,或卒中导致基底节、脑干病变可引起相关症状。  

### 研究发现  

- RLS可能是卒中的危险因素。  
- 有RLS家族史的患者中 80%~90%伴发PLMS。  
- 卒中患者的RLS及PLMS通常同时存在,尤其在基底节、内囊和放射冠区卒中者。  
- RLS/PLMS可以增加卒中风险。  
- 积极早期诊断、及时治疗有助于卒中患者康复。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关不宁腿综合征'})
SET 
    n.description = coalesce(n.description, '卒中相关不宁腿综合征'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠中呼吸反复暂停或减弱'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '重');

MERGE (n:Disease {name: '过度嗜睡综合征'})
SET 
    n.description = coalesce(n.description, '常表现为日间过度嗜睡'),
    n.category = coalesce(n.category, '睡眠障碍'),
    n.severity = coalesce(n.severity, '轻');

MERGE (n:Symptom {name: '强烈活动欲望'})
SET 
    n.description = coalesce(n.description, '有活动双下肢的强烈愿望，常伴随双下肢不适感'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '不适感加重'})
SET 
    n.description = coalesce(n.description, '强烈的活动欲望及不适感在休息或不活动时加重'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '晚间加重'})
SET 
    n.description = coalesce(n.description, '强烈的活动欲望及不适感在傍晚或夜间加重'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Treatment {name: '多巴胺类药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用多巴胺类药物可能获益'),
    n.duration = coalesce(n.duration, '根据医生建议'),
    n.contraindication = coalesce(n.contraindication, '部分患者禁忌');

MERGE (n:Treatment {name: '高压氧治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '高压氧治疗可能获益'),
    n.duration = coalesce(n.duration, '根据医生建议'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '康复训练'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '康复训练可能获益'),
    n.duration = coalesce(n.duration, '根据医生建议'),
    n.contraindication = coalesce(n.contraindication, '无');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '康复训练'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '睡眠呼吸暂停'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '重');

MATCH (from) WHERE from.name = '过度嗜睡综合征'
MATCH (to) WHERE to.name = '多巴胺类药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '强烈活动欲望'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '时常'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '不适感加重'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '时常'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '晚间加重'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '时常'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关不宁腿综合征'
MATCH (to) WHERE to.name = '高压氧治疗'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:33"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/020-二管理.md
[文本块]
# (二)管理  

目前关于卒中相关EDS尚缺乏大样本及系统性研究。国内个案报道脑出血后EDS患者给予多巴胺类药物、高压氧治疗及康复训练后,精神状态及肢体运动功能均有改善。其机制可能是多巴胺为促进觉醒的神经递质,应用D1受体激动剂(安非他命)可增加觉醒时间;高压氧治疗可以通过提高血氧分压和氧含量,改善卒中病灶区域供氧,提高大脑皮层兴奋性。  

国外个案报道显示,对于双侧丘脑旁中央区梗死所致的EDS患者,给予针对卒中治疗并辅以莫达非尼治疗后,患者的嗜睡现象明显好转。  

另有研究显示卒中患者EDS与RLS、肥胖、糖尿病相关,积极控制相关危险因素可能减少卒中相关EDS发生。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关EDS'})
SET 
    n.description = coalesce(n.description, '卒中相关的 excessive daytime sleepiness (EDS)');

MERGE (n:Disease {name: '脑出血'});

MERGE (n:Disease {name: '双侧丘脑旁中央区梗死'});

MERGE (n:Disease {name: '肥胖'});

MERGE (n:Disease {name: '糖尿病'});

MERGE (n:Treatment {name: '多巴胺类药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于改善精神状态及肢体运动功能'),
    n.dosage = coalesce(n.dosage, '依据具体病情'),
    n.duration = coalesce(n.duration, '持续疗程根据医嘱'),
    n.contraindication = coalesce(n.contraindication, '对多巴胺敏感者禁用');

MERGE (n:Treatment {name: '高压氧治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '提高血氧分压和氧含量以改善供氧'),
    n.dosage = coalesce(n.dosage, '依据具体情况'),
    n.duration = coalesce(n.duration, '依据治疗方案'),
    n.contraindication = coalesce(n.contraindication, '长期高压氧禁忌症');

MERGE (n:Treatment {name: '康复训练'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '改善肢体运动功能的训练'),
    n.dosage = coalesce(n.dosage, '基于患者能力'),
    n.duration = coalesce(n.duration, '持续进行'),
    n.contraindication = coalesce(n.contraindication, '无特殊禁忌');

MERGE (n:Treatment {name: '莫达非尼治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于改善嗜睡现象'),
    n.dosage = coalesce(n.dosage, '依据具体病情'),
    n.duration = coalesce(n.duration, '依据医嘱调整'),
    n.contraindication = coalesce(n.contraindication, '对莫达非尼过敏者禁用');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '脑出血'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '双侧丘脑旁中央区梗死'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '肥胖'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '糖尿病'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '多巴胺类药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性期');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '高压氧治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '恢复期');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '康复训练'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '康复期');

MATCH (from) WHERE from.name = '卒中相关EDS'
MATCH (to) WHERE to.name = '莫达非尼治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '恢复期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:33"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/023-二管理.md
[文本块]
管理

卒中相关RLS的药物治疗没有专门的研究及文献报道。可改善RLS临床症状的药物包括：
- 新型非麦角类多巴胺受体激动剂：普拉克索
- 高选择性非麦角类多巴胺受体激动剂：罗匹尼罗

严重的RLS通常需终生用药，难治性患者可考虑联合用药，包括：
- 多巴胺能药物 
- 氯硝西泮等

RLS可导致睡眠剥夺、抑郁症及不良的睡眠习惯，增加卒中风险。氯硝西泮作为辅助用药，睡前服可减轻RLS导致的失眠。

卒中与RLS有共同的危险因素， 包括：
- 肥胖
- 吸烟
- 饮酒
- 高血压
- 糖尿病
- 高脂血症

卒中患者营养障碍导致的缺铁性贫血与RLS相关，常规应进行检测和处理。

对于中-重度RLS，国际上指南推荐使用以下减轻症状的药物：
- 较强证据的药物：普拉克索、罗替戈汀、加巴喷丁、卡麦角林
- 中等证据的药物：罗匹尼罗、普瑞巴林、静脉注射四羧基麦芽糖铁
- 弱证据药物：左旋多巴

"""
response = """
// 节点更新
MERGE (n:Disease {name: '欠稳定旺盛型腿部不宁症'})
SET 
    n.short_name = coalesce(n.short_name, 'RLS');

MERGE (n:Treatment {name: '普拉克索'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '新型非麦角类多巴胺受体激动剂'),
    n.dosage = coalesce(n.dosage, '按临床要求'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '罗匹尼罗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '高选择性非麦角类多巴胺受体激动剂'),
    n.dosage = coalesce(n.dosage, '按临床要求'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '氯硝西泮'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '作为辅助用药，睡前服用可减轻失眠'),
    n.dosage = coalesce(n.dosage, '按临床要求'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Disease {name: '卒中'})
SET 
    n.short_name = coalesce(n.short_name, 'Stroke');

MERGE (n:RiskFactor {name: '肥胖'})
SET 
    n.description = coalesce(n.description, '超重'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '吸烟'})
SET 
    n.description = coalesce(n.description, '吸食香烟'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '饮酒'})
SET 
    n.description = coalesce(n.description, '过量饮酒'),
    n.impact_level = coalesce(n.impact_level, '中');

MERGE (n:RiskFactor {name: '高血压'})
SET 
    n.description = coalesce(n.description, '血压异常升高'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '糖尿病'})
SET 
    n.description = coalesce(n.description, '血糖异常'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '高脂血症'})
SET 
    n.description = coalesce(n.description, '血脂异常'),
    n.impact_level = coalesce(n.impact_level, '中');

// 关系更新
MATCH (from) WHERE from.name = '欠稳定旺盛型腿部不宁症'
MATCH (to) WHERE to.name = '普拉克索'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '临床');

MATCH (from) WHERE from.name = '欠稳定旺盛型腿部不宁症'
MATCH (to) WHERE to.name = '罗匹尼罗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '临床');

MATCH (from) WHERE from.name = '欠稳定旺盛型腿部不宁症'
MATCH (to) WHERE to.name = '氯硝西泮'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '临床');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '肥胖'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '较强');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '吸烟'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '较强');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '饮酒'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '高血压'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '较强');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '糖尿病'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '较强');

MATCH (from) WHERE from.name = '卒中'
MATCH (to) WHERE to.name = '高脂血症'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:34"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/025-推荐意见.md
[文本块]
# 【推荐意见】  

1. 对卒中患者进行CRSWDs评估，尤其是出现睡眠-觉醒节律颠倒现象的患者。  
2. 对语言障碍或严重认知障碍的卒中患者，主要基于详细病史和知情者报告的临床印象。  
3. 确诊CRSWDs的卒中患者，应明确病因。  
4. 体动记录仪(ACT)有助于确诊CRSWDs。  
5. 建议对卒中患者筛查CRSWDs，特别是纹状体、丘脑、中脑及桥脑卒中者。  

（二）管理  

卒中相关CRSWDs应用抗组胺类药物可延长睡眠时间和减少中途觉醒，缩短入睡潜伏期。褪黑素类药物可调节睡眠-觉醒生物节律，减少睡眠潜伏期和觉醒频率。  

对于睡眠-觉醒节律颠倒现象，可应用光疗、声疗、运动功能训练和疼痛刺激等方法剥夺白天过多睡眠，诱导和延长夜间睡眠时间。制定合适的作息时间表，通过聊天、听音乐、收听广播等患者感兴趣的方式，逐步增加活动内容与活动量，延长白天的觉醒时间。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关睡眠障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'CRSWDs');

MERGE (n:Treatment {name: '抗组胺类药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '可延长睡眠时间和减少中途觉醒，缩短入睡潜伏期');

MERGE (n:Treatment {name: '褪黑素类药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '可调节睡眠-觉醒生物节律，减少睡眠潜伏期和觉醒频率');

MERGE (n:Symptom {name: '睡眠-觉醒节律颠倒现象'});

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '抗组胺类药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '褪黑素类药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '睡眠-觉醒节律颠倒现象'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '严重');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:35"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/012-推荐意见.md
[文本块]
# 推荐意见  

1. 睡眠卫生教育及认知行为疗法在卒中相关失眠治疗中有积极作用 (IIa, B-NR)。  
2. 针灸治疗可以改善卒中相关失眠 (IIa, B-R)。  
3. 非苯二氮草类药物，如酒石酸唑吡坦及右佐匹克隆，可以改善卒中相关失眠患者睡眠质量，且副作用较小 (IIa)。  
4. 经临床研究证实疗效的中成药物可改善老年卒中及卒中急性期失眠患者的睡眠质量，降低神经功能损害程度 (IIa, B-R)。  

八、卒中相关睡眠呼吸障碍 (SDB)  

(一) 评估  

卒中相关SDB的诊断需同时满足卒中和SDB的诊断标准，其中OSA是卒中相关SDB的主要类型。  

成人诊断标准: 根据诊断标准，需要具备以下第1+2项或第3项。  
1. 以下表现至少出现1项:  
   (1) 患者主诉困倦、非恢复性睡眠、乏力或失眠;  
   (2) 因气或喘息从睡眠中醒来;  
   (3) 同寝室或其他目击者报告患者在睡眠期间存在习惯性打鼾、呼吸中断或二者皆有;  
   (4) 已确诊高血压、心境障碍、认知功能障碍、冠心病、脑血管疾病、充血性心力衰竭、心房颤动或2型糖尿病。  

2. PSG或者睡眠中心外监测 (out of center sleep testing, OCST) 证实: PSG或OCST监测期间，发生以阻塞性为主的呼吸事件 [包括阻塞型呼吸暂停、混合型呼吸暂停、低通气和呼吸努力相关性觉醒 (respiratory effort-related arousals, RERAs)]，≥5 次/h。  

3. PSG或者OCST证实: PSG或OCST监测期间发生阻塞性为主的呼吸事件 (包括呼吸暂停、低通气或RERAs)，≥15 次/h。  

卒中相关SDB患病率为60%~70%，包括OSA、CSA和混合性睡眠呼吸暂停。其中卒中相关OSA最为常见，其发生率为43%~70%，远高于普通人群的4%~24%。  

SDB在卒中急性期最为严重，随着卒中的恢复而逐渐改善。对卒中相关SDB的Meta分析显示，卒中后4周53%的患者睡眠呼吸暂停低通气指数 (apnea-hypopnea index, AHI) >10 次/h。OSA不仅增加卒中复发率及病死率，而且不适当治疗可加重神经功能损害程度。PSG是用于SDB诊断的金标准。更简单但准确度较低的方法包括血氧测定和鼻气流测定、SDB问卷 (如柏林问卷) 等，亦可用于SDB的筛查。  

OSA主要临床表现为睡眠中打鼾伴呼吸暂停和日间思睡。由于卒中部位累及脑干腹侧呼吸相关神经元时可引起运动神经支配咽喉肌功能异常等因素，导致卒中后OSA发生或既往OSA加重，积极对OSA的干预可促进卒中恢复，降低卒中复发风险。尽管《2018年美国卒中早期管理指南》不建议对卒中患者在早期 (2周内) 进行OSA的常规筛查和评估，但考虑到OSA引起的缺氧所导致的一系列损害对急性卒中患者的危害，对于伴OSA高危因素的患者，本共识仍建议在有条件的中心开展筛查和/或PSG的监测，并给予相应治疗。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关失眠'})
SET 
    n.description = coalesce(n.description, '卒中后出现的失眠症状'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '卒中相关睡眠呼吸障碍'})
SET 
    n.description = coalesce(n.description, '卒中后出现的睡眠呼吸问题'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '睡眠中出现的呼吸阻断现象'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Disease {name: '混合性睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '综合性睡眠呼吸暂停症状'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Disease {name: '中央性睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '大脑控制呼吸的功能障碍导致的睡眠呼吸问题'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '困倦'})
SET 
    n.description = coalesce(n.description, '长期感觉疲倦'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '非恢复性睡眠'})
SET 
    n.description = coalesce(n.description, '睡眠质量差，醒后感到没有恢复'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '乏力'})
SET 
    n.description = coalesce(n.description, '缺乏能量和精力'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '入睡困难或保持睡眠困难'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '打鼾'})
SET 
    n.description = coalesce(n.description, '睡眠中发出声响'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '呼吸中断'})
SET 
    n.description = coalesce(n.description, '睡眠中短暂停止呼吸'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Treatment {name: '睡眠卫生教育及认知行为疗法'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过教育和行为调整改善睡眠'),
    n.duration = coalesce(n.duration, '持续'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '针灸治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '针灸改善失眠症状'),
    n.duration = coalesce(n.duration, '持续'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '非苯二氮草类药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善失眠的药物'),
    n.dosage = coalesce(n.dosage, '依医生建议'),
    n.duration = coalesce(n.duration, '依患者情况'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Treatment {name: '中成药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '中药改善失眠及降低神经功能损害'),
    n.dosage = coalesce(n.dosage, '依医生建议'),
    n.duration = coalesce(n.duration, '视患者情况而定'),
    n.contraindication = coalesce(n.contraindication, '无');

MERGE (n:Complication {name: '神经功能损害'})
SET 
    n.description = coalesce(n.description, '卒中导致的神经系统功能障碍'),
    n.severity = coalesce(n.severity, '严重');

MERGE (n:Complication {name: '卒中复发'})
SET 
    n.description = coalesce(n.description, '卒中疾病重复发生'),
    n.severity = coalesce(n.severity, '严重');

// 关系更新
MATCH (from) WHERE from.name = '困倦'
MATCH (to) WHERE to.name = '卒中相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '非恢复性睡眠'
MATCH (to) WHERE to.name = '卒中相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '乏力'
MATCH (to) WHERE to.name = '卒中相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '卒中相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '打鼾'
MATCH (to) WHERE to.name = '卒中相关睡眠呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '呼吸中断'
MATCH (to) WHERE to.name = '卒中相关睡眠呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.95),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '睡眠卫生教育及认知行为疗法'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.88),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '针灸治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '非苯二氮草类药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.9),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '卒中相关失眠'
MATCH (to) WHERE to.name = '中成药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.87),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '卒中相关睡眠呼吸障碍'
MATCH (to) WHERE to.name = '神经功能损害'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.65),
    r.timeframe = coalesce(r.timeframe, '长期');

MATCH (from) WHERE from.name = '卒中相关睡眠呼吸障碍'
MATCH (to) WHERE to.name = '卒中复发'
MERGE (from)-[r:MAY_CAUSE]->(to)
SET 
    r.probability = coalesce(r.probability, 0.7),
    r.timeframe = coalesce(r.timeframe, '长期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:35"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/026-推荐意见.md
[文本块]
# 推荐意见  

1. 非药物治疗: 纠正不良睡眠行为, 调整作息时间 (II, C-EO)。  

2. 药物治疗: 褪黑素及受体激动剂疗效尚不确切 (IIb, C-LD)。  

执笔: 于逢春 (北京大学第三医院海淀院区); 张晨 (北京大学第三医院海淀院区)  

主审专家成员: 毕齐 (首都医科大学附属北京安贞医院); 陈贵海 (安徽医科大学附属巢湖医院); 刘春风 (苏州医科大学附属第二医院); 王春雪 (首都医科大学附属北京天坛医院); 王玉平 (首都医科大学宣武医院); 赵忠新 (海军军医大学长征医院)  

专家委员会成员: 毕齐 (首都医科大学附属北京安贞医院); 陈贵海 (安徽医科大学附属巢湖医院); 邓丽影 (南昌大学第二附属医院); 樊东升 (北京大学第三医院); 高和 (空军总医院); 顾平 (河北医科大学第一医院); 龚涛 (北京医院); 韩芳 (北京大学人民医院); 李小刚 (北京大学第三医院); 李震中 (河北医科大学第二医院); 刘春风 (苏州医科大学附属第二医院); 王春雪 (首都医科大学附属北京天坛医院); 王佳伟 (首都医科大学附属北京同仁医院); 王伊龙 (首都医科大学附属北京天坛医院); 王玉平 (首都医科大学宣武医院); 王赞 (吉林大学第一医院); 薛蓉 (天津医科大学总医院); 于逢春 (北京大学第三医院海淀院区); 赵忠新 (海军军医大学长征医院); 詹淑琴 (首都医科大学宣武医院); 张在强 (首都医科大学附属北京天坛医院); 张晨 (北京大学第三医院海淀院区)  

利益冲突: 所有作者均声明不存在利益冲突  

"""
response = """
// 节点更新
MERGE (n:Treatment {name: '非药物治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '纠正不良睡眠行为, 调整作息时间');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '褪黑素及受体激动剂疗效尚不确切');

MERGE (n:Disease {name: '卒中相关睡眠障碍'});

// 关系更新
MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '非药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 'null'),
    r.priority = coalesce(r.priority, '适中'),
    r.stage = coalesce(r.stage, '初期');

MATCH (from) WHERE from.name = '卒中相关睡眠障碍'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 'null'),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '初期');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:38"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/024-推荐意见.md
[文本块]
# 推荐意见  

1. 非药物治疗: 控制肥胖、吸烟、饮酒等 (IIb, B-NR)。  

2. 遵循指南治疗高血压、糖尿病和高脂血症 (IIb)。  

3. 依据国际RLS治疗指南推荐的药物治疗卒中相关RLS, 需要权衡获益与风险 (IIb, C-EO)。  

## 卒中相关昼夜节律失调性睡眠-觉醒障碍 (CRSWDs)  

### 评估  

卒中相关CRSWDs诊断应同时符合卒中及CRSWDs的诊断标准。  

根据ICSD-3诊断标准，CRSWDs总体诊断必须满足以下第1~3项：  

1. 睡眠-觉醒节律失调长期或反复发作，主要由于内源性昼夜节律定时系统改变，或者由于个人内源性昼夜节律与期待或需求的生理环境或社会/工作作息时间之间不匹配所导致。  

2. 昼夜节律失调导致一系列失眠或嗜睡，或两者兼有。  

3. 睡眠-觉醒节律失调导致有临床意义的痛苦或心理、生理、职业、教育等社会功能的损害。  

CRSWDs主要包括如下类型：  
- 睡眠-觉醒时相滞后障碍  
- 睡眠-觉醒时相超前障碍  
- 不规则睡眠-觉醒节律障碍  
- 非$24\\,\\mathrm{h}$睡眠-觉醒节律障碍  
- 非特异性昼夜节律性睡眠-觉醒障碍  
- 轮班工作睡眠障碍  
- 时区改变睡眠障碍  

CRSWDs发病机制尚不清楚。发生在纹状体、丘脑、中脑和脑桥的卒中患者易发生CRSWDs, 可能同时伴有失眠，出现睡眠-觉醒节律颠倒现象。除卒中损伤之外，多种因素可促使其发生，包括环境因素（如噪音、灯光、医疗操作）、合并症（心力衰竭、睡眠呼吸障碍、癫痫、感染和发热等）、某些药物影响睡眠、心理因素（焦虑、抑郁、精神压力）等。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '卒中相关昼夜节律失调性睡眠-觉醒障碍'})
SET 
    n.short_name = coalesce(n.short_name, 'CRSWDs');

MERGE (n:Disease {name: '高血压'});

MERGE (n:Disease {name: '糖尿病'});

MERGE (n:Disease {name: '高脂血症'});

MERGE (n:Disease {name: '失眠'});

MERGE (n:Disease {name: '睡眠呼吸障碍'});

MERGE (n:Disease {name: '癫痫'});

MERGE (n:Disease {name: '心力衰竭'});

MERGE (n:Disease {name: '感染'});

MERGE (n:Disease {name: '发热'});

MERGE (n:Treatment {name: '控制肥胖'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '控制体重以改善睡眠质量');

MERGE (n:Treatment {name: '遵循指南治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '根据临床指南治疗相关疾病');

MERGE (n:Treatment {name: '国际RLS治疗指南推荐药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '针对卒中相关RLS的药物治疗');

// 关系更新
MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '高血压'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, 'IIb'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '糖尿病'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, 'IIb'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '高脂血症'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, 'IIb'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '反复发作'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '睡眠呼吸障碍'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '可能伴有'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '癫痫'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '可能伴有'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '心力衰竭'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '可能伴有'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '感染'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '可能伴有'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '发热'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.5),
    r.frequency = coalesce(r.frequency, '可能伴有'),
    r.severity = coalesce(r.severity, '临床意义的痛苦');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '控制肥胖'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, 'IIb'),
    r.stage = coalesce(r.stage, '初始治疗');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '遵循指南治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, 'IIb'),
    r.stage = coalesce(r.stage, '推荐治疗');

MATCH (from) WHERE from.name = '卒中相关昼夜节律失调性睡眠-觉醒障碍'
MATCH (to) WHERE to.name = '国际RLS治疗指南推荐药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, 'IIb'),
    r.stage = coalesce(r.stage, '推荐治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:56:45"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
卒中相关睡眠障碍评估与管理中国专家共识.md
[隶属文件分块名]
卒中相关睡眠障碍评估与管理中国专家共识/028-本刊对来稿中统计学处理的有关要求.md
[文本块]
# 本刊对来稿中统计学处理的有关要求

1. 统计研究设计: 
   - 应交代统计研究设计的名称和主要做法。 
   - 调查设计: 前瞻性、回顾性、横断面调查研究。 
   - 实验设计: 自身配对设计、成组设计、交叉设计、析因设计、正交设计等。 
   - 临床试验设计: 属于第几期临床试验, 采用何种盲法措施等。 
   - 主要做法应围绕4个基本原则（随机、对照、重复、均衡）概要说明，尤其要交代如何控制重要非试验因素的干扰和影响。

2. 资料的表达与描述: 
   - 近似服从正态分布的定量资料: 表达为 $\\bar{x}\\pm s$。 
   - 偏态分布的定量资料: 表达为 $M(P_{_{25}},P_{_{75}})$。 
   - 用统计表时: 合理安排纵横标目，并将数据的含义表达清楚。 
   - 用统计图时: 统计图的类型应与资料性质相匹配，数轴上刻度值的标法符合数学原则。 
   - 用相对数时: 分母不宜小于20，区分百分率与百分比。

3. 统计学分析方法的选择:
   - 定量资料: 根据设计类型、资料条件和分析目的，选用合适的统计学分析方法，不盲目套用 $t$ 检验和单因素方差分析。
   - 定性资料: 根据设计类型、定性变量性质和频数条件，选用合适的统计学分析方法，不盲目套用 $\\chi^{2}$ 检验。
   - 回归分析: 结合专业知识和散布图，选用合适的回归类型，不盲目套用简单直线回归。对有重复实验数据的回归分析，避免简单化处理。
   - 多因素、多指标资料: 在一元分析基础上，尽可能运用多元统计学分析方法，全面、合理地解释和评价因素之间的交互作用和多指标之间的内在联系。

4. 统计结果的解释和表达:
   - 当 $P{<}0.05$ (或 $P{<}0.01$ )时，说明对比组之间的差异有统计学意义，而不是说具有显著性（或非常显著性）的差别。
   - 应写明所用统计学分析方法的具体名称（如: 成组设计资料的t检验、两因素析因设计资料的方差分析、多个均数之间两两比较的 $q$ 检验等），统计量的具体值（如 $t$ 值, $\\chi^{2}$ 值, $F$ 值等）尽可能给出具体的 $P$ 值。
   - 涉及总体参数（如总体均数、总体率等）时，给出显著性检验结果的同时，再给出 $95\\%$ 可信区间。

"""
response = """
// 节点更新
"""
