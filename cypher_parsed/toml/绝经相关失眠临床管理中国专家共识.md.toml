[metadata]
file_name = "绝经相关失眠临床管理中国专家共识.md"
processed_at = "2024-12-12 01:28:33"
total_pairs = 18

[[message_pairs]]
timestamp = "2024-12-12 01:26:35"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/004-2-绝经相关失眠的发生机制.md
[文本块]
# 绝经相关失眠的发生机制

睡眠是一个复杂的生理过程。失眠的发生涉及多个层面，包括个体行为、社会环境以及器官、细胞、分子等，多个因素共同作用。绝经相关失眠是在易感因素作用的基础上，受到促发因素作用时发生，并在维持因素作用下持续存在。  

常见的易感因素：  
- 既往存在失眠或抑郁  
- 性格追求完美  
- 焦虑倾向  
- 激素水平改变  
- 失眠家族史  

促发因素：  
- 年龄增长  
- 工作生活压力增大  
- 发生应激事件（如丧亲等）  
- 健康状况差  
- 疼痛  
- 轮值夜班  
- 血管舒缩症状  

维持因素：  
- 错误的睡眠认知和睡眠卫生习惯  
- 负面情绪  
- 血管舒缩症状  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '绝经期间常见的失眠问题'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '一种常见的睡眠障碍'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '抑郁'})
SET 
    n.description = coalesce(n.description, '一种情绪障碍，可能导致失眠'),
    n.category = coalesce(n.category, '精神疾病');

MERGE (n:Disease {name: '焦虑'})
SET 
    n.description = coalesce(n.description, '情绪障碍，常与失眠相关'),
    n.category = coalesce(n.category, '精神疾病');

MERGE (n:Disease {name: '血管舒缩症状'})
SET 
    n.description = coalesce(n.description, '身体对环境温度变化的反应，有时会影响睡眠'),
    n.category = coalesce(n.category, '生理症状');

MERGE (n:Symptom {name: '失眠家族史'})
SET 
    n.description = coalesce(n.description, '有家族成员患有失眠症状'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '激素水平改变'})
SET 
    n.description = coalesce(n.description, '由于绝经导致的激素变化'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '工作生活压力增大'})
SET 
    n.description = coalesce(n.description, '生活及工作的压力影响睡眠质量'),
    n.severity = coalesce(n.severity, '高');

MERGE (n:Symptom {name: '疼痛'})
SET 
    n.description = coalesce(n.description, '身体不适，可能导致失眠'),
    n.severity = coalesce(n.severity, '高');

MERGE (n:Symptom {name: '负面情绪'})
SET 
    n.description = coalesce(n.description, '情绪低落，影响睡眠'),
    n.severity = coalesce(n.severity, '高');

MERGE (n:RiskFactor {name: '既往存在失眠或抑郁'})
SET 
    n.description = coalesce(n.description, '历史上有失眠或抑郁的病史'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '性格追求完美'})
SET 
    n.description = coalesce(n.description, '个体性格特征，增加失眠风险'),
    n.impact_level = coalesce(n.impact_level, '中');

MERGE (n:RiskFactor {name: '焦虑倾向'})
SET 
    n.description = coalesce(n.description, '个体存在焦虑情绪，影响睡眠'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '年龄增长'})
SET 
    n.description = coalesce(n.description, '年龄增长可能导致生理和心理上的变化，影响睡眠'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '发生应激事件'})
SET 
    n.description = coalesce(n.description, '经历重大生活变化或压力事件'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '健康状况差'})
SET 
    n.description = coalesce(n.description, '整体健康状况不佳可能导致失眠'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '轮值夜班'})
SET 
    n.description = coalesce(n.description, '工作时间不规律影响生物钟'),
    n.impact_level = coalesce(n.impact_level, '高');

MERGE (n:RiskFactor {name: '错误的睡眠认知和睡眠卫生习惯'})
SET 
    n.description = coalesce(n.description, '不良的认知和习惯导致失眠'),
    n.impact_level = coalesce(n.impact_level, '高');

// 关系更新
MATCH (from) WHERE from.name = '失眠家族史'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '激素水平改变'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '工作生活压力增大'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '疼痛'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '高');

MATCH (from) WHERE from.name = '负面情绪'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.75),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '既往存在失眠或抑郁'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '性格追求完美'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '中'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '焦虑倾向'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '年龄增长'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '强');

MATCH (from) WHERE from.name = '发生应激事件'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '健康状况差'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '轮值夜班'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

MATCH (from) WHERE from.name = '错误的睡眠认知和睡眠卫生习惯'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INFLUENCED_BY]->(to)
SET 
    r.impact_level = coalesce(r.impact_level, '高'),
    r.evidence_level = coalesce(r.evidence_level, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:26:36"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/015-信息速递.md
[文本块]
# ·信息速递·  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:26:37"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/014-绝经相关失眠管理中国专家共识编写组名单.md
[文本块]
# 绝经相关失眠管理中国专家共识编写组名单

## 组长
- 白文佩

## 副组长
- 孙爱军
- 孙伟

## 执笔人
- 白文佩
- 陈玲

## 秘书
- 陈玲

## 成员（按姓名拼音排序）
- 白文佩 (首都医科大学附属北京世纪坛医院)
- 白云 (山西省妇幼保健院)
- 陈玲 (首都医科大学附属北京世纪坛医院)
- 陈雁容 (首都医科大学附属北京世纪坛医院)
- 冯晓玲 (黑龙江中医药大学附属第一医院)
- 顾蓓 (首都医科大学附属北京世纪坛医院)
- 何耀娟 (广州市妇女儿童医疗中心)
- 栗芳 (首都医科大学附属北京佑安医院)
- 梁开如 (四川省妇幼保健院)
- 刘青 (甘肃省妇幼保健院)
- 刘献增 (北京大学临床研究所)
- 马小娜 (北京中医药大学附属第三医院)
- 马晓欣 (中国医科大学盛京医院)
- 穆玉兰 (山东省立医院)
- 秦丽华 (北京大学医学部)
- 阮祥燕 (首都医科大学附属北京妇产医院)
- 孙爱军 (中国医学科学院北京协和医院)
- 宋清坤 (首都医科大学附属北京佑安医院)
- 孙伟 (北京大学第六医院)
- 陶敏芳 (上海市第六人民医院)
- 吴洁 (江苏省人民医院)
- 王小雪 (首都医科大学附属北京世纪坛医院)
- 王子君 (首都医科大学附属北京世纪坛医院)
- 许良智 (四川大学华西第二医院)
- 谢梅青 (中山大学孙逸仙纪念医院)
- 杨彩虹 (宁夏医科大学总医院)
- 杨欣 (北京大学人民医院)
- 周剑 (湖南省第二人民医院)
- 郑睿敏 (中国疾病预防控制中心)
- 张治芬 (杭州市妇产科医院)
- 赵振海 (北京中医药大学东直门医院)

## 利益冲突声明
参与本指南撰写的所有成员不存在利益冲突。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:26:39"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/005-3-绝经相关失眠对女性的影响.md
[文本块]
# 绝经相关失眠对女性的影响

绝经相关失眠与女性内分泌系统密切相关，绝经和失眠存在独立的相关性。雌激素和孕激素能够调节和稳定昼夜节律系统，在绝经前后雌激素水平下降，下丘脑对雌激素的敏感性降低，导致昼夜节律紊乱，诱发失眠。雌二醇(E2)水平下降与入睡困难、夜间频繁觉醒显著相关；卵泡刺激素(FSH)水平增加与夜间频繁觉醒显著相关。此外，由于生殖激素水平改变导致的血管舒缩症状（潮热、出汗等）和神经精神症状（焦虑、抑郁等）也会诱发失眠，且这些症状越严重，女性越可能失眠。

绝经相关失眠改变正常的睡眠节律，对女性生理和心理造成严重影响。短期失眠会引起注意力下降、记忆力减退。长期失眠不仅会增加肥胖、高血压、2型糖尿病、恶性肿瘤、冠心病、脑卒中和认知功能障碍的患病风险，还会导致人体自主神经功能紊乱、内分泌失调、骨密度降低、骨质疏松和骨折风险增加；更会导致或加重原有抑郁症、焦虑症、精神分裂症等精神性疾病的发生和发展。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '绝经期间女性常见的失眠问题'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Symptom {name: '入睡困难'})
SET 
    n.description = coalesce(n.description, '难以入睡的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '夜间频繁觉醒'})
SET 
    n.description = coalesce(n.description, '夜间多次醒来的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '焦虑'})
SET 
    n.description = coalesce(n.description, '感到紧张不安的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '抑郁'})
SET 
    n.description = coalesce(n.description, '情绪低落的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '潮热'})
SET 
    n.description = coalesce(n.description, '感觉冷热波动的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '出汗'})
SET 
    n.description = coalesce(n.description, '汗水分泌异常的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '入睡困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '夜间频繁觉醒'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '焦虑'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '中等'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '抑郁'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.7),
    r.frequency = coalesce(r.frequency, '中等'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '潮热'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '出汗'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.6),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:26:47"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/016-本刊临床指南-共识制订及应用研究栏目征稿.md
[文本块]
本刊“临床指南/ 共识制订及应用研究”栏目征稿  

临床指南/ 共识是权威专家、学者、机构等基于现有证据的全面、客观评估后, 针对临床诊疗所给出的最佳推荐意见。合理应用临床指南/ 共识在指导医疗实践、改良卫生政策、给予患者更为有效的治疗措施等方面发挥着巨大作用。《中国全科医学》杂志为临床指南/ 共识制订及应用的研究类文章提供快速发表通道(绿色通道), 旨在为广大科研工作者提供高水准国际学术交流平台。快速发表周期: ≤1 个月(投稿至网络首发), 专人负责, 不收取审稿费用。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:26:57"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/017-一稿件要求.md
[文本块]
# 一、稿件要求  

1. 稿件字数超过 5000 字。  

2. 指南共识制定需核实、提供的信息详见中国全科医学杂志社官网。  

3. 指南共识应应用研究类文章，对选指南/共识的意义、应用范围、优缺点进行全面评价，比较旧有指南的优缺点，介绍新指南的创新性或优势，依据研究结果和所掌握的信息评论科研成果与技术成就，指出其国内外学科水平和指导价值及存在的问题，提出观点、意见或建议。  

4. 要求具备中英文摘要，指南/共识摘要无结构要求，但需包含背景、指南制定目标、过程或说明、适用人群及指南的意义等。

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:01"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/001-开始.md
[文本块]
本期执行主编: 白白文文佩佩  
职务: 首都医科大学附属北京世纪坛医院领军人才、妇产科主任、教授、博士研究生导师  
研究方向: 妇科内分泌基础与临床研究  

负责人职位: 国家更年期保健特色专科负责人  
人才项目: 北京市“登峰”人才  
专业培育项目: 北京市“扬帆计划”重点培育专业负责人  
其他职务: 
- 首都医科大学妇产科学系副主任  
- 首都医科大学“宫腔粘连诊疗和研究”中心副主任  
- 北京大学全科医学硕士研究生导师  
- 中华医学会生殖医学分会委员  
- 中华医学会科普分会委员  
- 中华预防医学会妇女保健分会委员  
- 北京中西医结合学会更年期专业委员会主任委员  
- 国家健康科普专家库首批成员  
- 国家卫生健康委员会专家组成员  

项目资助: 
- 多项国家自然科学基金项目  
- 北京市自然科学基金项目  
- 首都医学发展基金项目  
- 首都特色临床与应用项目  

学术贡献: 
- 作为第一作者或通信作者在国内外学术期刊发表论文二百余篇  
- 牵头制订多部中国专家共识  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:06"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/018-二投稿指南.md
[文本块]
# 投稿指南  

1. 杂志官网: 绿色通道投稿。  
2. 文题注明“临床指南/共识制订及应用”，格式如: 临床指南/共识制订及应用 $^+$ 文题。  
3. 其他参考本刊投稿指南:  
   - 咨询邮箱: zgqkyx@chinagp.net.cn  

"""
response = """
// 节点更新
"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:07"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/006-4-绝经相关失眠的临床筛查与诊断.md
[文本块]
# 绝经相关失眠的临床筛查与诊断  

## 1. 临床筛查  
包括病史采集、主观测评、客观检查。

## 2. 病史采集  
- **关键环节**：详实的病例资料帮助诊断。  
- **注意事项**：沟通态度与技巧，考虑患者受教育程度和理解能力，引导患者陈述事实。  
- **(围)绝经期病史**：  
  1. 近1年月经情况及其他症状。  
  2. 是否行性激素治疗。  
  3. 其他慢性病史。  
- **失眠病史**：  
  1. 近1个月作息时间、睡眠状况及失眠表现。  
  2. 失眠开始时间与(围)绝经期症状及月经出血模式关系。  
  3. 是否合并其他睡眠障碍，如阻塞性睡眠呼吸暂停、不宁腿综合征。  
  4. 焦虑症、抑郁症等共患疾病。  
  5. 神经活性药物使用及物质依赖。  

## 3. 主观测评  
- **自评量表**：  
  - (围)绝经期症状评估量表：改良Kupperman评分、Greene量表。  
  - 睡眠评估量表：匹兹堡睡眠质量指数(PSQI)、失眠严重程度指数(ISI)、阿森斯失眠量表(AIS)、Epworth嗜睡量表(ESS)。  
- **评估方式**：选择1+1或1+2进行评估。  

## 4. 客观检查  
- **睡眠评估**：  
  1. PSG：实时监测心电图、脑电图、肌肉活动、眼球活动、通气功能，评估睡眠结构，辅助诊断失眠。  
  2. 腕部体动仪：评估睡眠状态及时间，估计总睡眠时间和觉醒，但不推荐替代PSG。  
- **(围)绝经期全项评估**：生殖激素六项、盆腔彩超、乳腺彩超、薄层液基细胞学检查(TCT) + 人乳头瘤病毒(HPV)检测、生化全项、甲状腺功能五项、骨密度、心电图。  

## 5. 诊断  
结合病史采集、量表评估和实验室检查结果，依据美国睡眠医学会第三版国际睡眠障碍分类进行绝经相关失眠的诊断。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '绝经期间由于生理及心理因素导致的失眠现象'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '阻塞性睡眠呼吸暂停'})
SET 
    n.description = coalesce(n.description, '夜间呼吸反复暂停或呼吸不畅'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '不宁腿综合征'})
SET 
    n.description = coalesce(n.description, '患者在静止时出现下肢不适，自觉需要移动'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Disease {name: '焦虑症'})
SET 
    n.description = coalesce(n.description, '一种常见的心理障碍，表现为过度的焦虑和担忧'),
    n.category = coalesce(n.category, '心理障碍');

MERGE (n:Disease {name: '抑郁症'})
SET 
    n.description = coalesce(n.description, '一种常见的情绪障碍，表现为持续的悲伤和兴趣减退'),
    n.category = coalesce(n.category, '心理障碍');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '睡眠质量差，难以入睡或维持睡眠'),
    n.severity = coalesce(n.severity, '严重'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '焦虑'})
SET 
    n.description = coalesce(n.description, '情绪紧张、担忧'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

MERGE (n:Symptom {name: '抑郁'})
SET 
    n.description = coalesce(n.description, '情绪低落，兴趣减退'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '偶尔');

// 关系更新
MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '严重');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '阻塞性睡眠呼吸暂停'
MERGE (from)-[r:REQUIRES_EXAM]->(to)
SET 
    r.priority = coalesce(r.priority, '高'),
    r.mandatory = coalesce(r.mandatory, 'true');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '焦虑症'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '抑郁症'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '焦虑'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '抑郁'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.8),
    r.frequency = coalesce(r.frequency, '偶尔'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:11"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/007-4-绝经相关失眠的临床筛查与诊断.md
[文本块]
绝经相关失眠的临床筛查与诊断  

1. 患者报告:  
   A. 入睡困难  
   B. 难以维持睡眠  
   C. 早醒  
   D. 不肯上床  
   E. 难以入睡  

2. 患者报告相关症状:  
   A. 疲劳或萎靡不振  
   B. 注意力、专注力或记忆力下降  
   C. 社交、家庭、职业或学业受损  
   D. 情绪紊乱或易激惹  
   E. 日间瞌睡  
   F. 行为问题（如活动过度、冲动、攻击性）  
   G. 动力/精力/工作主动性降低  
   H. 容易出错  
   I. 对睡眠的质量非常关切或不满意  

3. 报告的睡眠/唤醒主诉不能仅以不合适的睡眠机会或睡眠环境来解释。  

4. 睡眠障碍和相关的日间症状每周至少出现3次。  

5. 睡眠障碍和相关的日间症状已存在至少3个月。  

6. 睡眠/觉醒困难不能用另一种睡眠障碍来更好地解释。  

注: ICSD-3 失眠诊断标准为以上条款均需满足。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '与绝经相关的失眠症状和临床管理'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '中度');

MERGE (n:Symptom {name: '入睡困难'})
SET 
    n.description = coalesce(n.description, '入睡的难度'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '维持睡眠困难'})
SET 
    n.description = coalesce(n.description, '保持睡眠状态的难度'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '早醒'})
SET 
    n.description = coalesce(n.description, '比预期时间早醒'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '不肯上床'})
SET 
    n.description = coalesce(n.description, '对于上床睡觉的抵触'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '疲劳或萎靡不振'})
SET 
    n.description = coalesce(n.description, '日间疲劳感或无精打采'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '注意力、专注力或记忆力下降'})
SET 
    n.description = coalesce(n.description, '认知功能下降'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '社交、家庭、职业或学业受损'})
SET 
    n.description = coalesce(n.description, '生活质量下降'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '情绪紊乱或易激惹'})
SET 
    n.description = coalesce(n.description, '情绪的不稳定性'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '日间瞌睡'})
SET 
    n.description = coalesce(n.description, '白天睡意朦胧'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '行为问题'})
SET 
    n.description = coalesce(n.description, '包括活动过度、冲动、攻击性'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '动力/精力/工作主动性降低'})
SET 
    n.description = coalesce(n.description, '缺乏动力的表现'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '容易出错'})
SET 
    n.description = coalesce(n.description, '在日常活动中犯错误的频率增加'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

MERGE (n:Symptom {name: '对睡眠的质量非常关切或不满意'})
SET 
    n.description = coalesce(n.description, '患者对睡眠质量的关注'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '每周至少3次');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '入睡困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '维持睡眠困难'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '早醒'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '不肯上床'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '疲劳或萎靡不振'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '注意力、专注力或记忆力下降'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '社交、家庭、职业或学业受损'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '情绪紊乱或易激惹'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '日间瞌睡'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '行为问题'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '动力/精力/工作主动性降低'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '容易出错'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '对睡眠的质量非常关切或不满意'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '每周至少3次'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:16"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/003-1-绝经相关失眠的流行病学.md
[文本块]
# 1 绝经相关失眠的流行病学  

失眠是最常见的睡眠障碍，成人失眠发生率为10%至15%。40岁以上女性睡眠障碍发生率是年轻女性的4倍左右。在(围)绝经期女性群体中，失眠的发生率显著增加，为13.2%至65.1%。多导睡眠监测(PSG)结果显示总睡眠时间减少、快速眼动睡眠异常、睡眠潜伏期延长、睡眠效率下降，表现为入睡时间延长、夜间频繁觉醒、醒来时间长、睡眠维持困难。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '失眠'})
SET 
    n.description = coalesce(n.description, '最常见的睡眠障碍');

MERGE (n:Disease {name: '围绝经期失眠'})
SET 
    n.description = coalesce(n.description, '绝经期女性群体中，失眠的发生率显著增加');

// 关系更新
MATCH (from) WHERE from.name = '围绝经期失眠'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 1.0),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '中等');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:22"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/008-5-绝经相关失眠管理.md
[文本块]
5 绝经相关失眠管理  

5.1 成立多学科专家团队  
绝经相关失眠女性常没有意识到绝经与失眠的相关性，往返就诊于医院多个科室，增加了时间、人力、物力、财力的消耗。应当成立包括妇科、睡眠医学科、精神科、内分泌科、心内科医师及护士、药师、心理治疗师、运动康复师、营养师在内的多学科专家团队，对可疑绝经相关失眠的患者，首诊即进行绝经相关失眠的系统评估，排除心理、甲状腺功能障碍等问题引起的失眠后通过多学科团队内的转诊体系转至妇科内分泌门诊，由妇科医师行进一步的评估和诊疗，制定个体化的治疗方案，最大限度保证方案的可行性、治疗的有效性和患者的依从性。绝经相关失眠管理流程见图3。  

注: $\\mathrm{{PSQI}\\!=}$ 匹兹堡睡眠质量指数, $\\mathrm{ISI}{=}$ 失眠严重程度指数, AIS= 阿森斯失眠量表, ESS=Epworth 嗜睡量表, $\\mathrm{TCT}{=}$ 薄层液基细胞学检查, $\\mathrm{HPV}{=}$ 人乳头瘤病毒, ICSD- $\\cdot3\\mathrm{=}$ 第三版国际睡眠障碍分类。  

图3 绝经相关失眠管理流程图

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '绝经期女性常见的失眠问题'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Treatment {name: '个体化治疗方案'})
SET 
    n.description = coalesce(n.description, '针对绝经相关失眠患者制定的个性化治疗计划'),
    n.type = coalesce(n.type, '非药物');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '在夜间无法入睡或维持睡眠的状态'),
    n.frequency = coalesce(n.frequency, '频繁'),
    n.severity = coalesce(n.severity, '中');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '个体化治疗方案'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '治疗阶段');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:26"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/002-绝经相关失眠临床管理中国专家共识.md
[文本块]
# 绝经相关失眠临床管理中国专家共识  

## 组织单位  
- 中华预防医学会更年期保健分会  
- 中国人体健康科技促进会妇科内分泌和生育力促进专委会  
- 北京中西医结合学会更年期专业委员会  

## 摘要  
- 绝经相关失眠是(围)绝经期女性常见症状。  
- 潜在影响女性健康和生活质量。  
- 缺乏国内共识和指南。  
- 目标：规范绝经相关失眠管理，提高睡眠健康管理水平。  
- 管理内容包括：成立多学科专家团队、药物管理和非药物管理。  

## 关键词  
- 围绝经期  
- 绝经期  
- 失眠  
- 药物治疗  
- 非药物治疗  
- 共识  

## 文献引用  
- 中华预防医学会更年期保健分会等, 绝经相关失眠临床管理中国专家共识[J]. 中国全科医学, 2023, 26(24): 2951-2958. DOI:10.12114/j.issn.1007-9572.2023.0192.  
- Climacteric Health Care Branch of Chinese Preventive Medicine Association等, Chinese expert consensus on clinical management of menopause-related insomnia[J]. Chinese General Practice, 2023, 26(24): 2951-2958.  

## 通讯作者  
- BAI Wenpei, Chief physician/Professor  
- E-mail: baiwp@bjsjth.cn  

## Abstract  
- Menopause-related insomnia is common in perimenopausal women and can affect long-term health.  
- Lack of consensus and guidelines in China.  
- Aim to standardize management and improve sleep health.  
- Management includes establishing a multidisciplinary team and pharmacological/nonpharmacological approaches.  

## Key words  
- Perimenopause  
- Menopause  
- Insomnia  
- Pharmacotherapy  
- Non-pharmacotherapy  
- Consensus  

## 失眠定义  
- 失眠症为持续睡眠障碍，伴有日间功能受损。  
- 绝经相关失眠为与绝经相关的失眠，需及时干预。  
- 忽视可能演变为慢性失眠，影响健康。  
- 相关专家根据多项机构指南与文献制定本共识，目的在于改善管理。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'});

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '持续睡眠障碍，伴有日间功能受损'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '持续');

MERGE (n:Treatment {name: '药物治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用药物进行失眠的治疗');

MERGE (n:Treatment {name: '非药物治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '采取非药物手段进行失眠的管理');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '高'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初级治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '非药物治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '辅助治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:37"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/009-52-综合管理.md
[文本块]
# 5.2 综合管理  

## 5.2.1 药物管理  
药物治疗失眠的短期疗效佳，但纠正失眠的主要方法是行为调整和心理调节，不宜长期依赖药物治疗。药物管理的总目标为患者能够知晓其所使用药物的作用、使用方法和途径，遵医嘱按时按量用药，不错服、漏服，定期监测相关实验室指标；学会自行观察常见的药物不良反应，做自我健康的第一责任人；按时复诊，根据用药效果动态调整药物用量，以最低的有效剂量达到最大的治疗效果，减少药物相关的不良反应。  

绝经相关失眠女性的药物管理主要涉及围绝经期相关用药、失眠相关用药以及其他合并疾病的用药管理。建立个体化的用药清单，形成个人药物使用档案，记录药物开始使用及停药的时间、不良反应、剂量变化的时间及个体反应。使用激素补充或替代治疗的患者，在开始前评估有无适应证、禁忌证及慎用情况，告知患者使用激素治疗的利弊，告知其按时服药、定期复诊的必要性。经充分沟通和评估后，针对适宜用药的患者，应根据其年龄、绝经年限、是否切除子宫、对药物性出血的期待等选择单用雌激素、单用孕激素、雌孕激素序贯、雌孕激素联合或替勃龙等方案进行治疗，具体请参照《中国绝经管理与绝经激素治疗指南2023 版》。  

各种类型的激素均能改善(围)绝经期女性的慢性失眠症，但不同类型的激素和用法可能影响疗效，例如：雌激素中 $17\\,\\upbeta-$ 雌二醇和共轭雌激素(CEE)能改善睡眠质量，而戊酸雌二醇效果不明显，使用经皮雌激素效果优于口服。微粉化孕酮可改善绝经后女性自我报告的睡眠质量和睡眠周期的各个方面，因为孕酮代谢物是 $\\upgamma-$ 氨基丁酸A 型受体的正构调节剂，能产生与苯二氮卓艹类药物相似的睡眠结构变化。使用经皮 $17\\,\\upbeta-$ 雌二醇联合微粉化孕酮6 个月能够改善绝经相关失眠患者睡眠质量。替勃龙是一种具有雌激素、孕激素和雄激素作用的合成类固醇，通过刺激 $\\upbeta-$ 内啡肽的产生和释放来改善睡眠质量，且由于具有孕激素作用，其改善睡眠的作用较雌激素强。如果性激素治疗失眠改善仍不明显，可以短期内适当加用治疗失眠的药物。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '与绝经相关的失眠症状'),
    n.code = coalesce(n.code, 'N/A'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '中等');

MERGE (n:Treatment {name: '激素治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善(围)绝经期女性的慢性失眠症'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '视情况而定'),
    n.contraindication = coalesce(n.contraindication, '需评估适应证和禁忌证');

MERGE (n:Treatment {name: '雌激素治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用雌激素改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '视情况而定'),
    n.contraindication = coalesce(n.contraindication, '需评估适应证和禁忌证');

MERGE (n:Treatment {name: '孕激素治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '使用孕激素改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '视情况而定'),
    n.contraindication = coalesce(n.contraindication, '需评估适应证和禁忌证');

MERGE (n:Treatment {name: '替勃龙治疗'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '结合雌激素、孕激素和雄激素作用改善睡眠质量'),
    n.dosage = coalesce(n.dosage, '根据医生建议'),
    n.duration = coalesce(n.duration, '视情况而定'),
    n.contraindication = coalesce(n.contraindication, '需评估适应证和禁忌证');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '激素治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '疗程治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '雌激素治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '疗程治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '孕激素治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '疗程治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '替勃龙治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '疗程治疗');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:46"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/010-52-综合管理.md
[文本块]
# 5.2 综合管理（续）

临床常用的治疗失眠的药物包括：
1. **苯二氮卓受体激动剂**
   - 分类：苯二氮卓类药物和非苯二氮卓类药物
   - **苯二氮卓类药物**
     - 根据 $\\mathbf{\\Deltat}_{1/2}$ 分为短效、中效和长效
     - 常用药物：
       - 中效：艾司唑仑( $1{\\sim}2~\\mathrm{mg}/$ 晚)、阿普唑仑( $0.4{\\sim}0.8~\\mathrm{mg}/$ 晚)、劳拉西泮( $0.5{\\sim}1.0\\ \\mathrm{mg}/$ 晚)
       - 长效：地西泮( $5{\\sim}10~\\mathrm{mg/}$ 晚)
     - 功效：增加总睡眠时间，减少夜间觉醒
     - 不良反应：嗜睡、头晕、乏力、遗忘、跌倒等；长期使用可产生依赖性和成瘾性
   - **非苯二氮卓类药物**
     - 常用药物：佐匹克隆( $3.75{\\sim}7.50\\;\\mathrm{mg/}$ 晚)、右佐匹克隆(1\\~3$\\mathrm{mg/}$ 晚)、唑吡坦( $5{\\sim}10~\\mathrm{mg}/$ 晚)、扎来普隆(5\\~10mg/ 晚)
     - 特点：起效快、$\\mathbf{\\Deltat}_{1/2}$ 短；安全性较好，减少日间困倦
     - 不良反应：味觉异常、口干、眩晕等
2. **褪黑素和褪黑素受体激动剂**
   - 常用药物：雷美替胺、阿戈美拉汀
   - 应用尚缺乏共识，作用机制和疗效仍待验证
3. **抗抑郁药物**
   - 常用药物：曲唑酮、米氮平，改善绝经相关失眠症状

针对患者病情严重或反复时，可通过多学科团队转诊至精神心理科或睡眠医学科，并告知相关专科医师患者近期诊疗情况。合并其他慢性疾病的患者应继续原有治疗，并定期到相关专科就诊。

## 5.2.2 非药物管理

### 5.2.2.1 睡眠卫生教育和健康教育
- 发挥多学科团队优势，全面评估绝经相关失眠患者的身心状况，提供疾病知识指导。
- 建议：
  - 室内温度 $22{\\sim}26\\,^{\\circ}\\mathrm{C}$，湿度约 $40\\%$
  - 睡前关灯，不看手机，选择适合的床具
  - 戒烟限酒，睡前 $1{\\sim}2~\\mathrm{h}$ 避免情绪波动
  - 不饮用咖啡、浓茶，避免饱或饥饿入睡
- 睡眠卫生教育是非药物管理的基础，应贯穿治疗全过程。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '由绝经引起的失眠症状'),
    n.category = coalesce(n.category, '失眠'),
    n.severity = coalesce(n.severity, '中度');

MERGE (n:Treatment {name: '苯二氮卓受体激动剂'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于治疗失眠的药物'),
    n.dosage = coalesce(n.dosage, '根据具体药物剂量'),
    n.duration = coalesce(n.duration, '短期使用'),
    n.contraindication = coalesce(n.contraindication, '依赖性和成瘾性');

MERGE (n:Treatment {name: '褪黑素和褪黑素受体激动剂'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '用于调节睡眠节律的药物'),
    n.dosage = coalesce(n.dosage, '根据具体药物剂量'),
    n.duration = coalesce(n.duration, '缺乏共识'),
    n.contraindication = coalesce(n.contraindication, '未知');

MERGE (n:Treatment {name: '抗抑郁药物'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '改善绝经相关失眠症状的药物'),
    n.dosage = coalesce(n.dosage, '根据具体药物剂量'),
    n.duration = coalesce(n.duration, '长期使用'),
    n.contraindication = coalesce(n.contraindication, '未知');

MERGE (n:Symptom {name: '失眠'})
SET 
    n.description = coalesce(n.description, '入睡困难或睡眠质量差'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Symptom {name: '夜间觉醒'})
SET 
    n.description = coalesce(n.description, '夜间多次醒来'),
    n.severity = coalesce(n.severity, '中度'),
    n.frequency = coalesce(n.frequency, '频繁');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '苯二氮卓受体激动剂'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '褪黑素和褪黑素受体激动剂'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '急性');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '抗抑郁药物'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.6),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '慢性');

MATCH (from) WHERE from.name = '失眠'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '中度');

MATCH (from) WHERE from.name = '夜间觉醒'
MATCH (to) WHERE to.name = '绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.85),
    r.frequency = coalesce(r.frequency, '频繁'),
    r.severity = coalesce(r.severity, '中度');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:27:58"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/011-52-综合管理.md
[文本块]
# 5.2 综合管理（续）

## 5.2.2.2 心理疗法
心理疗法由受过专门训练的医护或心理治疗师开展。常用的心理疗法包括：

- 失眠的认知行为治疗 (CBT-I)
- 正念疗法
- 催眠
- 中医心理疗法

**CBT-I** 被多个指南推荐为绝经相关失眠的一线疗法。CBT-I 是一种多模式联合疗法，包括：

- 睡眠卫生教育
- 行为疗法（睡眠限制和刺激控制）
- 放松训练（渐进式肌肉放松）
- 认知疗法（认知重建和矛盾意向法）

具体实施方式可参见《中国成人失眠诊断与治疗指南 (2017 版)》。CBT-I 通常实施 6~8 次，每次 $30{\\sim}50\\mathrm{min}$，形式有一对一咨询、小组咨询和网络自助式。其效果在短期内可见，长期内持久。

**正念疗法** 是一种身心干预措施，旨在通过训练让注意力重回当下，放下对不愉快体验的抗拒。主要的正念疗法包括：

- 正念呼吸
- 正念行走
- 正念观想法
- 正念观情绪
- 躯体扫描
- 正念瑜伽
- 葡萄干练习

治疗周期一般为 8~10 周，频率为每周 1 次，每次 $120\\;\\mathrm{min}$。

**催眠** 是一种集中注意力和减少外围意识的特殊意识状态。催眠主要针对绝经相关失眠和潮热，目标是教育和训练受试者进行自我催眠以减轻潜在症状。完整的催眠程序包括：

1. 解释并建立治疗关系
2. 催眠感受性测试
3. 催眠诱导
4. 实施催眠疗法
5. 催眠唤醒

催眠疗法有治疗师催眠和自我催眠两种形式。自我催眠能够改变患者错误的睡眠认知，缓解潮热和盗汗症状，提高睡眠质量，延长睡眠时间，患者满意度高，接受度较好，是一种前景良好的失眠治疗方式。

**中医心理疗法** 中的低阻抗意念导入疗法（TIP 技术）是现代催眠疗法、精神分析疗法、认知行为疗法与中医传统心理治疗的融合。TIP 技术在治疗慢性失眠方面具有疗效持久、不易复发的优势。

## 5.2.2.3 适当运动
运动在改善失眠的同时也能缓解其他（围）绝经期症状，降低骨质疏松、肥胖的发生率，增加生活幸福感。由于年龄增加、体力下降，(围)绝经期女性对运动的耐受性可能降低，应鼓励女性根据自身兴趣、能力和体力选择适合的运动方式。推荐以有氧运动和抗阻运动为主，从低强度开始，循序渐进。运动应包括热身、运动和放松，每次以身体感到发热、微微出汗为度，注意睡前 2 小时内避免剧烈运动。有条件者可根据运动康复师开具的运动处方进行运动。

## 5.2.2.4 饮食与营养管理
给予患者饮食指导，保持营养均衡，BMI 保持在 $18.5{\\sim}23.9~\\mathrm{kg/m}^{2}$，腰围小于 80 cm。增加蛋白质和含钙物质（如肉类、蛋类、奶类）的摄入；增加含益生菌酸奶的摄入；增加富含维生素的水果和蔬菜类摄入，适量增加西红柿的摄入，以促进褪黑素循环，改善睡眠质量；减少含咖啡因的物质（如茶、咖啡、巧克力和冰激淋）摄入；减少煎炸和含糖类食物；每日少量多次饮水，总量达 $1,500\\;\\mathrm{mL/d}$。

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '与绝经相关的失眠症状'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Treatment {name: '失眠的认知行为治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '一种有效的心理疗法，通常实施6-8次'),
    n.duration = coalesce(n.duration, '6~8次');

MERGE (n:Treatment {name: '正念疗法'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过训练让注意力重回当下，减轻焦虑和压力'),
    n.duration = coalesce(n.duration, '8~10周');

MERGE (n:Treatment {name: '催眠'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '集中注意力和减少外围意识的特殊意识状态，针对绝经相关失眠和潮热');

MERGE (n:Treatment {name: '中医心理疗法'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '融合现代心理疗法与中医传统心理治疗');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '失眠的认知行为治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '初始治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '正念疗法'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '辅助治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '催眠'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '辅助治疗');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '中医心理疗法'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.7),
    r.priority = coalesce(r.priority, '低'),
    r.stage = coalesce(r.stage, '长期管理');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:15"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/012-52-综合管理.md
[文本块]
# 5.2 综合管理（续）

5.2.2.5 中医管理  
中医无失眠病名，认为本病属于“不寐”。不寐在《内经》中称为“不得卧”“目不瞑”，认为是邪气客于脏腑，卫气行于阳，不能入阴所得。  
中医认为绝经相关失眠多由于肝郁、脾虚、肾精亏虚导致脏腑、气血、阴阳失衡。  
女性绝经前后，肾气渐衰，天癸渐绝，冲任亏虚，致使阴阳失衡，脏腑功能失调，心肾不交、心神失养而夜不能寐。  
中医治疗分为辨证论治、中医外治法和其他疗法等。  
辨证论治根据患者证型给予针对性治疗用药，以补虚泻实、调整脏腑阴阳为原则。  
- 实证则泻有余，如疏肝泻火、清热化痰等；  
- 虚证则补不足，如健脾益气、补益肝肾等。  

外治法主要有：  
- 针灸，由临床医师评估后取穴，常用穴位为三阴交、神门、百会、肾俞、太冲、心俞等；  
- 灸法包括艾灸、姜灸、雷火灸等，针刺可配合灸法，虚寒证患者效果更佳；  
- 耳穴压豆，选用王不留行籽或磁珠贴压耳穴，保留72小时，双耳交替贴压。  

可通过按压、推拿和治疗性按摩的方式刺激耳位，疏通经络气血，调和阴阳，得到安神安眠效果。  
其他疗法包括中药足浴、五行音乐疗法、芳香疗法、精油吸入、刮痧、药膳、药枕等，需根据患者实际情况和接受度选择合适方式。  

5.2.2.6 物理疗法  
物理疗法使用物理因子（包括磁、光、电、热等）对患者进行治疗，主要有经颅磁刺激疗法、光照疗法、脑电生物反馈疗法、小脑顶核电刺激、高压氧疗法等。  
目前国内外对失眠物理治疗研究较少，绝经相关失眠物理疗法研究更少，其作用机制和效果需进一步发现与研究。  

5.3 定期随访  
根据个人就诊和用药记录档案，制订随访计划，由专人进行随访登记。  
使用性激素治疗的患者应在初始用药的1、3、6个月进行随访，重点观察用药后睡眠改善情况及不良反应。  
未使用激素类药物的患者需询问睡眠改善情况，如无变化，进一步评估是否更改治疗方案。  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '因绝经期引起的失眠症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.category = coalesce(n.category, '失眠');

MERGE (n:Symptom {name: '夜不能寐'})
SET 
    n.description = coalesce(n.description, '患者无法入睡的症状'),
    n.severity = coalesce(n.severity, '中等'),
    n.frequency = coalesce(n.frequency, '频繁');

MERGE (n:Treatment {name: '中医治疗'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过辨证论治和外治法对失眠进行中医治疗'),
    n.duration = coalesce(n.duration, '根据患者情况调整'),
    n.contraindication = coalesce(n.contraindication, '无特定禁忌');

MERGE (n:Treatment {name: '物理疗法'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '使用物理因子进行治疗'),
    n.duration = coalesce(n.duration, '根据治疗方案'),
    n.contraindication = coalesce(n.contraindication, '无特定禁忌');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '夜不能寐'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中等');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '中医治疗'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.8),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '进行中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '物理疗法'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.6),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '研究中');

"""

[[message_pairs]]
timestamp = "2024-12-12 01:28:22"
message = """

[背景信息]
我现在正在进行睡眠医疗知识图谱的构建工作, 计划使用大语言模型进行实体识别、关系抽取和知识规则构建, 使其输出可供neo4j直接导入.
[命令]
[CYPHER_SCHEMA]部分定义了本项目中我期望的neo4j知识图谱的实体和关系定义, 接下来我将会给你数据集([隶属文件名]和[隶属文件分块名]部分)中的[文本块];
请参考[示例输出]部分的Cypher语句依据[CYPHER_SCHEMA]部分提供的neo4j schema进行实体和关系抽取, 输出纯neo4j Cypher语句, 
[详细补充需求]
输出的Cypher语句不要分号, 不需要转义, 也不需要使用markdown语法等, 以便最后我可以通过字符串拼接直接导入neo4j数据库;
请保证你生成的语句可以多次执行而不出现重复定义问题;
请保证语法正确性;
请一定尽可能抽取Cypher语句, 当无法抽取符合主题的语句时输出\"// 空\"(不含引号)

// 定义节点属性示例
// 疾病节点
CREATE (:Disease {
    name: String,           // 疾病名称
    code: String,           // 疾病编码
    description: String,    // 疾病描述
    category: String,       // 疾病分类
    severity: String        // 严重程度
});

// 症状节点
CREATE (:Symptom {
    name: String,           // 症状名称
    description: String,    // 症状描述
    severity: String,       // 严重程度
    frequency: String       // 发生频率
});

// 检查项目节点
CREATE (:Examination {
    name: String,           // 检查名称
    description: String,    // 检查描述
    method: String,         // 检查方法
    requirement: String     // 检查要求
});

// 治疗方案节点
CREATE (:Treatment {
    name: String,           // 治疗名称
    type: String,           // 类型(药物/非药物)
    description: String,    // 治疗描述
    dosage: String,         // 剂量(药物)
    duration: String,       // 持续时间
    contraindication: String // 禁忌症
});

// 量表工具节点
CREATE (:Scale {
    name: String,           // 量表名称
    description: String,    // 量表描述
    score_range: String,    // 分数范围
    interpretation: String  // 结果解释
});

// 风险因素节点
CREATE (:RiskFactor {
    name: String,           // 因素名称
    description: String,    // 描述
    impact_level: String    // 影响程度
});

// 并发症节点
CREATE (:Complication {
    name: String,           // 并发症名称
    description: String,    // 描述
    severity: String        // 严重程度
});

// 定义关系类型
// 症状-疾病关系
CREATE (:Symptom)-[:INDICATES {
    confidence: Float,      // 置信度
    frequency: String,      // 发生频率
    severity: String        // 严重程度
}]->(:Disease);

// 疾病-检查关系
CREATE (:Disease)-[:REQUIRES_EXAM {
    priority: String,       // 优先级
    mandatory: Boolean      // 是否必需
}]->(:Examination);

// 疾病-治疗关系
CREATE (:Disease)-[:TREATED_BY {
    effectiveness: Float,   // 有效性
    priority: String,       // 优先级
    stage: String          // 治疗阶段
}]->(:Treatment);

// 疾病-并发症关系
CREATE (:Disease)-[:MAY_CAUSE {
    probability: Float,     // 发生概率
    timeframe: String      // 时间框架
}]->(:Complication);

// 疾病-风险因素关系
CREATE (:Disease)-[:INFLUENCED_BY {
    impact_level: String,   // 影响程度
    evidence_level: String  // 证据等级
}]->(:RiskFactor);

// 疾病-量表关系
CREATE (:Disease)-[:ASSESSED_BY {
    applicability: Float,   // 适用性
    recommendation_level: String  // 推荐级别
}]->(:Scale);

[关系抽取说明]
抽取时请重点关注[CYPHER_SCHEMA]中的这些实体节点: Disease Symptom Treatment Complication
以及这些关系INDICATES TREATED_BY INDICATES REQUIRES_EXAM;
请尽你可能抽取全部关系
[示例输出]
MERGE (d1:Disease {name: \"阻塞性睡眠呼吸暂停低通气综合征\", short_name: \"OSAHS\"})
MERGE (c1:Disease {name: \"高血压\"})
MERGE (c2:Disease {name: \"糖尿病\"})
MERGE (c1)-[:COMPLICATION_OF]->(d1)
MERGE (c2)-[:COMPLICATION_OF]->(d1)

[隶属文件名]
绝经相关失眠临床管理中国专家共识.md
[隶属文件分块名]
绝经相关失眠临床管理中国专家共识/013-6-小结.md
[文本块]
绝经相关失眠  
- 发生率高  
- 影响因素众多  
- 需详细询问病史  
- 全面评估患者身心状况  
- 建立多学科团队  
- 发挥多学科诊疗模式优势  
- 早期识别绝经相关失眠  
- 制订个体化药物治疗方案  
- 非药物管理策略  
- 提高(围)绝经期睡眠健康管理水平  

"""
response = """
// 节点更新
MERGE (n:Disease {name: '绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '与绝经相关的失眠症状'),
    n.category = coalesce(n.category, '睡眠障碍');

MERGE (n:Symptom {name: '发生率高'})
SET 
    n.description = coalesce(n.description, '绝经相关失眠的发生率较高'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '影响因素众多'})
SET 
    n.description = coalesce(n.description, '影响绝经相关失眠的因素包括多种'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '需详细询问病史'})
SET 
    n.description = coalesce(n.description, '需要详细询问病史以了解患者情况'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '全面评估患者身心状况'})
SET 
    n.description = coalesce(n.description, '需全面评估以制定治疗方案'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Symptom {name: '早期识别绝经相关失眠'})
SET 
    n.description = coalesce(n.description, '应早期识别该病症以便及时处理'),
    n.severity = coalesce(n.severity, '中'),
    n.frequency = coalesce(n.frequency, '常见');

MERGE (n:Treatment {name: '个体化药物治疗方案'})
SET 
    n.type = coalesce(n.type, '药物'),
    n.description = coalesce(n.description, '制定个体化的药物治疗方案以改善失眠'),
    n.dosage = coalesce(n.dosage, '依患者情况而定'),
    n.duration = coalesce(n.duration, '持续至症状改善'),
    n.contraindication = coalesce(n.contraindication, '对药物过敏者禁用');

MERGE (n:Treatment {name: '非药物管理策略'})
SET 
    n.type = coalesce(n.type, '非药物'),
    n.description = coalesce(n.description, '通过非药物方式管理绝经相关失眠'),
    n.dosage = coalesce(n.dosage, '无'),
    n.duration = coalesce(n.duration, '长期'),
    n.contraindication = coalesce(n.contraindication, '无');

// 关系更新
MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '发生率高'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '影响因素众多'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '需详细询问病史'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '全面评估患者身心状况'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '早期识别绝经相关失眠'
MERGE (from)-[r:INDICATES]->(to)
SET 
    r.confidence = coalesce(r.confidence, 0.9),
    r.frequency = coalesce(r.frequency, '常见'),
    r.severity = coalesce(r.severity, '中');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '个体化药物治疗方案'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.85),
    r.priority = coalesce(r.priority, '高'),
    r.stage = coalesce(r.stage, '早期');

MATCH (from) WHERE from.name = '绝经相关失眠'
MATCH (to) WHERE to.name = '非药物管理策略'
MERGE (from)-[r:TREATED_BY]->(to)
SET 
    r.effectiveness = coalesce(r.effectiveness, 0.75),
    r.priority = coalesce(r.priority, '中'),
    r.stage = coalesce(r.stage, '长期管理');

"""
