(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chooseSymptoms-chooseSymptoms","components-progress-bar-progress-bar"],{"023d":function(t,e,a){"use strict";a.r(e);var n=a("3bbf"),s=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},"177c":function(t,e,a){"use strict";a.r(e);var n=a("2e9e"),s=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},"2e9e":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa");var n={data:function(){return{steps:[{id:0,name:"症状选择",path:"/pages/chooseSymptoms/chooseSymptoms"},{id:1,name:"初步诊断",path:"/pages/diagnosisResult/diagnosisResult"},{id:2,name:"问卷调查",path:"/pages/test-questions/test-questions"},{id:3,name:"问卷分析",path:"/pages/diagnosis/diagnosis"},{id:4,name:"病历上传",path:"/pages/upload/upload"},{id:5,name:"最终诊断",path:"/pages/analysis_all/analysis_all"}]}},props:{currentStep:{type:Number,default:0}},methods:{navigateToStep:function(t){var e=t.currentTarget.dataset,a=e.path,n=e.index;n<=this.currentStep+1&&uni.navigateTo({url:a})}},created:function(){}};e.default=n},"3bbf":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a("b7c7"));a("4626"),a("5ac7"),a("5ef2"),a("aa9c"),a("dd2b");var o=n(a("7b50")),i=n(a("7b50")),r={components:{progressBar:o.default},data:function(){return{symptomCategories:[],selectedSymptoms:[],currentStep:0,symptom:{internal_name:"",name:"",description:"",related_scales:[]},scale:""}},onLoad:function(){this.fetchSymptoms()},methods:{updateStep:function(t){this.setData({currentStep:t})},fetchSymptoms:function(){var t=this;uni.request({url:"http://bobby.ipyingshe.net:22630/query",method:"GET",success:function(e){t.setData({symptomCategories:e.data})},fail:function(t){console.error("获取症状数据失败:",t),uni.showToast({title:"数据加载失败",icon:"none"})}})},isSelected:function(t){return console.log(this.selectedSymptoms.includes(t)),this.selectedSymptoms.includes(t)},toggleSymptom:function(t){var e=t.currentTarget.dataset.name,a=(0,s.default)(this.selectedSymptoms),n=a.indexOf(e);-1===n?a.push(e):a.splice(n,1),console.log("选中的症状：",a),this.setData({selectedSymptoms:a})},viewDiagnosis:function(){0!==this.selectedSymptoms.length?(getApp().globalData.symptoms=this.selectedSymptoms,uni.showToast({title:"保存成功",icon:"success",duration:1500,success:function(){setTimeout((function(){uni.navigateTo({url:"/pages/diagnosisResult/diagnosisResult"})}),1500)}})):uni.showToast({title:"请至少选择一个症状",icon:"none",duration:2e3})}}};e.default=r,e.default.components=Object.assign({"progress-bar":i.default},e.default.components||{})},"41b7":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={progressBar:a("7b50").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("progress-bar",{attrs:{"current-step":t.currentStep}}),a("v-uni-view",{staticClass:"page-container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"header-content"},[a("v-uni-text",{staticClass:"page-title"},[t._v("症状选择")]),a("v-uni-text",{staticClass:"page-subtitle"},[t._v("若您存在下述问题，我们建议您完成标签内所示的问卷完成自查")])],1),a("v-uni-button",{staticClass:"complete-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.viewDiagnosis.apply(void 0,arguments)}}},[t._v("下一步")])],1),a("v-uni-view",{staticClass:"content"},[t._l(t.symptomCategories,(function(e,n){return[a("v-uni-view",{key:n+"_0",staticClass:"category-section"},[a("v-uni-view",{staticClass:"category-title"},[t._v(t._s(e.category))]),a("v-uni-scroll-view",{staticClass:"symptoms-scroll",attrs:{"scroll-x":!0,enhanced:!0,"show-scrollbar":!1}},[a("v-uni-view",{staticClass:"symptoms-container"},t._l(e.symptoms,(function(e,s){return a("v-uni-view",{key:s,class:"symptom-card "+(t.utils.isSelected(t.selectedSymptoms,e.internal_name)?"selected":""),attrs:{"data-name":e.internal_name},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleSymptom.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"symptom-content"},[a("v-uni-view",{staticClass:"symptom-name"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"symptom-description"},[t._v(t._s(e.description))]),e.related_scales.length>0?a("v-uni-view",{staticClass:"related-scales"},t._l(e.related_scales,(function(e,s){return a("v-uni-view",{key:s,class:"scale-tag "+t.utils.getTagClass(n)},[t._v(t._s(e))])})),1):t._e()],1)],1)})),1)],1)],1)]}))],2)],1)],1)},o=[]},"52fe":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"nav-container"},[a("v-uni-view",{staticClass:"progress-bar"},[a("v-uni-view",{staticClass:"progress-track"},[a("v-uni-view",{staticClass:"progress-fill",style:"width: "+20*t.currentStep+"%"})],1),a("v-uni-view",{staticClass:"steps-wrapper"},t._l(t.steps,(function(e,n){return a("v-uni-view",{key:n,class:"step-item "+(t.currentStep>=n?"completed":"")+" "+(t.currentStep==n?"current":""),attrs:{"data-path":e.path,"data-index":n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateToStep.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"step-circle"},[a("v-uni-view",{staticClass:"circle-content"},[t.currentStep>n?a("v-uni-text",{staticClass:"check-icon"},[t._v("✓")]):a("v-uni-text",[t._v(t._s(n+1))])],1)],1),a("v-uni-view",{staticClass:"step-label"},[t._v(t._s(e.name))])],1)})),1)],1)],1)},s=[]},"653a":function(t,e,a){"use strict";a.r(e);var n=a("41b7"),s=a("023d");for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("dee8");var i=a("828b"),r=a("f190"),d=Object(i["a"])(s["default"],n["b"],n["c"],!1,null,"77edfff8",null,!1,n["a"],void 0);"function"===typeof r["a"]&&Object(r["a"])(d),e["default"]=d.exports},"69df":function(t,e,a){"use strict";var n=a("d319"),s=a.n(n);s.a},7848:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* components/progress-bar/progress-bar.wxss */.nav-container[data-v-10ebe0d6]{width:100%;background:#fff;padding:%?20?% %?30?%;box-sizing:border-box;margin-bottom:%?20?% /* 添加底部间距 */}.progress-bar[data-v-10ebe0d6]{position:relative;padding:%?30?% 0}.progress-track[data-v-10ebe0d6]{position:absolute;top:%?60?%;left:8%;width:84%;height:%?4?%;background:#e8e8e8;border-radius:%?2?%}.progress-fill[data-v-10ebe0d6]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#4a90e2,#64b5f6);border-radius:%?2?%;transition:width .3s ease}.steps-wrapper[data-v-10ebe0d6]{position:relative;display:flex;justify-content:space-between;padding:0 %?20?%}.step-item[data-v-10ebe0d6]{display:flex;flex-direction:column;align-items:center;position:relative;flex:1;z-index:1}.step-circle[data-v-10ebe0d6]{width:%?48?%;height:%?48?%;border-radius:50%;background:#fff;border:%?3?% solid #e8e8e8;display:flex;align-items:center;justify-content:center;margin-bottom:%?16?%;transition:all .3s ease;font-size:%?24?%;color:#999}.circle-content[data-v-10ebe0d6]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.step-label[data-v-10ebe0d6]{font-size:%?24?%;color:#999;transition:all .3s ease;text-align:center;white-space:nowrap;-webkit-transform:scale(.9);transform:scale(.9) /* 稍微缩小文字以适应窄屏 */}\n/* 已完成步骤的样式 */.step-item.completed .step-circle[data-v-10ebe0d6]{background:#4a90e2;border-color:#4a90e2;color:#fff}.step-item.completed .step-label[data-v-10ebe0d6]{color:#4a90e2}\n/* 当前步骤的样式 */.step-item.current .step-circle[data-v-10ebe0d6]{background:#fff;border-color:#4a90e2;color:#4a90e2;box-shadow:0 0 0 %?4?% rgba(74,144,226,.2)}.step-item.current .step-label[data-v-10ebe0d6]{color:#4a90e2;font-weight:500}.check-icon[data-v-10ebe0d6]{font-size:%?24?%;font-weight:700}\n/* 动画效果 */.step-item[data-v-10ebe0d6]{transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.step-item[data-v-10ebe0d6]:active{-webkit-transform:scale(.95);transform:scale(.95)}\n/* 适配深色模式 */@media (prefers-color-scheme:dark){.nav-container[data-v-10ebe0d6]{background:#2c2c2c}.progress-track[data-v-10ebe0d6]{background:#404040}.step-circle[data-v-10ebe0d6]{background:#2c2c2c;border-color:#404040}.step-item.current .step-circle[data-v-10ebe0d6]{background:#2c2c2c}}\n/* 响应式调整 */@media screen and (max-width:375px){.step-label[data-v-10ebe0d6]{-webkit-transform:scale(.85);transform:scale(.85)}.step-circle[data-v-10ebe0d6]{width:%?44?%;height:%?44?%}}",""]),t.exports=e},"7b50":function(t,e,a){"use strict";a.r(e);var n=a("52fe"),s=a("177c");for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("69df");var i=a("828b"),r=Object(i["a"])(s["default"],n["b"],n["c"],!1,null,"10ebe0d6",null,!1,n["a"],void 0);e["default"]=r.exports},b603:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'.page-container[data-v-77edfff8]{min-height:100vh;background:#f5f6fa;padding:0 0 %?40?% 0}.header[data-v-77edfff8]{position:-webkit-sticky;position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:flex-start; /* 改为顶部对齐 */padding:%?20?% %?30?%;background:#fff;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.header-content[data-v-77edfff8]{flex:1;margin-right:%?20?%}.page-title[data-v-77edfff8]{font-size:%?34?%;font-weight:600;color:#333;display:block;margin-bottom:%?8?%}.page-subtitle[data-v-77edfff8]{font-size:%?24?%;color:#666;line-height:1.4;display:block}.complete-button[data-v-77edfff8]{margin:0;padding:0 %?30?%;height:%?64?%;line-height:%?64?%;font-size:%?28?%;color:#fff;background:#4a90e2;border-radius:%?32?%;flex-shrink:0}.content[data-v-77edfff8]{padding:%?20?%}.category-section[data-v-77edfff8]{margin-bottom:%?40?%}.category-title[data-v-77edfff8]{font-size:%?30?%;font-weight:600;color:#333;padding:%?20?% %?10?%;position:relative;padding-left:%?20?%}.category-title[data-v-77edfff8]::before{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:%?6?%;height:%?28?%;background:#4a90e2;border-radius:%?3?%}.symptoms-scroll[data-v-77edfff8]{width:100%;white-space:nowrap}.symptoms-container[data-v-77edfff8]{display:inline-flex;padding:%?10?% 0}.symptom-card[data-v-77edfff8]{width:%?300?%;margin-right:%?20?%;border-radius:%?16?%;background:#fff;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05);transition:all .3s ease;overflow:hidden}.symptom-content[data-v-77edfff8]{padding:%?20?%}.symptom-card.selected[data-v-77edfff8]{background:#ebf3fc;border:%?2?% solid #4a90e2}.symptom-name[data-v-77edfff8]{font-size:%?28?%;font-weight:600;color:#333;margin-bottom:%?12?%}.symptom-description[data-v-77edfff8]{font-size:%?24?%;color:#666;line-height:1.5;white-space:normal;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;margin-bottom:%?16?%}.related-scales[data-v-77edfff8]{margin-top:%?16?%;display:flex;flex-wrap:wrap;gap:%?8?%}.scale-tag[data-v-77edfff8]{font-size:%?20?%;padding:%?4?% %?12?%;border-radius:%?20?%;white-space:nowrap;transition:all .3s ease}\n\n/* 不同颜色的标签样式 */.tag-0[data-v-77edfff8]{background:rgba(74,144,226,.1);color:#4a90e2}.tag-1[data-v-77edfff8]{background:rgba(80,205,137,.1);color:#50cd89}.tag-2[data-v-77edfff8]{background:rgba(255,199,0,.1);color:#ffc700}.tag-3[data-v-77edfff8]{background:rgba(241,65,108,.1);color:#f1416c}.tag-4[data-v-77edfff8]{background:rgba(180,93,255,.1);color:#b45dff}\n\n/* 选中状态下的标签样式 */.symptom-card.selected .tag-0[data-v-77edfff8]{background:rgba(74,144,226,.2);color:#4a90e2}.symptom-card.selected .tag-1[data-v-77edfff8]{background:rgba(80,205,137,.2);color:#50cd89}.symptom-card.selected .tag-2[data-v-77edfff8]{background:rgba(255,199,0,.2);color:#ffc700}.symptom-card.selected .tag-3[data-v-77edfff8]{background:rgba(241,65,108,.2);color:#f1416c}.symptom-card.selected .tag-4[data-v-77edfff8]{background:rgba(180,93,255,.2);color:#b45dff}.button-container[data-v-77edfff8]{position:fixed;bottom:0;left:0;right:0;padding:%?20?% %?30?%;background:#fff;box-shadow:0 %?-2?% %?10?% rgba(0,0,0,.05)}\n\n/* 添加触摸反馈效果 */.symptom-card[data-v-77edfff8]:active{-webkit-transform:scale(.98);transform:scale(.98);transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.complete-button[data-v-77edfff8]:active{opacity:.9}\n\n/* 添加滚动条样式 */[data-v-77edfff8]::-webkit-scrollbar{width:0;height:0;background:transparent}\n\n/* 适配深色模式 */@media (prefers-color-scheme:dark){.page-container[data-v-77edfff8]{background:#1a1a1a}.header[data-v-77edfff8]{background:#2c2c2c}.page-title[data-v-77edfff8]{color:#fff}.page-subtitle[data-v-77edfff8]{color:#999}.category-title[data-v-77edfff8]{color:#fff}.symptom-card[data-v-77edfff8]{background:#2c2c2c}.symptom-name[data-v-77edfff8]{color:#fff}.symptom-description[data-v-77edfff8]{color:#999}.symptom-card.selected[data-v-77edfff8]{background:rgba(74,144,226,.15)}.button-container[data-v-77edfff8]{background:#2c2c2c}\n\n    /* 深色模式下的标签样式调整 */.scale-tag[data-v-77edfff8]{opacity:.9}}\n\n/* 添加动画效果 */@-webkit-keyframes fadeIn-data-v-77edfff8{from{opacity:0;-webkit-transform:translateY(%?20?%);transform:translateY(%?20?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeIn-data-v-77edfff8{from{opacity:0;-webkit-transform:translateY(%?20?%);transform:translateY(%?20?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.category-section[data-v-77edfff8]{-webkit-animation:fadeIn-data-v-77edfff8 .5s ease-out forwards;animation:fadeIn-data-v-77edfff8 .5s ease-out forwards}\n\n/* 为不同类别设置不同的动画延迟 */.category-section[data-v-77edfff8]:nth-child(1){-webkit-animation-delay:.1s;animation-delay:.1s}.category-section[data-v-77edfff8]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.category-section[data-v-77edfff8]:nth-child(3){-webkit-animation-delay:.3s;animation-delay:.3s}.category-section[data-v-77edfff8]:nth-child(4){-webkit-animation-delay:.4s;animation-delay:.4s}.category-section[data-v-77edfff8]:nth-child(5){-webkit-animation-delay:.5s;animation-delay:.5s}\n\n/* 响应式调整 */@media screen and (min-width:768px){.symptom-card[data-v-77edfff8]{width:%?400?%}.header[data-v-77edfff8]{padding:%?30?% %?40?%}.page-title[data-v-77edfff8]{font-size:%?38?%}}\n\n/* 添加加载状态样式 */.loading[data-v-77edfff8]{text-align:center;padding:%?30?%;color:#999}.loading-spinner[data-v-77edfff8]{width:%?40?%;height:%?40?%;border:%?4?% solid #f3f3f3;border-top:%?4?% solid #4a90e2;border-radius:50%;-webkit-animation:spin-data-v-77edfff8 1s linear infinite;animation:spin-data-v-77edfff8 1s linear infinite;margin:0 auto %?20?%}@-webkit-keyframes spin-data-v-77edfff8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-77edfff8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},cf00:function(t,e,a){var n=a("b603");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("967d").default;s("79669b66",n,!0,{sourceMap:!1,shadowMode:!1})},d319:function(t,e,a){var n=a("7848");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("967d").default;s("230c1372",n,!0,{sourceMap:!1,shadowMode:!1})},dee8:function(t,e,a){"use strict";var n=a("cf00"),s=a.n(n);s.a},f190:function(t,e,a){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["utils"]=function(t){return t.exports={isSelected:function(t,e){return-1!==t.indexOf(e)},getTagClass:function(t){var e=["tag-0","tag-1","tag-2","tag-3","tag-4"];return e[t%e.length]}},t.exports}({exports:{}})}}}]);