(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-record-record"],{"0d7e":function(t,e,a){"use strict";a.r(e);var i=a("9f82"),n=a("219a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("a27a");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"36903002",null,!1,i["a"],void 0);e["default"]=r.exports},1851:function(t,e,a){"use strict";var i=a("8bdb"),n=a("84d6"),s=a("1cb5");i({target:"Array",proto:!0},{fill:n}),s("fill")},"219a":function(t,e,a){"use strict";a.r(e);var i=a("a590"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"449f":function(t,e,a){var i=a("bca2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("45f1cfb6",i,!0,{sourceMap:!1,shadowMode:!1})},"9f82":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"status-bar"},[a("v-uni-text",{staticClass:"status-bar-title"},[t._v("睡眠记录")])],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"summary-card"},[a("v-uni-view",{staticClass:"time-range"},t._l(t.timeRanges,(function(e,i){return a("v-uni-view",{key:i,class:"range-item "+(t.currentRange===e.id?"active":""),attrs:{"data-range":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTimeRange.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1),a("v-uni-view",{staticClass:"stats-grid"},[a("v-uni-view",{staticClass:"stats-item"},[a("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageDuration)+"h")]),a("v-uni-text",{staticClass:"stats-label"},[t._v("平均睡眠时长")])],1),a("v-uni-view",{staticClass:"stats-item"},[a("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageQuality)+"%")]),a("v-uni-text",{staticClass:"stats-label"},[t._v("平均睡眠质量")])],1),a("v-uni-view",{staticClass:"stats-item"},[a("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageDeepSleep)+"h")]),a("v-uni-text",{staticClass:"stats-label"},[t._v("平均深睡时长")])],1)],1),a("v-uni-view",{staticClass:"trend-info"},[a("v-uni-image",{staticClass:"trend-icon",attrs:{src:"/assets/icons/"+(t.sleepTrend.improving?"trend-up":"trend-down")+".png"}}),a("v-uni-text",{staticClass:"trend-text"},[t._v("较上周"+t._s(t.sleepTrend.improving?"提升":"下降")+t._s(t.sleepTrend.percentage)+"%")])],1)],1),a("v-uni-view",{staticClass:"chart-card"},[a("v-uni-view",{staticClass:"chart-title"},[t._v("睡眠时长趋势")]),a("v-uni-canvas",{staticClass:"sleep-chart",attrs:{type:"2d",id:"sleepChart"}})],1),a("v-uni-view",{staticClass:"record-list"},[a("v-uni-view",{staticClass:"list-title"},[t._v("详细记录")]),t._l(t.sleepData.weekData,(function(e,i){return a("v-uni-view",{key:i,staticClass:"record-item",attrs:{"data-date":e.date},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.viewDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"record-date"},[a("v-uni-text",{staticClass:"date-text"},[t._v(t._s(e.date))])],1),a("v-uni-view",{staticClass:"record-info"},[a("v-uni-view",{staticClass:"info-item"},[a("v-uni-text",{staticClass:"info-label"},[t._v("时长")]),a("v-uni-text",{staticClass:"info-value"},[t._v(t._s(e.duration)+"h")])],1),a("v-uni-view",{staticClass:"info-item"},[a("v-uni-text",{staticClass:"info-label"},[t._v("质量")]),a("v-uni-text",{staticClass:"info-value"},[t._v(t._s(e.quality)+"%")])],1),a("v-uni-view",{staticClass:"info-item"},[a("v-uni-text",{staticClass:"info-label"},[t._v("深睡")]),a("v-uni-text",{staticClass:"info-value"},[t._v(t._s(e.deepSleep)+"h")])],1)],1),a("v-uni-image",{staticClass:"arrow-icon",attrs:{src:"/static/assets/icons/arrow-right.png"}})],1)}))],2)],1)],1)},n=[]},a27a:function(t,e,a){"use strict";var i=a("449f"),n=a.n(i);n.a},a590:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("5c47"),a("bf0f"),a("2797"),a("1851");var i={data:function(){return{timeRanges:[{id:"week",name:"周"},{id:"month",name:"月"},{id:"year",name:"年"}],currentRange:"week",sleepData:{weekData:[{date:"11-19",duration:7.5,quality:85,deepSleep:2.5},{date:"11-20",duration:6.8,quality:75,deepSleep:2.2},{date:"11-21",duration:7.2,quality:82,deepSleep:2.4},{date:"11-22",duration:8,quality:90,deepSleep:2.8},{date:"11-23",duration:7,quality:78,deepSleep:2.3},{date:"11-24",duration:7.8,quality:88,deepSleep:2.6},{date:"11-25",duration:7.4,quality:83,deepSleep:2.4}]},statistics:{averageDuration:7.4,averageQuality:83,averageDeepSleep:2.5,bestQuality:90,worstQuality:75},sleepTrend:{improving:!0,percentage:15}}},onLoad:function(){this.initCanvas()},methods:{changeTimeRange:function(t){var e=t.currentTarget.dataset.range;this.setData({currentRange:e}),this.updateChart()},initCanvas:function(){var t=this,e=uni.createSelectorQuery();e.select("#sleepChart").fields({node:!0,size:!0}).exec((function(e){var a=e[0].node,i=a.getContext("2d"),n=uni.getSystemInfoSync().pixelRatio;a.width=e[0].width*n,a.height=e[0].height*n,i.scale(n,n),t.canvas=a,t.ctx=i,t.updateChart()}))},updateChart:function(){var t=this.ctx,e=this.sleepData.weekData,a=this.canvas,i=a.width/uni.getSystemInfoSync().pixelRatio,n=a.height/uni.getSystemInfoSync().pixelRatio,s={left:60,right:30,top:30,bottom:50};t.clearRect(0,0,i,n),t.font="12px Arial",t.fillStyle="#666666";for(var o=i-s.left-s.right,r=n-s.top-s.bottom,l=0;l<=6;l++){var d=s.top+r*(1-l/6),c=0+2*l;t.fillStyle="#666666",t.textAlign="right",t.fillText(c+"时",s.left-10,d+4),t.beginPath(),t.strokeStyle="#E0E0E0",t.lineWidth=.5,t.moveTo(s.left,d),t.lineTo(i-s.right,d),t.stroke()}e.forEach((function(a,i){var r=s.left+i*(o/(e.length-1));t.fillStyle="#666666",t.textAlign="center",t.fillText(a.date,r,n-s.bottom+20),t.beginPath(),t.strokeStyle="#E0E0E0",t.lineWidth=.5,t.moveTo(r,s.top),t.lineTo(r,n-s.bottom),t.stroke()})),t.beginPath(),t.strokeStyle="#4A6FEB",t.lineWidth=2,e.forEach((function(a,i){var n=s.left+i*(o/(e.length-1)),l=s.top+r*(1-a.duration/12);0===i?t.moveTo(n,l):t.lineTo(n,l),t.fillStyle="#FFFFFF",t.beginPath(),t.arc(n,l,4,0,2*Math.PI),t.fill(),t.strokeStyle="#4A6FEB",t.lineWidth=2,t.stroke(),t.fillStyle="#4A6FEB",t.textAlign="center",t.fillText(a.duration+"时",n,l-10)})),t.stroke(),t.beginPath(),t.strokeStyle="#999999",t.lineWidth=1,t.moveTo(s.left,s.top),t.lineTo(s.left,n-s.bottom),t.moveTo(s.left,n-s.bottom),t.lineTo(i-s.right,n-s.bottom),t.stroke()},viewDetail:function(t){var e=t.currentTarget.dataset.date;uni.navigateTo({url:"/pages/sleep-detail/sleep-detail?date=".concat(e)})}}};e.default=i},bca2:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".container[data-v-36903002]{width:100%;min-height:100vh;background-color:#f5f6fa}.status-bar[data-v-36903002]{width:100%;height:%?88?%;background-color:#fff;display:flex;align-items:center;justify-content:center;position:fixed;top:0;z-index:100;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.status-bar-title[data-v-36903002]{font-size:%?36?%;font-weight:700;color:#333}.content[data-v-36903002]{margin-top:%?88?%;padding:%?30?%}.summary-card[data-v-36903002]{background-color:#fff;border-radius:%?20?%;padding:%?30?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.time-range[data-v-36903002]{display:flex;justify-content:center;gap:%?20?%;margin-bottom:%?30?%}.range-item[data-v-36903002]{padding:%?10?% %?30?%;border-radius:%?25?%;font-size:%?28?%;color:#666;background-color:#f5f6fa;transition:all .3s ease}.range-item.active[data-v-36903002]{background-color:#4a6feb;color:#fff}.stats-grid[data-v-36903002]{display:grid;grid-template-columns:repeat(3,1fr);gap:%?20?%;margin-bottom:%?30?%}.stats-item[data-v-36903002]{display:flex;flex-direction:column;align-items:center;padding:%?20?%;background-color:#f8f9fd;border-radius:%?15?%}.stats-value[data-v-36903002]{font-size:%?36?%;font-weight:700;color:#4a6feb;margin-bottom:%?10?%}.stats-label[data-v-36903002]{font-size:%?24?%;color:#666}.trend-info[data-v-36903002]{display:flex;align-items:center;justify-content:center;gap:%?10?%}.trend-icon[data-v-36903002]{width:%?32?%;height:%?32?%}.trend-text[data-v-36903002]{font-size:%?26?%;color:#666}.chart-card[data-v-36903002]{margin-top:%?30?%;background-color:#fff;border-radius:%?20?%;padding:%?30?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.chart-title[data-v-36903002]{font-size:%?30?%;font-weight:700;color:#333;margin-bottom:%?20?%}.sleep-chart[data-v-36903002]{width:100%;height:%?400?%}.record-list[data-v-36903002]{margin-top:%?30?%}.list-title[data-v-36903002]{font-size:%?30?%;font-weight:700;color:#333;margin-bottom:%?20?%}.record-item[data-v-36903002]{background-color:#fff;border-radius:%?15?%;padding:%?30?%;margin-bottom:%?20?%;display:flex;align-items:center;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.record-date[data-v-36903002]{margin-right:%?30?%}.date-text[data-v-36903002]{font-size:%?28?%;color:#333;font-weight:700}.record-info[data-v-36903002]{flex:1;display:flex;gap:%?30?%}.info-item[data-v-36903002]{display:flex;flex-direction:column}.info-label[data-v-36903002]{font-size:%?24?%;color:#666;margin-bottom:%?5?%}.info-value[data-v-36903002]{font-size:%?28?%;color:#333;font-weight:700}.arrow-icon[data-v-36903002]{width:%?32?%;height:%?32?%}",""]),t.exports=e}}]);