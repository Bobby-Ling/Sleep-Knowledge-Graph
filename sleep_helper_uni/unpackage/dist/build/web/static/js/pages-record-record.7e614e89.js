(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-record-record"],{"0d7e":function(t,a,e){"use strict";e.r(a);var i=e("2970"),n=e("219a");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("b763");var o=e("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"d38d981a",null,!1,i["a"],void 0);a["default"]=r.exports},1851:function(t,a,e){"use strict";var i=e("8bdb"),n=e("84d6"),s=e("1cb5");i({target:"Array",proto:!0},{fill:n}),s("fill")},"219a":function(t,a,e){"use strict";e.r(a);var i=e("a590"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},2970:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"status-bar"},[e("v-uni-text",{staticClass:"status-bar-title"},[t._v("睡眠记录")])],1),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"summary-card"},[e("v-uni-view",{staticClass:"time-range"},t._l(t.timeRanges,(function(a,i){return e("v-uni-view",{key:i,class:"range-item "+(t.currentRange===a.id?"active":""),attrs:{"data-range":a.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTimeRange.apply(void 0,arguments)}}},[t._v(t._s(a.name))])})),1),e("v-uni-view",{staticClass:"stats-grid"},[e("v-uni-view",{staticClass:"stats-item"},[e("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageDuration)+"h")]),e("v-uni-text",{staticClass:"stats-label"},[t._v("平均睡眠时长")])],1),e("v-uni-view",{staticClass:"stats-item"},[e("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageQuality)+"%")]),e("v-uni-text",{staticClass:"stats-label"},[t._v("平均睡眠质量")])],1),e("v-uni-view",{staticClass:"stats-item"},[e("v-uni-text",{staticClass:"stats-value"},[t._v(t._s(t.statistics.averageDeepSleep)+"h")]),e("v-uni-text",{staticClass:"stats-label"},[t._v("平均深睡时长")])],1)],1),e("v-uni-view",{staticClass:"trend-info"},[e("v-uni-image",{staticClass:"trend-icon",attrs:{src:"/assets/icons/"+(t.sleepTrend.improving?"trend-up":"trend-down")+".png"}}),e("v-uni-text",{staticClass:"trend-text"},[t._v("较上周"+t._s(t.sleepTrend.improving?"提升":"下降")+t._s(t.sleepTrend.percentage)+"%")])],1)],1),e("v-uni-view",{staticClass:"chart-card"},[e("v-uni-view",{staticClass:"chart-title"},[t._v("睡眠时长趋势")]),e("v-uni-canvas",{staticClass:"sleep-chart",attrs:{type:"2d",id:"sleepChart"}})],1),e("v-uni-view",{staticClass:"record-list"},[e("v-uni-view",{staticClass:"list-title"},[t._v("详细记录")]),t._l(t.sleepData.weekData,(function(a,i){return e("v-uni-view",{key:i,staticClass:"record-item",attrs:{"data-date":a.date},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.viewDetail.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"record-date"},[e("v-uni-text",{staticClass:"date-text"},[t._v(t._s(a.date))])],1),e("v-uni-view",{staticClass:"record-info"},[e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("时长")]),e("v-uni-text",{staticClass:"info-value"},[t._v(t._s(a.duration)+"h")])],1),e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("质量")]),e("v-uni-text",{staticClass:"info-value"},[t._v(t._s(a.quality)+"%")])],1),e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("深睡")]),e("v-uni-text",{staticClass:"info-value"},[t._v(t._s(a.deepSleep)+"h")])],1)],1),e("v-uni-image",{staticClass:"arrow-icon",attrs:{src:"/static/assets/icons/arrow-right.png"}})],1)}))],2)],1)],1)},n=[]},"41c1":function(t,a,e){var i=e("d706");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("60fc25b6",i,!0,{sourceMap:!1,shadowMode:!1})},a590:function(t,a,e){"use strict";e("6a54"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("5c47"),e("bf0f"),e("2797"),e("1851");var i={data:function(){return{timeRanges:[{id:"week",name:"周"},{id:"month",name:"月"},{id:"year",name:"年"}],currentRange:"week",sleepData:{weekData:[{date:"11-19",duration:7.5,quality:85,deepSleep:2.5},{date:"11-20",duration:6.8,quality:75,deepSleep:2.2},{date:"11-21",duration:7.2,quality:82,deepSleep:2.4},{date:"11-22",duration:8,quality:90,deepSleep:2.8},{date:"11-23",duration:7,quality:78,deepSleep:2.3},{date:"11-24",duration:7.8,quality:88,deepSleep:2.6},{date:"11-25",duration:7.4,quality:83,deepSleep:2.4}]},statistics:{averageDuration:7.4,averageQuality:83,averageDeepSleep:2.5,bestQuality:90,worstQuality:75},sleepTrend:{improving:!0,percentage:15}}},onLoad:function(){this.initCanvas()},methods:{changeTimeRange:function(t){var a=t.currentTarget.dataset.range;this.setData({currentRange:a}),this.updateChart()},initCanvas:function(){var t=this,a=uni.createSelectorQuery();a.select("#sleepChart").fields({node:!0,size:!0}).exec((function(a){var e=a[0].node,i=e.getContext("2d"),n=uni.getSystemInfoSync().pixelRatio;e.width=a[0].width*n,e.height=a[0].height*n,i.scale(n,n),t.canvas=e,t.ctx=i,t.updateChart()}))},updateChart:function(){var t=this.ctx,a=this.sleepData.weekData,e=this.canvas,i=e.width/uni.getSystemInfoSync().pixelRatio,n=e.height/uni.getSystemInfoSync().pixelRatio,s={left:60,right:30,top:30,bottom:50};t.clearRect(0,0,i,n),t.font="12px Arial",t.fillStyle="#666666";for(var o=i-s.left-s.right,r=n-s.top-s.bottom,d=0;d<=6;d++){var l=s.top+r*(1-d/6),c=0+2*d;t.fillStyle="#666666",t.textAlign="right",t.fillText(c+"时",s.left-10,l+4),t.beginPath(),t.strokeStyle="#E0E0E0",t.lineWidth=.5,t.moveTo(s.left,l),t.lineTo(i-s.right,l),t.stroke()}a.forEach((function(e,i){var r=s.left+i*(o/(a.length-1));t.fillStyle="#666666",t.textAlign="center",t.fillText(e.date,r,n-s.bottom+20),t.beginPath(),t.strokeStyle="#E0E0E0",t.lineWidth=.5,t.moveTo(r,s.top),t.lineTo(r,n-s.bottom),t.stroke()})),t.beginPath(),t.strokeStyle="#4A6FEB",t.lineWidth=2,a.forEach((function(e,i){var n=s.left+i*(o/(a.length-1)),d=s.top+r*(1-e.duration/12);0===i?t.moveTo(n,d):t.lineTo(n,d),t.fillStyle="#FFFFFF",t.beginPath(),t.arc(n,d,4,0,2*Math.PI),t.fill(),t.strokeStyle="#4A6FEB",t.lineWidth=2,t.stroke(),t.fillStyle="#4A6FEB",t.textAlign="center",t.fillText(e.duration+"时",n,d-10)})),t.stroke(),t.beginPath(),t.strokeStyle="#999999",t.lineWidth=1,t.moveTo(s.left,s.top),t.lineTo(s.left,n-s.bottom),t.moveTo(s.left,n-s.bottom),t.lineTo(i-s.right,n-s.bottom),t.stroke()},viewDetail:function(t){var a=t.currentTarget.dataset.date;uni.navigateTo({url:"/pages/sleep-detail/sleep-detail?date=".concat(a)})}}};a.default=i},b763:function(t,a,e){"use strict";var i=e("41c1"),n=e.n(i);n.a},d706:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,".container[data-v-d38d981a]{width:100%;min-height:100vh;background-color:#f5f6fa}.status-bar[data-v-d38d981a]{width:100%;height:%?88?%;background-color:#fff;display:flex;align-items:center;justify-content:center;position:fixed;top:0;z-index:100;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.status-bar-title[data-v-d38d981a]{font-size:%?36?%;font-weight:700;color:#333}.content[data-v-d38d981a]{margin-top:%?88?%;padding:%?30?%}.summary-card[data-v-d38d981a]{background-color:#fff;border-radius:%?20?%;padding:%?30?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05);margin-top:%?-200?%}.time-range[data-v-d38d981a]{display:flex;justify-content:center;gap:%?20?%;margin-bottom:%?30?%}.range-item[data-v-d38d981a]{padding:%?10?% %?30?%;border-radius:%?25?%;font-size:%?28?%;color:#666;background-color:#f5f6fa;transition:all .3s ease}.range-item.active[data-v-d38d981a]{background-color:#4a6feb;color:#fff}.stats-grid[data-v-d38d981a]{display:grid;grid-template-columns:repeat(3,1fr);gap:%?20?%;margin-bottom:%?30?%}.stats-item[data-v-d38d981a]{display:flex;flex-direction:column;align-items:center;padding:%?20?%;background-color:#f8f9fd;border-radius:%?15?%}.stats-value[data-v-d38d981a]{font-size:%?36?%;font-weight:700;color:#4a6feb;margin-bottom:%?10?%}.stats-label[data-v-d38d981a]{font-size:%?24?%;color:#666}.trend-info[data-v-d38d981a]{display:flex;align-items:center;justify-content:center;gap:%?10?%}.trend-icon[data-v-d38d981a]{width:%?32?%;height:%?32?%}.trend-text[data-v-d38d981a]{font-size:%?26?%;color:#666}.chart-card[data-v-d38d981a]{margin-top:%?30?%;background-color:#fff;border-radius:%?20?%;padding:%?30?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.chart-title[data-v-d38d981a]{font-size:%?30?%;font-weight:700;color:#333;margin-bottom:%?20?%}.sleep-chart[data-v-d38d981a]{width:100%;height:%?400?%}.record-list[data-v-d38d981a]{margin-top:%?30?%}.list-title[data-v-d38d981a]{font-size:%?30?%;font-weight:700;color:#333;margin-bottom:%?20?%}.record-item[data-v-d38d981a]{background-color:#fff;border-radius:%?15?%;padding:%?30?%;margin-bottom:%?20?%;display:flex;align-items:center;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.05)}.record-date[data-v-d38d981a]{margin-right:%?30?%}.date-text[data-v-d38d981a]{font-size:%?28?%;color:#333;font-weight:700}.record-info[data-v-d38d981a]{flex:1;display:flex;gap:%?30?%}.info-item[data-v-d38d981a]{display:flex;flex-direction:column}.info-label[data-v-d38d981a]{font-size:%?24?%;color:#666;margin-bottom:%?5?%}.info-value[data-v-d38d981a]{font-size:%?28?%;color:#333;font-weight:700}.arrow-icon[data-v-d38d981a]{width:%?32?%;height:%?32?%}",""]),t.exports=a}}]);